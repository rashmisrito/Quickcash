import{u as ne,R as m,f as re,r as oe,j as e}from"./index-BoluCWJx.js";import{j as I,a as P,B as L}from"./App-DmzB4KYc.js";import{h as z}from"./moment-Cl4UOzQZ.js";import{P as T}from"./index-BdYMM15t.js";import{d as le}from"./Edit-CH6dsSy4.js";import{d as de}from"./Delete-Dp-PDRDy.js";import{d as ce}from"./MoreVert-B6kxjoT-.js";import{T as he,a as me,d as H,b as W}from"./FirstPage-D-q8dQKx.js";import{C as _}from"./ColorButton-DVQMk-mO.js";import{d as pe}from"./Visibility-BsKUHnXG.js";import{d as V}from"./KeyboardArrowLeft-BnxO58n6.js";import{d as E}from"./KeyboardArrowRight-D7Z7eVgG.js";import{B as y}from"./Box-B48tCTAh.js";import{G as ge,u as ue}from"./Grid-CDAIVjPl.js";import{T as xe}from"./Typography-DPkJNBsU.js";import{T as Y,a as q,b as fe}from"./TableHead-DbUVv1zj.js";import{P as F,a as je}from"./Menu-BmC6YJiv.js";import{T as o}from"./TableRow-Bbz_z8gD.js";import{T as s}from"./TableCell-B3mlDA6x.js";import{T as G}from"./TableBody-CTJpQRIa.js";import{I as b}from"./IconButton-CHMrJ6Gi.js";import{M as D}from"./MenuItem-DF424Blq.js";import{D as be,a as ye}from"./DialogContent-B1MLnFwp.js";import{D as Ce}from"./DialogTitle-C0yO6l00.js";import{D as ve}from"./DialogContentText-DiDqSt-U.js";import{D as Te}from"./DialogActions-BVBfke6I.js";import{s as $e}from"./styled-BE7uoR5C.js";import"./createSvgIcon-DDiySQ4J.js";import"./createSvgIcon-i4Ddu0pI.js";import"./TransitionGroupContext-D5Gal4xy.js";import"./isMuiElement-Bzzx93h0.js";import"./ButtonBase-Cc0NCTY7.js";import"./Tablelvl2Context-DvKfqr-l.js";import"./Toolbar-DuU3Na8Z.js";import"./Select-aus-Z7PH.js";import"./Button-CGTIOcYX.js";import"./Backdrop-BiRxOpLA.js";import"./utils-PFTex4TT.js";import"./dividerClasses-BTTZbAf4.js";import"./listItemTextClasses-uBM8BSi9.js";function U(n){const l=ue(),{count:c,page:d,rowsPerPage:h,onPageChange:r}=n,u=t=>{r(t,0)},x=t=>{r(t,d-1)},f=t=>{r(t,d+1)},$=t=>{r(t,Math.max(0,Math.ceil(c/h)-1))};return e.jsxs(y,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(b,{onClick:u,disabled:d===0,"aria-label":"first page",children:l.direction==="rtl"?e.jsx(H,{}):e.jsx(W,{})}),e.jsx(b,{onClick:x,disabled:d===0,"aria-label":"previous page",children:l.direction==="rtl"?e.jsx(E,{}):e.jsx(V,{})}),e.jsx(b,{onClick:f,disabled:d>=Math.ceil(c/h)-1,"aria-label":"next page",children:l.direction==="rtl"?e.jsx(V,{}):e.jsx(E,{})}),e.jsx(b,{onClick:$,disabled:d>=Math.ceil(c/h)-1,"aria-label":"last page",children:l.direction==="rtl"?e.jsx(W,{}):e.jsx(H,{})})]})}U.propTypes={count:T.number.isRequired,onPageChange:T.func.isRequired,page:T.number.isRequired,rowsPerPage:T.number.isRequired};const ke=[{id:"date",label:"Date",minWidth:170},{id:"businessType",label:"Business Type",minWidth:100},{id:"businessRegistrationNumber",label:"Registration Number",minWidth:100},{id:"taxIdentificationNumber",label:"Tax Identification Number",minWidth:100},{id:"tradingAddress",label:"Trading Address",minWidth:100},{id:"proofoftradingAddress",label:"Proof of Trading Address",minWidth:100},{id:"action",label:"Action",minWidth:120}];function Pe(n,l,c,d,h,r,u){return{id:n,date:l,businessType:c,businessRegistrationNumber:d,taxIdentificationNumber:h,tradingAddress:r,proofoftradingAddress:u}}const De=$e("div")(({theme:n})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"right",height:"100%","& .ant-empty-img-1":{fill:n.palette.mode==="light"?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:n.palette.mode==="light"?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:n.palette.mode==="light"?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:n.palette.mode==="light"?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:n.palette.mode==="light"?"0.8":"0.08",fill:n.palette.mode==="light"?"#f5f5f5":"#fff"}}));function Ae(){return e.jsxs(De,{children:[e.jsx("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:e.jsxs("g",{fill:"none",fillRule:"evenodd",children:[e.jsxs("g",{transform:"translate(24 31.67)",children:[e.jsx("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.jsx("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),e.jsx("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),e.jsx("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),e.jsx("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),e.jsxs("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[e.jsx("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.jsx("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),e.jsx(y,{sx:{mt:1},children:"No Data found"})]})}function ua(){const n=ne(),[l,c]=m.useState(!1),[d,h]=m.useState(),[r]=re(),u=a=>{c(!0),h(a),Q(a)},x="api",[f,$]=m.useState(),[t,J]=m.useState(),[k,K]=m.useState("");oe.useEffect(()=>{const a=I(localStorage.getItem("token"));A(a.data.id)},[]);const A=async a=>{await P.get(`/${x}/v1/company/list/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(i=>{i.data.status=="201"&&$(i.data.data)}).catch(i=>{console.log("error",i)})},Q=async a=>{await P.get(`/${x}/v1/company/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(i=>{i.data.status=="201"&&J(i.data.data)}).catch(i=>{console.log("error",i)})};let C=[];C=[f==null?void 0:f.map(a=>Pe(a._id,a.createdAt,a.businessType,a.businessRegistrationNumber,a.taxIdentificationNumber,a.tradingAddress,a.proofoftradingAddress))].sort((a,i)=>a.date<i.date?-1:1);const p=C[0]||[],M=()=>{c(!1),h("")},[j,R]=m.useState(0),[g,X]=m.useState(5),Z=j>0?Math.max(0,(1+j)*g-C.length):0,O=a=>{R(a)},w=a=>{X(parseInt(a.target.value,10)),R(0)},[N,S]=m.useState(null),ee=!!N,ae=a=>{var i=a.currentTarget.value.split("-");K(i[0]),S(a.currentTarget)},te=()=>{S(null)},B=(a,i)=>{i=="error"?L.error(a,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):L.success(a,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},se=async a=>{var i=confirm("Are you sure?");if(i==!0)await P.delete(`/${x}/v1/company/delete/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(v=>{if(v.data.status=="201"){const ie=I(localStorage.getItem("token"));A(ie.data.id),B("Selected company deltails has been deleted Successfully","success")}}).catch(v=>{console.log("error",v),B(v.response.data.message,"error")});else return!1};return e.jsxs(e.Fragment,{children:[e.jsx(y,{sx:{marginLeft:{md:"7%"},marginTop:"12px",fontSize:"15px",width:{md:"89%"}},children:e.jsxs(ge,{sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:"white",padding:"10px 12px"},children:[e.jsx(xe,{children:e.jsx(_,{onClick:()=>n("/new-company-list"),children:"Add Company List"})}),e.jsx(y,{sx:{overflow:"auto"},children:e.jsx(y,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:e.jsx(Y,{component:F,children:e.jsxs(q,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[e.jsx(fe,{children:e.jsx(o,{className:`${r?"avatarDark":"avatarLight"}`,children:ke.map(a=>e.jsx(s,{style:{minWidth:a.minWidth},children:a.label},a.id))})}),e.jsxs(G,{children:[(g>0?p==null?void 0:p.slice(j*g,j*g+g):p).map(a=>e.jsxs(o,{children:[e.jsx(s,{component:"th",scope:"row",children:z(a==null?void 0:a.date).format("MMMM Do YYYY, h:mm:ss A")}),e.jsx(s,{style:{width:50},component:"th",scope:"row",children:a==null?void 0:a.businessType}),e.jsx(s,{style:{width:160},component:"th",scope:"row",children:a==null?void 0:a.businessRegistrationNumber}),e.jsx(s,{style:{width:160},component:"th",scope:"row",children:a==null?void 0:a.taxIdentificationNumber}),e.jsx(s,{style:{width:160},component:"th",scope:"row",children:a==null?void 0:a.tradingAddress}),e.jsx(s,{children:e.jsx("img",{crossOrigin:"anonymous",src:`https://quickcash.oyefin.com/company/${a==null?void 0:a.proofoftradingAddress}`,width:"100%",height:"100%",alt:"prooftrading"})}),e.jsxs(s,{component:"th",scope:"row",children:[e.jsx(b,{"aria-label":"more",value:`${a==null?void 0:a.id}-${a==null?void 0:a.status}-${a==null?void 0:a.recurring}-${a==null?void 0:a.invoice_number}`,id:`long-button${a==null?void 0:a.id}`,"aria-controls":l?`long-menu${a==null?void 0:a.id}`:void 0,"aria-expanded":l?"true":void 0,"aria-haspopup":"true",onClick:ae,children:e.jsx(ce,{})}),e.jsxs(je,{id:`long-menu${a==null?void 0:a.id}`,MenuListProps:{"aria-labelledby":`long-button${a==null?void 0:a.id}`},anchorEl:N,open:ee,onClose:te,children:[e.jsx(D,{children:e.jsx("span",{className:`${r?"avatarDarkSecondaryExtra":"avatarLight"}`,children:e.jsx(pe,{sx:{cursor:"pointer"},onClick:()=>u(k)})})}),e.jsx(D,{children:e.jsx("span",{className:`${r?"avatarDarkSecondaryExtra":"avatarLight"}`,children:e.jsx(le,{sx:{cursor:"pointer"},onClick:()=>n(`/edit-company-details/${k}`)})})}),e.jsx(D,{children:e.jsx("span",{className:`${r?"avatarDarkSecondaryExtra":"avatarLight"}`,children:e.jsx(de,{sx:{cursor:"pointer"},onClick:()=>se(`${k}`)})})})]},a==null?void 0:a.id)]})]},a==null?void 0:a.date)),(p==null?void 0:p.length)==0&&e.jsx(o,{style:{height:53*Z},children:e.jsx(s,{colSpan:7,children:e.jsx(Ae,{})})})]}),e.jsx(he,{children:e.jsx(o,{children:e.jsx(me,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:7,count:C.length,rowsPerPage:g,page:j,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:O,onRowsPerPageChange:w,ActionsComponent:U})})})]})})})})]})}),e.jsxs(be,{open:l,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ce,{id:"alert-dialog-title",className:`${r?"avatarDark":"avatarLight"}`,children:"Company Details"}),e.jsx(ye,{children:e.jsx(ve,{id:"alert-dialog-description",children:e.jsx(Y,{component:F,children:e.jsx(q,{sx:{height:200},"aria-label":"simple table",children:e.jsxs(G,{sx:{height:"200px"},children:[e.jsxs(o,{children:[e.jsx(s,{children:"Created Date"}),e.jsx(s,{children:z(t==null?void 0:t.createdAt).format("MMMM Do YYYY, h:mm:ss A")})]}),e.jsxs(o,{children:[e.jsx(s,{children:"Business Registration Number"}),e.jsx(s,{children:t==null?void 0:t.businessRegistrationNumber})]}),e.jsxs(o,{children:[e.jsx(s,{children:"Business Type"}),e.jsx(s,{children:t==null?void 0:t.businessType})]}),e.jsxs(o,{children:[e.jsx(s,{children:"Tax Identification Number"}),e.jsx(s,{children:t==null?void 0:t.taxIdentificationNumber})]}),e.jsxs(o,{children:[e.jsx(s,{children:"Trading Address"}),e.jsx(s,{children:t==null?void 0:t.tradingAddress})]}),e.jsxs(o,{children:[e.jsx(s,{children:"Business Registration Document"}),e.jsx(s,{children:t!=null&&t.businessRegistrationDocument?e.jsx("img",{crossOrigin:"anonymous",width:"100%",height:"200px",alt:"businessRegistrationDocument",src:`https://quickcash.oyefin.com/company/${t==null?void 0:t.businessRegistrationDocument}`}):"Please Upload"})]}),e.jsxs(o,{children:[e.jsx(s,{children:"Proof of Trading Address"}),e.jsx(s,{children:t!=null&&t.proofoftradingAddress?e.jsx("img",{crossOrigin:"anonymous",width:"100%",height:"100%",alt:"proofTradingAddress",src:`https://quickcash.oyefin.com/company/${t==null?void 0:t.proofoftradingAddress}`}):"Please Upload"})]})]})})})})}),e.jsx(Te,{children:e.jsx(_,{onClick:M,variant:"contained",children:"Close"})})]})]})}export{ua as default};
