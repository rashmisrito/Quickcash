import{k as v,u as b,f as C,R as u,r as $,j as e}from"./index-C7uDDRzi.js";import{a as l,B as p}from"./App-DlbqwX0_.js";import{C as k}from"./ColorButton-ek59cplY.js";import{d as y}from"./KeyboardBackspace-CMiK9GPp.js";import{d as B}from"./DoneOutlineOutlined-CbPyxpe1.js";import{B as x}from"./Box-DuB8RHF0.js";import{T}from"./Toolbar-penBkzvF.js";import{T as w}from"./Typography-Bqz4o4Sm.js";import{G as s}from"./Grid-BSdJsjIu.js";import{T as A}from"./TextField-IfJfvW4r.js";import"./styled-DpNLFuLo.js";import"./Button-bVqxygml.js";import"./ButtonBase-Cb7r6f8i.js";import"./TransitionGroupContext-BuEQjJx-.js";import"./createSvgIcon-D3EdHNeB.js";import"./createSvgIcon-CvjaZCwn.js";import"./isMuiElement-MrDrvzNs.js";import"./FormControl-Bz1rNlOw.js";import"./Select-DVBf2x5a.js";import"./Menu-DLoDL8Vj.js";import"./Backdrop-92jRYuW8.js";import"./utils-D1Bwf65I.js";function X(){const o=v(),i=b(),[a]=C(),n="api",[h,g]=u.useState(),[c,d]=u.useState();$.useEffect(()=>{f(o==null?void 0:o.id)},[o.id]);const f=async r=>{await l.get(`/${n}/v1/account/accountbyid/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(d(t.data.data.name),g(t.data.data._id))}).catch(t=>{console.log("error",t)})},m=(r,t)=>{t=="error"?p.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):p.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},j=async r=>{await l.patch(`/${n}/v1/account/update/${r}`,{name:c,user_id:r},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(m(t.data.message,"success"),i("/accounts"))}).catch(t=>{console.log("error",t),m(t.response.data.message,"error")})};return e.jsxs(e.Fragment,{children:[e.jsx(x,{sx:{marginTop:"0%",borderRadius:".5rem",marginLeft:{md:"7%"},width:{xs:"100%",md:"87%"}},children:e.jsx(y,{className:`${a?"avatarDark":"avatarLight"}`,onClick:()=>i("/accounts"),sx:{cursor:"pointer"}})}),e.jsx(T,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{md:"7%"},border:`${a?"1px solid white":""}`,background:`${a?"#183153":"white"}`,width:{lg:"80%"}},children:e.jsxs(x,{sx:{marginTop:"0%",borderRadius:".5rem",width:{xs:"100%",md:"87%"}},children:[e.jsx(w,{variant:"h6",gutterBottom:!0,children:"Edit Account"}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Account Name"}),e.jsx(A,{required:!0,id:"name",value:c,onChange:r=>d(r.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(k,{color:"primary",onClick:()=>j(h),children:[e.jsx(B,{sx:{mr:1}}),"Update"]})})]})]})})]})}export{X as default};
