import{k as T,u as P,r as l,j as r,L as h}from"./index-C7uDDRzi.js";import{C as k,c as R,a as D,B as m}from"./App-DlbqwX0_.js";import{u as L}from"./useValidation-CxwCDOQu.js";import{d as S}from"./LockOutlined-DwSkDGhH.js";import{T as F}from"./ThemeProvider-4-WxbLsm.js";import{C as H}from"./Container-F73I0KNX.js";import{B as c}from"./Box-DuB8RHF0.js";import{A as O}from"./Avatar-BcZaD7Qf.js";import{T as g}from"./Typography-Bqz4o4Sm.js";import{T as u}from"./TextField-IfJfvW4r.js";import{B as W}from"./Button-bVqxygml.js";import{G as x}from"./Grid-BSdJsjIu.js";import"./createSvgIcon-D3EdHNeB.js";import"./createSvgIcon-CvjaZCwn.js";import"./styled-DpNLFuLo.js";import"./TransitionGroupContext-BuEQjJx-.js";import"./isMuiElement-MrDrvzNs.js";import"./ButtonBase-Cb7r6f8i.js";import"./Menu-DLoDL8Vj.js";import"./Backdrop-92jRYuW8.js";import"./utils-D1Bwf65I.js";import"./styled-Ceg76Xqq.js";import"./createStyled-CkGSHkYG.js";import"./index-COV97QJW.js";import"./useSlot-DrEK-L9N.js";import"./FormControl-Bz1rNlOw.js";import"./Select-DVBf2x5a.js";function A(o){return r.jsxs(g,{variant:"body2",color:"text.secondary",align:"center",...o,children:["Copyright Â© ",r.jsx(h,{color:"inherit",to:"/",style:{textDecoration:"none"},children:"Quick Cash"})," ",new Date().getFullYear(),"."]})}const V=R();function mr(){const{errors:o,validate:t}=L(),{"*":f}=T(),n=P(),w=async()=>{n("/home")},j="api",[s,b]=l.useState(""),[d,y]=l.useState(""),C=async()=>{!t("password",s)&&!t("cpassword",d,s)?await D.post(`/${j}/v1/user/reset-password`,{token:f,password:s},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{e.data.status=="201"&&(a(e.data.message,"success"),n("/"))}).catch(e=>{console.log("error",e),a(e.response.data.message,"error")}):(t("password",s)&&a(o.password,"error"),t("cpassword",d,s)&&a(o.cpassword,"error"))},a=(e,i)=>{i=="error"?m.error(e,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):m.success(e,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},p=e=>{const{name:i,value:v}=e.target,B=t(i,v,s);console.log(B)};return r.jsx(F,{theme:V,children:r.jsxs(H,{component:"main",maxWidth:"xs",children:[r.jsx(k,{}),r.jsxs(c,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"12px 12px 50px lightblue",border:"16px solid silver",borderLeftColor:"#1976D2",borderRightColor:"#1976D2",padding:"12px 15px",paddingLeft:"30px",paddingRight:"30px",borderRadius:"12px",paddingBottom:"64px"},children:[r.jsx(O,{sx:{m:1,bgcolor:"secondary.main"},children:r.jsx(S,{})}),r.jsx(g,{component:"h1",variant:"h5",sx:{color:"#1976D2"},children:"Reset password"}),r.jsxs(c,{component:"form",onSubmit:w,noValidate:!0,sx:{mt:1},children:[r.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",type:"password",onChange:e=>b(e.target.value),autoFocus:!0,onBlur:p,error:!!o.password,helperText:o.password}),r.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"cpassword",label:"Confirm Password",name:"cpassword",type:"password",onChange:e=>y(e.target.value),autoFocus:!0,onBlur:p,error:!!o.cpassword,helperText:o.cpassword}),r.jsx(W,{type:"button",fullWidth:!0,variant:"contained",onClick:()=>C(),sx:{mt:3,mb:2},children:"Reset password"}),r.jsx(x,{container:!0,children:r.jsx(x,{item:!0,xs:!0,children:r.jsx(h,{to:"/myapp/web",style:{textDecoration:"none"},children:"Remember your password?"})})})]})]}),r.jsx(A,{sx:{mt:8,mb:4}})]})})}export{mr as default};
