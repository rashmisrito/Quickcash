import{f as ge,R as x,r as me,j as s}from"./index-DWLfyV7i.js";import{a as k,g as T,B as Q}from"./App-DrtOZD42.js";import{h as fe}from"./moment-Cl4UOzQZ.js";import{P as $}from"./index-BFFvwu2s.js";import{R as ue}from"./react-country-flag.esm-G6mG5f4J.js";import{T as je,a as ye,d as X,b as Z}from"./FirstPage-Bfi5hKar.js";import{d as be}from"./Visibility-3zUu_ZvH.js";import{T as Ce,a as Se,b as P,c as m}from"./Tr-BIiUDlev.js";import{d as w}from"./KeyboardArrowLeft-D3AbPhHn.js";import{d as ee}from"./KeyboardArrowRight-oZdTX2_v.js";import{C as ke,a as Te}from"./ColorButton-zYRWfhx1.js";/* empty css                                  */import{B as M}from"./Box-DVjlkC-E.js";import{G as r,u as $e}from"./Grid-C5WZ5yPx.js";import{T as Pe}from"./TableBody-AgkDyMto.js";import{D as We,a as ze}from"./DialogContent-DiOMWdvr.js";import{B as Be}from"./Backdrop-BFkPp487.js";import{C as Re}from"./CircularProgress-DYyr3-OO.js";import{D as ve}from"./DialogTitle-B1r3TMqL.js";import{D as se}from"./Divider-CMpfwVFn.js";import{S as Ae}from"./Select-B6J5njAN.js";import{M as te}from"./MenuItem-D268QOBH.js";import{D as Me}from"./DialogActions-CMoVg3GV.js";import{S as Fe}from"./Slide-BvxdQ0W4.js";import{I as W}from"./IconButton-BGGPP1S8.js";import{s as Ie}from"./styled-UvVi3zCA.js";import{C as Oe}from"./Card-CaGcc8YV.js";import{C as Ee}from"./CardActionArea-H39j9M79.js";import{C as Ne}from"./CardContent-CgX94QYf.js";import{T as z}from"./Typography-BbgNLZ5J.js";import"./Tablelvl2Context-CYb1MZHo.js";import"./Menu-qMneCLiP.js";import"./createSvgIcon-Bxm2ewFX.js";import"./TransitionGroupContext-CPZXwPBU.js";import"./ButtonBase-DuAtvFfD.js";import"./utils-6TVLZy64.js";import"./TableCell-DxWcz2Op.js";import"./Toolbar-BcyIqHFS.js";import"./createSvgIcon-j2CwpMz4.js";import"./isMuiElement-DaoDYf4M.js";import"./Button-BwJo4BJ8.js";import"./dividerClasses-B0chXB0b.js";import"./listItemTextClasses-C7VXh0Y-.js";const _e=x.forwardRef(function(o,c){return s.jsx(Fe,{direction:"up",ref:c,...o})});function ne(n){const o=$e(),{count:c,page:h,rowsPerPage:f,onPageChange:p}=n,y=l=>{p(l,0)},i=l=>{p(l,h-1)},b=l=>{p(l,h+1)},B=l=>{p(l,Math.max(0,Math.ceil(c/f)-1))};return s.jsxs(M,{sx:{flexShrink:0,ml:2.5},children:[s.jsx(W,{onClick:y,disabled:h===0,"aria-label":"first page",children:o.direction==="rtl"?s.jsx(X,{}):s.jsx(Z,{})}),s.jsx(W,{onClick:i,disabled:h===0,"aria-label":"previous page",children:o.direction==="rtl"?s.jsx(ee,{}):s.jsx(w,{})}),s.jsx(W,{onClick:b,disabled:h>=Math.ceil(c/f)-1,"aria-label":"next page",children:o.direction==="rtl"?s.jsx(w,{}):s.jsx(ee,{})}),s.jsx(W,{onClick:B,disabled:h>=Math.ceil(c/f)-1,"aria-label":"last page",children:o.direction==="rtl"?s.jsx(Z,{}):s.jsx(X,{})})]})}ne.propTypes={count:$.number.isRequired,onPageChange:$.func.isRequired,page:$.number.isRequired,rowsPerPage:$.number.isRequired};const He=[{id:"date",label:"Date",minWidth:100},{id:"username",label:"Username",minWidth:100},{id:"email",label:"Email",minWidth:100},{id:"type",label:"Type",minWidth:100},{id:"symbol",label:"symbol",minWidth:100},{id:"amount",label:"amount",minWidth:100},{id:"status",label:"Status",minWidth:100},{id:"action",label:"Action",minWidth:100}];function De(n,o,c,h,f,p,y,i,b){return{currencyType:n,id:o,date:c,username:h,email:f,type:p,coin:y,amount:i,status:b}}const Le=Ie("div")(({theme:n})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"right",height:"100%","& .ant-empty-img-1":{fill:n.palette.mode==="light"?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:n.palette.mode==="light"?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:n.palette.mode==="light"?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:n.palette.mode==="light"?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:n.palette.mode==="light"?"0.8":"0.08",fill:n.palette.mode==="light"?"#f5f5f5":"#fff"}}));function Ve(){return s.jsxs(Le,{children:[s.jsx("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:s.jsxs("g",{fill:"none",fillRule:"evenodd",children:[s.jsxs("g",{transform:"translate(24 31.67)",children:[s.jsx("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.jsx("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),s.jsx("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),s.jsx("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),s.jsx("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),s.jsxs("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[s.jsx("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.jsx("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),s.jsx(M,{sx:{mt:1},children:"No Data found"})]})}function Ms(){var _,H,D,L,V,q,U,Y,G,J;const[n]=ge(),[o,c]=x.useState(!1),h=e=>{B(e),c(!0)},f=()=>{c(!1),b([]),F([])};me.useEffect(()=>{y()},[]);const p="api",y=async()=>{await k.get(`/${p}/v1/crypto/translist`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(e=>{var t,a;((t=e==null?void 0:e.data)==null?void 0:t.status)==201&&ae((a=e==null?void 0:e.data)==null?void 0:a.data)}).catch(e=>{console.log(e)})},[i,b]=x.useState([]),B=async e=>{await k.get(`/${p}/v1/crypto/trans/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{var a,g,j,d;t.data.status==201&&(b((a=t==null?void 0:t.data)==null?void 0:a.data),ie((d=(j=(g=t==null?void 0:t.data)==null?void 0:g.data)==null?void 0:j[0])==null?void 0:d.user))}).catch(t=>{console.log(t)})},[l,F]=x.useState([]),ie=async e=>{await k.get(`/${p}/v1/admin/accountslist/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{var a;t.data.status==201&&F((a=t==null?void 0:t.data)==null?void 0:a.data)}).catch(t=>{console.log(t)})},[R,ae]=x.useState();let I=[];I=[R==null?void 0:R.map(e=>{var t,a;return De(e==null?void 0:e.currencyType,e._id,e.createdAt,(t=e==null?void 0:e.userDetails[0])==null?void 0:t.name,(a=e==null?void 0:e.userDetails[0])==null?void 0:a.email,e.side,e.coin,e==null?void 0:e.amount,e.status)})].sort((e,t)=>e.date<t.date?-1:1);const u=I[0]||[],[v,O]=x.useState(0),[C,re]=x.useState(5),le=(e,t)=>{console.log("New Page",e),O(t)},oe=e=>{re(parseInt(e.target.value,10)),O(0)},de=x.useRef(null);x.useEffect(()=>{if(o){const{current:e}=de;e!==null&&e.focus()}},[o]);function ce({countryCode:e,currencyCode:t,name:a,balance:g,accountText:j}){return s.jsx(Oe,{sx:{borderRadius:"15px",color:`${n?"white":"black"}`,border:`${n?"1px solid white":"black"}`},children:s.jsx(Ee,{className:"dashboard_Card_data",children:s.jsx(Ne,{children:s.jsxs(r,{container:!0,spacing:2,children:[s.jsx(r,{item:!0,xs:12,children:s.jsxs(r,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"},children:[s.jsx(r,{children:s.jsx(ue,{countryCode:e,svg:!0,style:{width:"2em",height:"2em",borderRadius:"50%"},cdnUrl:"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.4.3/flags/1x1/",cdnSuffix:"svg",title:e})}),s.jsx(r,{children:s.jsx(z,{variant:"h6",component:"div",children:t})})]})}),s.jsxs(r,{item:!0,xs:12,sx:{display:"flex",flexDirection:"row",gap:"10px",justifyContent:"space-between",flexWrap:"wrap"},children:[s.jsx(r,{children:s.jsx(z,{marginTop:"5px",fontWeight:"Bolder",component:"div",children:(a==null?void 0:a.length)>14?(a==null?void 0:a.substring(0,14))+"...":a})}),s.jsx(r,{children:s.jsxs(z,{marginTop:"5px",fontWeight:"Bolder",component:"div",children:[T(t),parseFloat(g).toFixed(3)]})})]}),s.jsx(r,{item:!0,xs:12,sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"},children:s.jsx(r,{children:s.jsx(z,{marginTop:"5px",fontWeight:"Bolder",component:"div",children:j})})})]})})})})}const[E,pe]=x.useState(""),[xe,A]=x.useState(!1),he=async e=>{var t,a,g,j;A(!0),await k.patch(`/${p}/v1/crypto/crypto-update`,{id:(t=e==null?void 0:e[0])==null?void 0:t._id,status:E,amount:(a=e==null?void 0:e[0])==null?void 0:a.amount,userid:(g=e==null?void 0:e[0])==null?void 0:g.user,currencyType:(j=e==null?void 0:e[0])==null?void 0:j.fromCurrency},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(d=>{var S;d.data.status==201&&(c(!1),A(!1),N((S=d==null?void 0:d.data)==null?void 0:S.message,"Success"),y())}).catch(d=>{var S,K;console.log(d),A(!1),N((K=(S=d==null?void 0:d.response)==null?void 0:S.data)==null?void 0:K.message,"error")})},N=(e,t)=>{t=="error"?Q.error(e,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):Q.success(e,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})};return s.jsxs(s.Fragment,{children:[s.jsx(M,{sx:{marginLeft:{md:"7%"},marginTop:{xs:"0px",md:"12px"},fontSize:"15px",width:{md:"91%"}},children:s.jsx(r,{sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",fontWeight:"700",background:`${n?"#183153":"white"}`,color:`${n?"white":"black"}`,padding:"3px"},children:s.jsxs(Ce,{style:{background:`${n?"":"#F2F3FE"}`,color:`${n?"white":"black"}`},children:[s.jsx(Se,{children:s.jsx(P,{className:`${n?"avatarDark":"avatarLight"}`,children:He.map(e=>s.jsx(m,{width:"220",style:{padding:"12px",background:"#8657E5",color:"white"},children:e.label},e.id))})}),s.jsxs(Pe,{children:[(C>0?u==null?void 0:u.slice(v*C,v*C+C):u).map(e=>{var t,a,g;return s.jsxs(P,{children:[s.jsx(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:fe(e==null?void 0:e.date).format("YYYY-MM-DD")}),s.jsx(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:e==null?void 0:e.username}),s.jsx(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:e==null?void 0:e.email}),s.jsxs(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:[(e==null?void 0:e.type)=="buy"&&s.jsx("span",{style:{color:`${n?"white":"green"}`},children:"Buy"}),(e==null?void 0:e.type)=="sell"&&s.jsx("span",{style:{color:`${n?"white":"red"}`},children:"Sell"})]}),s.jsx(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:s.jsxs(r,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"},children:[s.jsx(r,{children:s.jsx("img",{loading:"lazy",style:{height:"30px",width:"30px",borderRadius:"50px"},src:`https://assets.coincap.io/assets/icons/${(t=e==null?void 0:e.coin)==null?void 0:t.replace("_TEST","").toLowerCase()}@2x.png`,alt:`${(a=e==null?void 0:e.coin)==null?void 0:a.replace("_TEST","")}`})}),s.jsx(r,{children:(g=e==null?void 0:e.coin)==null?void 0:g.replace("_TEST","")})]})}),s.jsxs(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:[T(e==null?void 0:e.currencyType),parseFloat(e==null?void 0:e.amount).toFixed(2)]}),s.jsxs(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:[(e==null?void 0:e.status)==="completed"&&s.jsx("span",{style:{border:"1px solid green",padding:"12px",borderRadius:"20px",background:`${n?"green":""}`},children:"Success"}),e.status==="cancelled"&&s.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${n?"red":""}`},children:"Cancelled"}),e.status==="declined"&&s.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${n?"red":""}`},children:"Decline"}),e.status==="pending"&&s.jsx("span",{style:{border:"1px solid orange",padding:"12px",borderRadius:"20px",background:`${n?"orange":""}`},children:"Pending"})]}),s.jsx(m,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:s.jsx(be,{sx:{cursor:"pointer"},onClick:()=>h(e==null?void 0:e.id)})})]},e==null?void 0:e.date)}),(u==null?void 0:u.length)==0&&s.jsx(P,{children:s.jsx(m,{colSpan:9,children:s.jsx(Ve,{})})})]}),s.jsx(je,{sx:{background:`${n?"white":""}`,color:"black"},children:s.jsx(P,{children:s.jsx(ye,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:9,count:u.length,rowsPerPage:C,page:v,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:le,onRowsPerPageChange:oe,ActionsComponent:ne})})})]})})}),s.jsxs(We,{open:o,fullWidth:!0,maxWidth:"lg",TransitionComponent:_e,keepMounted:!0,onClose:f,"aria-describedby":"alert-dialog-slide-description",children:[s.jsx(Be,{sx:e=>({color:"#fff",zIndex:e.zIndex.drawer+1}),open:xe,onClick:f,children:s.jsx(Re,{color:"inherit"})}),s.jsx(ve,{className:`${n?"avatarDark":"avatarLight"}`,children:"Transaction"}),s.jsxs(ze,{sx:{fontSize:"14px",color:`${n?"white":"black"}`},children:[s.jsx("table",{width:"100%",style:{padding:"10px",border:"2px solid silver"},children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Coin Name"})," ",s.jsx("td",{children:(_=i==null?void 0:i[0])==null?void 0:_.coin})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Number of Coins"})," ",s.jsx("td",{children:(H=i==null?void 0:i[0])==null?void 0:H.noOfCoins})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Amount"})," ",s.jsxs("td",{children:[T((D=i==null?void 0:i[0])==null?void 0:D.currencyType),(L=i==null?void 0:i[0])==null?void 0:L.amount]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fee"})," ",s.jsxs("td",{children:[T((V=i==null?void 0:i[0])==null?void 0:V.currencyType),(q=i==null?void 0:i[0])==null?void 0:q.fee]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Mode"})," ",s.jsx("td",{children:(U=i==null?void 0:i[0])==null?void 0:U.side})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Status"})," ",s.jsx("td",{children:(Y=i==null?void 0:i[0])==null?void 0:Y.status})]})]})}),s.jsx("br",{}),s.jsxs(se,{textAlign:"center",sx:{marginBottom:"12px"},children:[(l==null?void 0:l.length)>0?s.jsx(s.Fragment,{children:s.jsx("span",{style:{marginBottom:"12px"},children:"Accounts List"})}):null," "]}),s.jsx(r,{container:!0,spacing:1,children:l==null?void 0:l.map((e,t)=>s.jsx(r,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ce,{countryCode:e==null?void 0:e.country,currencyCode:e==null?void 0:e.currency,name:e==null?void 0:e.name,balance:e==null?void 0:e.amount,accountText:e==null?void 0:e.iban})},t))}),((G=i==null?void 0:i[0])==null?void 0:G.status)=="pending"?s.jsxs(s.Fragment,{children:[s.jsx(se,{textAlign:"center",style:{marginTop:"12px"},children:"Action"}),s.jsx(r,{container:!0,children:s.jsxs(r,{item:!0,xs:12,children:[s.jsx("label",{htmlFor:"Status",children:"Status"}),s.jsxs(Ae,{value:E,sx:{border:`${n?"1px solid white":""}`},onChange:e=>pe(e.target.value),fullWidth:!0,children:[s.jsx(te,{value:"completed",sx:{color:`${n?"white":"black"}`},children:"Approved"}),s.jsx(te,{value:"declined",sx:{color:`${n?"white":"black"}`},children:"Declined"})]})]})})]}):null]}),s.jsxs(Me,{children:[((J=i==null?void 0:i[0])==null?void 0:J.status)=="pending"?s.jsx(ke,{onClick:()=>he(i),children:"Submit"}):null,s.jsx(Te,{onClick:f,children:"Cancel"})]})]})]})}export{Ms as default};
