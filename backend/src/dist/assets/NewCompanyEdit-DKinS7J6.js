import{u as te,k as se,R as s,r as ae,j as e}from"./index-BupViSio.js";import{a as O,n as g,p as re,j as ie,B as P}from"./App-DPd8oDNy.js";import{h as x}from"./moment-Cl4UOzQZ.js";import{e as oe}from"./index-DC25mCva.js";import{d as f}from"./CloudUpload-Cx0JjIUE.js";import{d as ne}from"./KeyboardBackspace-DfX-N2S0.js";import{d as de}from"./DoneOutlineOutlined-D1iMet1-.js";import{T as le}from"./Toolbar-UV7IiOHB.js";import{B as ce}from"./Box-C145hu5M.js";import{T as me}from"./Typography-C-05GYiH.js";import{G as i}from"./Grid-B1t4UKB3.js";import{S as F}from"./Select-CUzNhoH_.js";import{M as m}from"./MenuItem-BNC-7Aqm.js";import{T as U}from"./TextField-JtUyMF_l.js";import{F as ue}from"./FormControl-CggpVb1O.js";import{R as pe,a as W}from"./RadioGroup-3CXCozfT.js";import{F as q}from"./FormControlLabel-a4mVyhCx.js";import{C as j}from"./Card-DSx4FKGT.js";import{C as b}from"./CardHeader-Am2ND7vc.js";import{A as v}from"./Avatar-BkVhrvtn.js";import{s as he}from"./styled-BsT2Uje-.js";import{B as ge}from"./Button-CXQLG-lr.js";import"./createSvgIcon-B4_0CFOw.js";import"./createSvgIcon-c6Q7LSIT.js";import"./TransitionGroupContext-HDmFy-NO.js";import"./isMuiElement-DCOEWuFR.js";import"./ButtonBase-Cnw-KpJ1.js";import"./Menu-DvW-7bCh.js";import"./Backdrop-DtEZozg_.js";import"./utils-4tjU1hxM.js";import"./dividerClasses-MzOsTcy_.js";import"./listItemTextClasses-o44NHM8x.js";import"./SwitchBase-wpRYB9-y.js";import"./Stack-BYlHm6FU.js";import"./styled-DbqmzKIc.js";import"./createStyled-CGgeouwa.js";import"./index-a_FsHuo7.js";import"./useSlot-DKrrUoc4.js";const xe=he(ge)(({theme:c})=>({color:c.palette.getContrastText(re[500]),backgroundColor:"#2196f3","&:hover":{backgroundColor:"#2196f3"}}));function st(){const c=te(),a=se(),[o,z]=s.useState({preview:"",raw:""}),[n,E]=s.useState({preview:"",raw:""}),[d,H]=s.useState({preview:"",raw:""}),N="api",[y,w]=s.useState(),[u,C]=s.useState(""),[fe,G]=s.useState(),[_,D]=s.useState(""),[R,A]=s.useState(),[I,T]=s.useState(),[k,B]=s.useState(),[S,$]=s.useState(""),[p,V]=s.useState("");ae.useEffect(()=>{localStorage.getItem("token")&&J()},[a==null?void 0:a.id]);const J=async()=>{await O.get(`/${N}/v1/company/${a==null?void 0:a.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(C(t.data.data.businessType),B(t.data.data.businessRegistrationNumber),T(t.data.data.taxIdentificationNumber),A(t.data.data.proofoftradingAddress),$(t.data.data.businessRegistrationDocument),D(t.data.data.taxID),G(t.data.data.tradingAddress),Y(t.data.data.tradingAddress),w(t.data.data.country),V(t.data.data.createdAt))}).catch(t=>{console.log("error",t)})},M=(t,r)=>{r=="error"?P.error(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):P.success(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},K=async t=>{var L;t.preventDefault();const r=ie(localStorage.getItem("token"));console.log(u),await O.patch(`/${N}/v1/company/update/${a==null?void 0:a.id}`,{user:(L=r==null?void 0:r.data)==null?void 0:L.id,taxID:d==null?void 0:d.raw,businessRegistrationDocument:o==null?void 0:o.raw,proofoftradingAddress:n==null?void 0:n.raw,country:y,businessType:u,tradingAddress:h,taxIdentificationNumber:I,businessRegistrationNumber:k},{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(l=>{l.data.status=="201"&&(M(l.data.message,"success"),c("/Company-Details"))}).catch(l=>{console.log("error",l),M(l.response.data.message,"error")})},Q=t=>{t.target.files.length&&($(""),z({preview:URL.createObjectURL(t.target.files[0]),raw:t.target.files[0]}))},X=t=>{t.target.files.length&&(A(""),E({preview:URL.createObjectURL(t.target.files[0]),raw:t.target.files[0]}))},Z=t=>{t.target.files.length&&(D(""),H({preview:URL.createObjectURL(t.target.files[0]),raw:t.target.files[0]}))},[h,Y]=s.useState("trading"),ee=t=>{Y(t.target.value)};return e.jsx(e.Fragment,{children:e.jsx(le,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{xs:"0%",sm:"0%",md:"7%"},background:"white",width:{xs:"100%",lg:"80%"}},children:e.jsxs(ce,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(me,{variant:"h6",gutterBottom:!0,sx:{textAlign:"left"},children:e.jsx(ne,{onClick:()=>c("/Company-Details"),sx:{cursor:"pointer"}})}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsxs(i,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Business Type"}),e.jsxs(F,{fullWidth:!0,sx:{background:"white",border:"1px solid silver"},value:u,onChange:t=>C(t.target.value),children:[e.jsx(m,{sx:{background:"white"},className:"business__type__hover",value:"company",children:"Company"},0),e.jsx(m,{sx:{background:"white"},className:"business__type__hover",value:"sale_properitor",children:"Sale Properitor"},1),e.jsx(m,{sx:{background:"white"},className:"business__type__hover",value:"individual",children:"Individual"},2)]})]}),e.jsxs(i,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Business Registration Number"}),e.jsx(U,{required:!0,id:"business_registration_number",name:"business_registration_number",fullWidth:!0,value:k,onChange:t=>B(t.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsxs(i,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Tax Identification Number"}),e.jsx(U,{required:!0,id:"tax_identification_number",name:"tax_identification_number",fullWidth:!0,value:I,onChange:t=>T(t.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsx(i,{item:!0,xs:12,sm:12,children:e.jsx(ue,{children:e.jsxs(pe,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:h,onChange:ee,children:[e.jsx(q,{value:"trading",control:e.jsx(W,{}),label:"Same as Trading Address"}),e.jsx(q,{value:"country",control:e.jsx(W,{}),label:"Country"})]})})}),h=="country"?e.jsxs(i,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Country"}),e.jsx(F,{fullWidth:!0,onChange:t=>w(t.target.value),value:y,children:Object.entries(oe).map(t=>{var r;return e.jsx(m,{sx:{background:"white"},className:"business__type__hover",value:t[0],children:(r=t[1])==null?void 0:r.name},t[0])})})]}):null,e.jsxs(i,{item:!0,xs:12,children:[e.jsxs(j,{sx:{marginBottom:"10px",maxWidth:345},children:[e.jsx(b,{avatar:e.jsx(v,{sx:{bgcolor:g[500]},"aria-label":"recipe",children:"BD"}),title:"Business Registration Document",subheader:`${x(p).format("MMMM Do YYYY, h:mm:ss A")}`}),e.jsxs("div",{className:"Neon Neon-theme-dragdropbox",children:[e.jsx("input",{style:{zIndex:"999",opacity:"0",width:"100%",height:"100%",background:"silver",position:"absolute",right:"0px; left: 0px",marginRight:"auto",marginLeft:"auto"},name:"files[]",id:"filer_input2",type:"file",onChange:Q}),S?e.jsx("img",{crossOrigin:"anonymous",src:`https://quickcash.oyefin.com/company/${S}`,alt:"proofoftrading",width:"100%",height:"100%"}):o.preview?e.jsx("img",{src:o.preview,alt:"dummy",width:"100%",height:"100%"}):e.jsx("div",{className:"Neon-input-dragDrop",children:e.jsxs("div",{className:"Neon-input-inner",children:[e.jsx("div",{className:"Neon-input-icon",children:e.jsx("i",{className:"fa fa-file-image-o"})}),e.jsx("div",{className:"Neon-input-text"}),e.jsx("a",{className:"Neon-input-choose-btn blue",children:e.jsx(f,{style:{cursor:"pointer"}})})]})})]})]}),e.jsxs(j,{sx:{marginBottom:"10px",maxWidth:345},children:[e.jsx(b,{avatar:e.jsx(v,{sx:{bgcolor:g[500]},"aria-label":"recipe",children:"PA"}),title:"Proof of Trading Address",subheader:`${x(p).format("MMMM Do YYYY, h:mm:ss A")}`}),e.jsxs("div",{className:"Neon Neon-theme-dragdropbox",children:[e.jsx("input",{style:{zIndex:"999",opacity:"0",width:"100%",height:"100%",background:"silver",position:"absolute",right:"0px; left: 0px",marginRight:"auto",marginLeft:"auto"},name:"files[]",id:"filer_input2",type:"file",onChange:X}),R?e.jsx("img",{crossOrigin:"anonymous",src:`https://quickcash.oyefin.com/company/${R}`,alt:"proofoftrading",width:"100%",height:"100%"}):n.preview?e.jsx("img",{src:n.preview,alt:"dummy",width:"100%",height:"100%"}):e.jsx("div",{className:"Neon-input-dragDrop",children:e.jsxs("div",{className:"Neon-input-inner",children:[e.jsx("div",{className:"Neon-input-icon",children:e.jsx("i",{className:"fa fa-file-image-o"})}),e.jsx("div",{className:"Neon-input-text"}),e.jsx("a",{className:"Neon-input-choose-btn blue",children:e.jsx(f,{style:{cursor:"pointer"}})})]})})]})]}),e.jsxs(j,{sx:{marginBottom:"10px",maxWidth:345},children:[e.jsx(b,{avatar:e.jsx(v,{sx:{bgcolor:g[500]},"aria-label":"recipe",children:"TD"}),title:"Tax ID/TIN",subheader:`${x(p).format("MMMM Do YYYY, h:mm:ss A")}`}),e.jsxs("div",{className:"Neon Neon-theme-dragdropbox",children:[e.jsx("input",{style:{zIndex:"999",opacity:"0",width:"100%",height:"100%",background:"silver",position:"absolute",right:"0px; left: 0px",marginRight:"auto",marginLeft:"auto"},name:"files[]",id:"filer_input2",type:"file",onChange:Z}),_?e.jsx("img",{crossOrigin:"anonymous",src:`https://quickcash.oyefin.com/company/${_}`,alt:"proofoftrading",width:"100%",height:"100%"}):d.preview?e.jsx("img",{src:d.preview,alt:"dummy",width:"100%",height:"100%"}):e.jsx("div",{className:"Neon-input-dragDrop",children:e.jsxs("div",{className:"Neon-input-inner",children:[e.jsx("div",{className:"Neon-input-icon",children:e.jsx("i",{className:"fa fa-file-image-o"})}),e.jsx("div",{className:"Neon-input-text"}),e.jsx("a",{className:"Neon-input-choose-btn blue",children:e.jsx(f,{style:{cursor:"pointer"}})})]})})]})]})]}),e.jsx(i,{item:!0,xs:12,children:e.jsxs(xe,{color:"primary",onClick:t=>K(t),children:[e.jsx(de,{sx:{mr:1,marginTop:"10px"}}),"UPDATE"]})})]})]})})})}export{st as default};
