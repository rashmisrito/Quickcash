import{j as e,f as A,R as p,r as pe}from"./index-BoluCWJx.js";import{i as v,a as G,g as K}from"./App-DmzB4KYc.js";import{r as $}from"./createSvgIcon-DDiySQ4J.js";import{R as he}from"./RecentTrade-B6rNYhfK.js";import{d as ge}from"./Receipt-JS3pece2.js";import{d as Q}from"./AccountBalanceWallet-6OSUX9Cu.js";import{d as fe,a as je,b as ue}from"./ArrowDownwardOutlined-BzxBugnW.js";import{d as be}from"./Description-uj2M25pq.js";import{h as d}from"./moment-Cl4UOzQZ.js";import{b as ve,C as $e,a as Se}from"./ColorButton-DVQMk-mO.js";import{T as X,a as y,b as u,c as r}from"./Tr-BCamSY7H.js";/* empty css                                  */import{B as Ce}from"./Backdrop-BiRxOpLA.js";import{C as ke}from"./CircularProgress-DpQfCBCz.js";import{B as b}from"./Box-B48tCTAh.js";import{G as l}from"./Grid-CDAIVjPl.js";import{T as g}from"./Typography-DPkJNBsU.js";import{S as De}from"./Select-aus-Z7PH.js";import{M as E}from"./MenuItem-DF424Blq.js";import{D as Te,a as Fe}from"./DialogContent-B1MLnFwp.js";import{T as Z}from"./TextField-BjXLReKG.js";import{D as _e}from"./DialogActions-BVBfke6I.js";import{C as S}from"./Card-WraRCM6U.js";import{C}from"./CardContent-DQEMBR3E.js";import{C as m}from"./CardHeader-BCgCkyJ9.js";import{B as ze}from"./Badge-BbscXL0G.js";import{P as Ye,p as Re}from"./PieChart-09V-frRK.js";import{D as ee}from"./Divider-fORuNHi4.js";import{T as te}from"./TableBody-CTJpQRIa.js";import{G as Ie,g as z}from"./Gauge-y2aY7zmB.js";import"./createSvgIcon-i4Ddu0pI.js";import"./styled-BE7uoR5C.js";import"./TransitionGroupContext-D5Gal4xy.js";import"./isMuiElement-Bzzx93h0.js";import"./ButtonBase-Cc0NCTY7.js";import"./Button-CGTIOcYX.js";import"./utils-PFTex4TT.js";import"./Menu-BmC6YJiv.js";import"./dividerClasses-BTTZbAf4.js";import"./listItemTextClasses-uBM8BSi9.js";import"./FormControl-BiEJnuIY.js";import"./index-DdBJUPls.js";import"./usePreviousProps-B9BXszIx.js";import"./createStyled-B6TKEMzY.js";import"./Popper-8-nrn_v4.js";import"./Tablelvl2Context-DvKfqr-l.js";var P={},Me=v;Object.defineProperty(P,"__esModule",{value:!0});var ne=P.default=void 0,We=Me($()),Ee=e;ne=P.default=(0,We.default)((0,Ee.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var O={},Ae=v;Object.defineProperty(O,"__esModule",{value:!0});var ie=O.default=void 0,Pe=Ae($()),Oe=e;ie=O.default=(0,Pe.default)((0,Oe.jsx)("path",{d:"M17.06 11.57c.59-.69.94-1.59.94-2.57 0-1.86-1.27-3.43-3-3.87V3h-2v2h-2V3H9v2H6v2h2v10H6v2h3v2h2v-2h2v2h2v-2c2.21 0 4-1.79 4-4 0-1.45-.78-2.73-1.94-3.43M10 7h4c1.1 0 2 .9 2 2s-.9 2-2 2h-4zm5 10h-5v-4h5c1.1 0 2 .9 2 2s-.9 2-2 2"}),"CurrencyBitcoin");var B={},Be=v;Object.defineProperty(B,"__esModule",{value:!0});var le=B.default=void 0,we=Be($()),He=e;le=B.default=(0,we.default)((0,He.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutlineOutlined");var w={},Le=v;Object.defineProperty(w,"__esModule",{value:!0});var oe=w.default=void 0,Ue=Le($()),Ve=e;oe=w.default=(0,Ue.default)((0,Ve.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var H={},qe=v;Object.defineProperty(H,"__esModule",{value:!0});var se=H.default=void 0,Ne=qe($()),Ge=e;se=H.default=(0,Ne.default)((0,Ge.jsx)("path",{d:"M6.5 10h-2v7h2zm6 0h-2v7h2zm8.5 9H2v2h19zm-2.5-9h-2v7h2zm-7-6.74L16.71 6H6.29zm0-2.26L2 6v2h19V6z"}),"AccountBalanceOutlined");var L={},Ze=v;Object.defineProperty(L,"__esModule",{value:!0});var re=L.default=void 0,Je=Ze($()),Ke=e;re=L.default=(0,Je.default)((0,Ke.jsx)("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty");function J({Icon:t,color:i,name:s,count:c}){const[n]=A();return e.jsx(S,{sx:{border:`${n?"2px solid white":"1px solid transparent"}`},children:e.jsx(C,{children:e.jsxs(l,{container:!0,children:[e.jsx(l,{item:!0,xs:9,children:e.jsx(t,{style:{color:i,fontSize:"38px"}})}),e.jsx(l,{item:!0,xs:3,children:e.jsxs(l,{container:!0,children:[e.jsx(l,{item:!0,xs:12,sx:{color:"#141b3dff"},style:{color:`${n?"white":"#141b3dff"}`},children:c}),e.jsx(l,{item:!0,xs:12,sx:{fontSize:"12px",fontWeight:"bolder",color:"#141b3dff"},style:{color:`${n?"white":"black"}`},children:s})]})})]})})})}const Qe=t=>{const[i]=A(),s=[{value:50},{value:30},{value:85},{value:50},{value:100}];return e.jsx(e.Fragment,{children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx("span",{style:{fontWeight:"bold",color:`${i?"white":"black"}`},children:"Total Transactions"})}),e.jsx(l,{item:!0,xs:9,children:e.jsx("div",{className:"bar-graph",children:s.map((c,n)=>e.jsx("div",{className:"bar",style:{height:`${c.value}%`}},n))})}),e.jsxs(l,{item:!0,xs:3,children:[e.jsx(b,{children:e.jsxs(g,{sx:{fontWeight:"bold",color:`${i?"white":""}`},children:[" $",parseFloat((t==null?void 0:t.data)||0).toFixed(2)]})}),e.jsx(b,{children:e.jsxs(l,{container:!0,spacing:0,style:{textAlign:"center"},children:[e.jsx(l,{item:!0,xs:6,children:e.jsx(ne,{sx:{color:`${i?"white":"green"}`}})}),e.jsx(l,{item:!0,xs:6,children:e.jsx(g,{sx:{fontSize:"12px",color:`${i?"white":"green"}`},children:"Growth"})})]})})]})]})})};function Y({Icon:t,color:i,title:s,count:c}){return e.jsx(e.Fragment,{children:e.jsxs(S,{children:[e.jsx(m,{titleTypographyProps:{fontWeight:"bold"},title:s,style:{background:"#f5f6f7"}}),e.jsx(C,{children:e.jsx(l,{children:e.jsx(l,{item:!0,xs:12,style:{textAlign:"center",color:"white"},children:e.jsx(ze,{badgeContent:c,color:"info",showZero:!0,anchorOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiBadge-badge":{color:"white"}},children:e.jsx(t,{style:{color:i,fontSize:"36px"}})})})})})]})})}const Xe=({datas:t,mode:i})=>{var s=[];if(t)for(const[c,n]of Object.entries(t))s.push({value:n/localStorage.getItem("totalw")*100,label:c==null?void 0:c.replace("_TEST","")});return e.jsx(e.Fragment,{children:e.jsxs(S,{sx:{border:`${i?"1px solid white":"black"}`},children:[e.jsx(m,{title:"Wallet Overview",titleTypographyProps:{fontWeight:"bold"},style:{background:"#f5f6f7"}}),e.jsx(C,{children:(s==null?void 0:s.length)==0?e.jsx("span",{style:{color:`${i?"white":"black"}`,textAlign:"center"},children:"No Data to display"}):e.jsx(Ye,{series:[{arcLabel:c=>`${parseFloat(c.value).toFixed(2)}%`,data:s,innerRadius:50}],slotProps:{legend:{labelStyle:{fontSize:14,fill:`${i?"white":"black"}`}}},sx:{[`& .${Re.root}`]:{fill:"white",fontWeight:"bold",fontSize:"10px"}},width:"400",height:"200"})})]})})};function ye({mode:t}){return e.jsx(e.Fragment,{children:e.jsx(b,{sx:{overflow:"auto"},children:e.jsx(b,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:e.jsxs(b,{sx:{borderRadius:"12px",boxShadow:"3",background:`${t?"#183153":"white"}`,height:"60vh"},children:[e.jsx(g,{sx:{padding:"12px",fontWeight:"bold",color:`${t?"white":"black"}`},children:"Recent Trades"}),e.jsx("hr",{}),e.jsx(he,{coin:"BTCUSDT"})]})})})})}const me=({summary:t,mode:i})=>e.jsx(e.Fragment,{children:e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(J,{Icon:le,color:"#00a86b",name:"Total Account",count:t==null?void 0:t.totalAccount})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(J,{Icon:re,color:"#00a86b",name:"Total Wallet",count:t==null?void 0:t.wallet})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(S,{style:{height:"120px",border:"1px solid white"},children:e.jsx(C,{children:e.jsx(Qe,{data:t==null?void 0:t.transactionsallTotal})})})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:6,children:e.jsx(Y,{Icon:ge,color:"#3e8ef7",title:"Invoice",count:t==null?void 0:t.totalInvoice})}),e.jsx(l,{item:!0,xs:6,children:e.jsx(Y,{Icon:be,color:"#0bb2d4",title:"Ticket",count:t==null?void 0:t.totalTicket})}),e.jsx(l,{item:!0,xs:6,children:e.jsx(Y,{Icon:Q,color:"#ff4f54",title:"Wallet",count:t==null?void 0:t.totalAccount})}),e.jsx(l,{item:!0,xs:6,children:e.jsx(Y,{Icon:ie,color:"#00a86bff",title:"Crypto Wallet",count:t==null?void 0:t.wallet})})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(Xe,{datas:t==null?void 0:t.walletItems,mode:i})}),e.jsx(l,{item:!0,xs:12,sx:{display:{xs:"none",lg:"flex"}},children:e.jsx(ye,{mode:i})})]})});function et({Icon:t,color:i,name:s,value:c,total:n,mode:a}){return e.jsxs(e.Fragment,{children:[e.jsx(Ie,{minwidth:250,height:160,value:c,startAngle:-120,innerRadius:"60%",endAngle:120,text:({})=>`${n}`,sx:h=>({[`& .${z.valueText}`]:{fontSize:15,fontWeight:"bold",transform:"translate(4px, 46px)"},[`& .${z.valueText} text`]:{fill:`${a?"white":"black"}`},[`& .${z.valueArc}`]:{fill:i},[`& .${z.referenceArc}`]:{fill:`${a?"white":h.palette.text.disabled}`}})}),e.jsx(l,{sx:{position:"relative",top:{lg:"-100px",xs:"-80px"},textAlign:"center"},children:e.jsxs(l,{container:!0,spacing:1,style:{position:"relative",right:"0px"},children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(t,{sx:{fontSize:{lg:"60px",xs:"20px"},color:i}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx("span",{style:{fontSize:"10px",position:"relative",top:"-20px",fontWeight:"900",color:`${a?"white":"black"}`},children:s})})]})})]})}function tt({count:t,color:i,Icon:s,title:c}){return e.jsx(e.Fragment,{children:e.jsx(S,{style:{height:"120px",background:i,color:"white"},children:e.jsx(C,{children:e.jsxs(l,{container:!0,children:[e.jsx(l,{item:!0,xs:8,spacing:3,children:e.jsxs(l,{container:!0,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx("span",{style:{fontSize:"28px"},children:t})}),e.jsx(l,{item:!0,xs:12,style:{fontSize:"10px"},children:c})]})}),e.jsx(l,{item:!0,xs:4,style:{textAlign:"center",position:"relative",top:"15px"},children:e.jsx(s,{style:{fontSize:"65px"}})})]})})})})}const nt=({data:t,mode:i})=>{var s,c;return e.jsxs(e.Fragment,{children:[e.jsx(g,{sx:{paddingLeft:"10px",paddingTop:"10px",background:"#673ab7",fontWeight:"bold",color:"white"},variant:"h6",id:"tableTitle",component:"div",children:"Recent Transactions"}),e.jsx(ee,{}),e.jsxs(X,{style:{background:`${i?"":"#F2F3FE"}`,color:"black"},children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Date"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Trx"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Type"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Amount"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Details"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Status"})]})}),e.jsxs(te,{children:[(s=t==null?void 0:t.slice(0,5))==null?void 0:s.map(n=>e.jsxs(u,{children:[e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},scope:"row",children:d(n.createdAt).format("YYYY-MM-DD")}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},scope:"row",children:n.trx}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:n.trans_type}),e.jsxs(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:[K(n==null?void 0:n.from_currency),n.amount]}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:n==null?void 0:n.info}),e.jsxs(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:[((n==null?void 0:n.status)==="Decline"||n.status==="Decline")&&e.jsx("span",{children:"Decline"}),((n==null?void 0:n.status)==="succeeded"||n.status==="Success"||(n==null?void 0:n.status)=="Complete")&&e.jsx("span",{style:{border:"1px solid green",padding:"12px",borderRadius:"20px",background:`${i?"green":""}`},children:"Success"}),(n==null?void 0:n.status)==="cancelled"||(n==null?void 0:n.status)==="Cancelled"&&e.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${i?"red":""}`},children:"Cancelled"}),(n==null?void 0:n.status)==="pending"&&e.jsx("span",{style:{border:"1px solid orange",padding:"12px",borderRadius:"20px",background:`${i?"orange":""}`},children:"Pending"})]})]},n.date)),((c=t==null?void 0:t.data)==null?void 0:c.length)==0&&e.jsx(u,{colSpan:4,children:e.jsx(r,{colSpan:6,style:{textAlign:"center",padding:"20px"},children:"No Transactions found"})})]})]})]})},it=({data:t,mode:i})=>{var s,c;return e.jsxs(e.Fragment,{children:[e.jsx(g,{sx:{paddingLeft:"10px",width:"100%",paddingTop:"10px",background:"#673ab7",fontWeight:"bold",color:"white"},variant:"h6",id:"tableTitle",component:"div",children:"Crypto Transactions"}),e.jsx(ee,{}),e.jsxs(X,{style:{background:`${i?"":"#F2F3FE"}`,color:"black"},children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Date"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Coin"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Payment Type"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"No of Coins"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Side"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Amount"}),e.jsx(r,{style:{padding:"12px",background:"#8657E5",color:"white"},children:"Status"})]})}),e.jsxs(te,{children:[(s=t==null?void 0:t.slice(0,5))==null?void 0:s.map(n=>{var a;return e.jsxs(u,{children:[e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},scope:"row",children:d(n.createdAt).format("YYYY-MM-DD")}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},scope:"row",children:(a=n==null?void 0:n.coin)==null?void 0:a.replace("_TEST","")}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:(n==null?void 0:n.paymentType)==""?"NA":n==null?void 0:n.paymentType}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:n.noOfCoins}),e.jsx(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:n.side}),e.jsxs(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:[K(n==null?void 0:n.currencyType),n.amount]}),e.jsxs(r,{style:{padding:"12px",fontSize:"14px",fontWeight:"400",color:`${i?"white":"black"}`},children:[n.status==="completed"&&e.jsx("span",{style:{border:"1px solid green",padding:"12px",borderRadius:"20px",background:`${i?"green":""}`},children:"Success"}),n.status==="cancelled"&&e.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${i?"red":""}`},children:"Cancelled"}),n.status==="declined"&&e.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${i?"red":""}`},children:"Decline"}),n.status==="pending"&&e.jsx("span",{style:{border:"1px solid orange",padding:"12px",borderRadius:"20px",background:`${i?"orange":""}`},children:"Pending"})]})]},n.date)}),((c=t==null?void 0:t.data)==null?void 0:c.length)==0&&e.jsx(u,{colSpan:4,children:e.jsx(r,{colSpan:6,style:{textAlign:"center",padding:"20px"},children:"No Transactions found"})})]})]})]})},lt=({summary:t,mode:i})=>{const s=[{Icon:fe,color:"#65d1bc",name:"Credit",value:`${(t==null?void 0:t.credit)>0?parseFloat(t==null?void 0:t.credit)/parseFloat((t==null?void 0:t.credit)+(t==null?void 0:t.debit))*100:"0"}`,total:`$${parseFloat((t==null?void 0:t.credit)||0).toFixed(2)}`},{Icon:je,color:"#fc762f",name:"Debit",value:`${(t==null?void 0:t.credit)>0?parseFloat(t==null?void 0:t.debit)/parseFloat((t==null?void 0:t.credit)+(t==null?void 0:t.debit))*100:"0"}`,total:`$${parseFloat((t==null?void 0:t.debit)||0).toFixed(2)}`},{Icon:ue,color:"#8657e5",name:"Revenue",value:`${(t==null?void 0:t.totalRevenue)>0?parseFloat(t==null?void 0:t.totalRevenue)/parseFloat((t==null?void 0:t.credit)+(t==null?void 0:t.debit))*100:"0"}`,total:`$${parseFloat((t==null?void 0:t.totalRevenue)||0).toFixed(2)}`}],c=[{Icon:oe,count:`${(t==null?void 0:t.totalUsers)||0}`,title:"Total Users",color:"#80982a"},{Icon:se,count:`${(t==null?void 0:t.totalUsers)-(t==null?void 0:t.pendingUsers)||0}`,title:"New Users",color:"#00a86b"},{Icon:Q,count:`${(t==null?void 0:t.pendingUsers)||0}`,title:"Pending Users",color:"#0bb2d4"}];return e.jsx(e.Fragment,{children:e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,sm:12,md:12,children:s.length!=0&&e.jsx(S,{style:{height:"200px",border:"2px solid white"},children:e.jsx(C,{children:e.jsx(l,{container:!0,spacing:4,children:s.map(n=>e.jsx(l,{item:!0,xs:4,children:e.jsx(et,{Icon:n.Icon,color:n.color,name:n.name,value:n.value,total:n.total,mode:i})}))})})})}),e.jsx(l,{item:!0,xs:12,children:c.length!=0&&e.jsx(l,{container:!0,spacing:3,children:c.map(n=>e.jsx(l,{item:!0,xs:12,md:6,lg:4,children:e.jsx(tt,{count:n.count,color:n.color,Icon:n.Icon,title:n.title})}))})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(nt,{data:t==null?void 0:t.transactions,mode:i})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(it,{data:t==null?void 0:t.crypto_transactions,mode:i})})]})})},ot=()=>{const[t]=A(),[i,s]=p.useState(""),[c,n]=p.useState(""),[a,h]=p.useState("7"),[ce,f]=p.useState(!1),[U,R]=p.useState(!1),[x,I]=p.useState(""),[j,M]=p.useState("");pe.useEffect(()=>{localStorage.getItem("admintoken")&&(f(!0),ae())},[a]);const V="api",[q,N]=p.useState(""),ae=async()=>{await G.get(`/${V}/v1/admin/dashboarddetails?filter=7&start=${i}&end=${c}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(o=>{o.data.status==201&&setTimeout(()=>{var k,D,T,F,_;f(!1),N((D=(k=o==null?void 0:o.data)==null?void 0:k.summary)==null?void 0:D[0]),localStorage.setItem("totalw",(_=(F=(T=o==null?void 0:o.data)==null?void 0:T.summary)==null?void 0:F[0])==null?void 0:_.wallet)},300)}).catch(o=>{console.log(o),f(!1)})},W=()=>{R(!1),h("7"),s(d().format("YYYY-MM-DD")),n(d().subtract(7,"d").format("YYYY-MM-DD"))},de=async o=>{o=="custom"?(R(!0),h(o)):(h(o),f(!0),I(""),M(""),o=="30"?(s(d().format("YYYY-MM-DD")),n(d().subtract(30,"d").format("YYYY-MM-DD"))):(s(d().format("YYYY-MM-DD")),n(d().subtract(7,"d").format("YYYY-MM-DD"))))},xe=async()=>{console.log("customEndDate",x,j),j!=""&&x!=""?(h("custom"),R(!1),await G.get(`/${V}/v1/admin/dashboarddetails?filter=${a}&start=${j}&end=${x}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(o=>{o.data.status==201&&setTimeout(()=>{var k,D,T,F,_;f(!1),N((D=(k=o==null?void 0:o.data)==null?void 0:k.summary)==null?void 0:D[0]),localStorage.setItem("totalw",(_=(F=(T=o==null?void 0:o.data)==null?void 0:T.summary)==null?void 0:F[0])==null?void 0:_.wallet)},300)}).catch(o=>{console.log(o),f(!1)})):alert("Please fill start and end Date")};return e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{sx:o=>({color:"#fff",zIndex:o.zIndex.drawer+1}),open:ce,onClick:W,children:["fetching details ...",e.jsx(ke,{color:"inherit"})]}),e.jsxs(b,{sx:{flexGrow:1,marginTop:"16px"},children:[e.jsxs(l,{container:!0,sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:[e.jsx(l,{item:!0,xs:12,sm:9,children:e.jsx(g,{variant:"h4",style:{fontWeight:"900",marginBottom:"12px",color:`${t?"white":""}`},children:"Dashboard"})}),!U&&x&&j&&e.jsx(l,{item:!0,xs:12,sm:9,sx:{marginTop:"16px"},children:e.jsxs(g,{sx:{color:`${t?"white":"black"}`},children:["Date Range : ",e.jsxs(e.Fragment,{children:["(",x,"-",j,")"]})," ",e.jsx(ve,{onClick:()=>{h("7"),I(""),M(""),s(d().format("YYYY-MM-DD")),n(d().subtract(7,"d").format("YYYY-MM-DD"))},children:"Reset"})]})}),e.jsx(l,{item:!0,xs:12,sm:3,sx:{display:"flex",flexDirection:"row",justifyContent:"normal",marginBottom:"12px",gap:"5px"},children:e.jsxs(De,{fullWidth:!0,value:a,sx:{border:`${t?"1px solid white":""}`},onChange:o=>de(o.target.value),children:[e.jsx(E,{value:"7",style:{color:`${t?"white":"black"}`},children:"7 days"}),e.jsx(E,{value:"30",style:{color:`${t?"white":"black"}`},children:"30 days"}),e.jsx(E,{value:"custom",style:{color:`${t?"white":"black"}`},children:"Custom"})]})})]}),e.jsxs(l,{container:!0,spacing:5,children:[e.jsx(l,{item:!0,xs:12,sm:12,md:4,children:e.jsx(me,{summary:q,mode:!!t})}),e.jsx(l,{item:!0,xs:12,sm:12,md:8,children:e.jsx(lt,{summary:q,mode:!!t})})]})]}),e.jsxs(Te,{fullWidth:!0,maxWidth:"sm",open:U,onClose:W,children:[e.jsx(Fe,{children:e.jsxs(l,{container:!0,spacing:2,children:[e.jsxs(l,{item:!0,xs:12,sm:6,children:[e.jsx("label",{htmlFor:"Start Date",style:{color:`${t?"white":"black"}`},children:"Start Date"}),e.jsx(Z,{type:"date",sx:{border:`${t?"1px solid white":"black"}`},value:x,onChange:o=>I(o.target.value),fullWidth:!0})]}),e.jsxs(l,{item:!0,xs:12,sm:6,style:{color:`${t?"white":"black"}`},children:[e.jsx("label",{htmlFor:"End Date",children:"End Date"}),e.jsx(Z,{type:"date",sx:{border:`${t?"1px solid white":"black"}`},value:j,onChange:o=>M(o.target.value),inputProps:{min:x||new Date().toISOString().substring(0,10)},fullWidth:!0})]})]})}),e.jsxs(_e,{children:[e.jsx($e,{onClick:()=>xe(),children:"Apply"}),e.jsx(Se,{onClick:()=>W(),children:"Close"})]})]})]})};function yt(){return e.jsx(ot,{})}export{yt as default};
