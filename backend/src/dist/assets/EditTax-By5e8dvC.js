import{k as $,u as B,f as R,R as l,r as D,j as e}from"./index-DWLfyV7i.js";import{a as j,j as S,B as b}from"./App-DrtOZD42.js";import{C as I}from"./ColorButton-zYRWfhx1.js";import{d as N}from"./KeyboardBackspace-B0CDdpKp.js";import{d as O}from"./DoneOutlineOutlined-iGO7Cb7F.js";import{T as P}from"./Toolbar-BcyIqHFS.js";import{B as E}from"./Box-DVjlkC-E.js";import{T as F}from"./Typography-BbgNLZ5J.js";import{G as s}from"./Grid-C5WZ5yPx.js";import{T as v}from"./TextField-zPXjT3u6.js";import{R as V,a as C}from"./RadioGroup-CE1oKDa4.js";import{F as T}from"./FormControlLabel-D7CUr9kq.js";import"./styled-UvVi3zCA.js";import"./Button-BwJo4BJ8.js";import"./ButtonBase-DuAtvFfD.js";import"./TransitionGroupContext-CPZXwPBU.js";import"./createSvgIcon-j2CwpMz4.js";import"./createSvgIcon-Bxm2ewFX.js";import"./isMuiElement-DaoDYf4M.js";import"./FormControl-BXsli751.js";import"./Select-B6J5njAN.js";import"./Menu-qMneCLiP.js";import"./Backdrop-BFkPp487.js";import"./utils-6TVLZy64.js";import"./SwitchBase-Cuej0o_I.js";import"./Stack-7i-iYPaL.js";import"./styled-DNCzWk1t.js";import"./createStyled-BzPMoOi7.js";function ce(){const a=$(),n=B(),[i]=R(),[u,m]=l.useState(""),[d,c]=l.useState(""),[p,x]=l.useState("yes"),g="api",k=t=>{x(t.target.value)};D.useEffect(()=>{y(a==null?void 0:a.id)},[a==null?void 0:a.id]);const y=async t=>{await j.get(`/${g}/v1/tax/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(r=>{r.data.status=="201"&&(m(r.data.data[0].Name),x(r.data.data[0].IsDefault),c(r.data.data[0].taxvalue))}).catch(r=>{console.log("error",r)})},h=(t,r)=>{r=="error"?b.error(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):b.success(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},w=async t=>{var f;t.preventDefault();const r=S(localStorage.getItem("token"));await j.patch(`/${g}/v1/tax/update/${a==null?void 0:a.id}`,{user:(f=r==null?void 0:r.data)==null?void 0:f.id,name:u,value:d,isDefault:p},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(o=>{o.data.status=="201"&&(h(o.data.message,"success"),n("/settings?filter=Tax"))}).catch(o=>{console.log("error",o),h(o.response.data.message,"error")})};return e.jsx(e.Fragment,{children:e.jsx(P,{sx:{display:"flex",flexDirection:"column",marginTop:"12px",borderRadius:".5rem",p:"10px",background:{xs:`${i?"#183153":"white"}`,sm:`${i?"":"white"}`},width:{xs:"100%",lg:"80%"}},children:e.jsxs(E,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(F,{children:e.jsx(N,{sx:{cursor:"pointer",marginBottom:"10px",color:`${i?"white":"black"}`},onClick:()=>n("/settings?filter=Tax")})}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Name"}),e.jsx(v,{required:!0,id:"name",name:"name",fullWidth:!0,value:u,onChange:t=>m(t.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Tax Value"}),e.jsx(v,{required:!0,id:"value",name:"value",type:"number",fullWidth:!0,value:d,onChange:t=>c(t.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsxs(s,{item:!0,xs:12,sm:12,sx:{marginLeft:"24px",marginTop:"12px",background:`${i?"white":""}`,color:"black"},children:[e.jsx("label",{children:"Default:"}),e.jsxs(V,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:p,onChange:k,children:[e.jsx(T,{value:"yes",control:e.jsx(C,{}),label:"Yes"}),e.jsx(T,{value:"no",control:e.jsx(C,{}),label:"No"})]})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(I,{color:"primary",onClick:t=>w(t),children:[e.jsx(O,{sx:{mr:1}}),"Submit"]})})]})]})})})}export{ce as default};
