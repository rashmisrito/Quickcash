import{f as y,u as B,R as p,j as e}from"./index-BupViSio.js";import{j as R,a as S,B as g}from"./App-DPd8oDNy.js";import{C as D}from"./ColorButton-BSaJbGxa.js";import{d as O}from"./KeyboardBackspace-DfX-N2S0.js";import{d as V}from"./DoneOutlineOutlined-D1iMet1-.js";import{u as F}from"./useValidation-BFtkzuDM.js";import{T as N}from"./Toolbar-UV7IiOHB.js";import{B as P}from"./Box-C145hu5M.js";import{T as G}from"./Typography-C-05GYiH.js";import{G as l}from"./Grid-B1t4UKB3.js";import{T as f}from"./TextField-JtUyMF_l.js";import{R as H,a as b}from"./RadioGroup-3CXCozfT.js";import{F as j}from"./FormControlLabel-a4mVyhCx.js";import"./styled-BsT2Uje-.js";import"./Button-CXQLG-lr.js";import"./ButtonBase-Cnw-KpJ1.js";import"./TransitionGroupContext-HDmFy-NO.js";import"./createSvgIcon-B4_0CFOw.js";import"./createSvgIcon-c6Q7LSIT.js";import"./isMuiElement-DCOEWuFR.js";import"./FormControl-CggpVb1O.js";import"./Select-CUzNhoH_.js";import"./Menu-DvW-7bCh.js";import"./Backdrop-DtEZozg_.js";import"./utils-4tjU1hxM.js";import"./SwitchBase-wpRYB9-y.js";import"./Stack-BYlHm6FU.js";import"./styled-DbqmzKIc.js";import"./createStyled-CGgeouwa.js";function ce(){const{errors:n,validate:o}=F(),[t]=y(),d=B(),[m,v]=p.useState(""),[u,w]=p.useState(""),C="api",[c,T]=p.useState("yes"),k=r=>{T(r.target.value)},x=(r,s)=>{s=="error"?g.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):g.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},$=async r=>{var s;if(r.preventDefault(),o("name",m&&!o("value",u)))o("name",m)&&o("name",m),o("value",u)&&o("value",u);else{const i=R(localStorage.getItem("token"));await S.post(`/${C}/v1/tax/add`,{user:(s=i==null?void 0:i.data)==null?void 0:s.id,name:m,value:u,isDefault:c},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{a.data.status=="201"&&(x(a.data.message,"success"),d("/settings"))}).catch(a=>{console.log("error",a),x(a.response.data.message,"error")})}},h=r=>{const{name:s,value:i}=r.target,a=o(s,i);console.log(a)};return e.jsx(e.Fragment,{children:e.jsx(N,{sx:{display:"flex",flexDirection:"column",marginTop:"10px",borderRadius:".5rem",p:"10px",background:{xs:`${t?"#183153":"white"}`,sm:`${t?"":"white"}`},border:{xs:`${t?"1px solid white":"white"}`,sm:`${t?"1px solid white":"white"}`},width:{xs:"100%",lg:"80%"}},children:e.jsxs(P,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(G,{children:e.jsx(O,{sx:{cursor:"pointer",color:`${t?"white":"black"}`,marginBottom:"10px"},onClick:()=>d("/settings")})}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Name"}),e.jsx(f,{required:!0,id:"name",name:"name",fullWidth:!0,sx:{border:`${t?"1px solid white":"1px solid black"}`},onChange:r=>v(r.target.value),onBlur:h,error:!!n.name,helperText:n.name,inputProps:{shrink:!0}})]}),e.jsxs(l,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Tax Rate"}),e.jsx(f,{required:!0,id:"value",name:"value",type:"number",fullWidth:!0,sx:{border:`${t?"1px solid white":"1px solid black"}`},onChange:r=>w(r.target.value),onBlur:h,error:!!n.value,helperText:n.value,inputProps:{shrink:!0}})]}),e.jsxs(l,{item:!0,xs:12,sm:12,sx:{marginLeft:"24px",marginTop:"12px",background:`${t?"white":""}`,color:"black"},children:[e.jsx("label",{children:"Default:"}),e.jsxs(H,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c,onChange:k,children:[e.jsx(j,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(j,{value:"no",control:e.jsx(b,{}),label:"No"})]})]}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(D,{color:"primary",onClick:r=>$(r),children:[e.jsx(V,{sx:{mr:1}}),"Submit"]})})]})]})})})}export{ce as default};
