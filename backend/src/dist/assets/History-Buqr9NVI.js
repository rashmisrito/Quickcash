import{f as A,R as b,r as B,j as t}from"./index-D-Z3PEJc.js";import{j as S,a as v}from"./App-C5vhFMem.js";import{h as M}from"./moment-Cl4UOzQZ.js";import{P as u}from"./index-BhzoCNf9.js";import{T as $,a as D,d as P,b as y}from"./FirstPage-BEklDVhi.js";import{d as C}from"./KeyboardArrowLeft-CLNvcDfO.js";import{d as T}from"./KeyboardArrowRight-Cb2vS1ff.js";import{B as f}from"./Box-DCyzdUAE.js";import{G as I,u as L}from"./Grid-Bu6buGuE.js";import{T as O,a as F,b as _}from"./TableHead-Cqio5iQQ.js";import{P as q}from"./Menu-BTdQhGPK.js";import{T as j}from"./TableRow-DuVlok5U.js";import{T as l}from"./TableCell-Bhe6_fxZ.js";import{T as Y}from"./TableBody-D_nMlwPk.js";import{I as g}from"./IconButton-Cp7kGfML.js";import"./Tablelvl2Context-2R8ravF-.js";import"./styled-ibrWRFOc.js";import"./createSvgIcon-CLxdQzf4.js";import"./Toolbar-BVWD1vu2.js";import"./Select-EloRlcax.js";import"./TransitionGroupContext-PLEewXdM.js";import"./ButtonBase-DppN0Hkz.js";import"./MenuItem-DZherMnu.js";import"./dividerClasses-B4-AQ68E.js";import"./listItemTextClasses-UOyPp4c5.js";import"./createSvgIcon-B8UspgM4.js";import"./isMuiElement-CB7WGySX.js";import"./Backdrop-r2QkIdSB.js";import"./utils-CzilLcR2.js";function k(x){const a=L(),{count:d,page:s,rowsPerPage:c,onPageChange:i}=x,n=o=>{i(o,0)},p=o=>{i(o,s-1)},h=o=>{i(o,s+1)},m=o=>{i(o,Math.max(0,Math.ceil(d/c)-1))};return t.jsxs(f,{sx:{flexShrink:0,ml:2.5},children:[t.jsx(g,{onClick:n,disabled:s===0,"aria-label":"first page",children:a.direction==="rtl"?t.jsx(P,{}):t.jsx(y,{})}),t.jsx(g,{onClick:p,disabled:s===0,"aria-label":"previous page",children:a.direction==="rtl"?t.jsx(T,{}):t.jsx(C,{})}),t.jsx(g,{onClick:h,disabled:s>=Math.ceil(d/c)-1,"aria-label":"next page",children:a.direction==="rtl"?t.jsx(C,{}):t.jsx(T,{})}),t.jsx(g,{onClick:m,disabled:s>=Math.ceil(d/c)-1,"aria-label":"last page",children:a.direction==="rtl"?t.jsx(y,{}):t.jsx(P,{})})]})}k.propTypes={count:u.number.isRequired,onPageChange:u.func.isRequired,page:u.number.isRequired,rowsPerPage:u.number.isRequired};const E=[{id:"date",label:"Date",minWidth:170},{id:"coin",label:"Coin",minWidth:100},{id:"paymentType",label:"Payment Type",minWidth:100},{id:"noOfCoins",label:"No Of Coins",minWidth:100},{id:"walletaddress",label:"Wallet Address",minWidth:100},{id:"side",label:"Side",minWidth:100},{id:"amount",label:"Amount",minWidth:100},{id:"status",label:"Status",minWidth:100}];function N(x,a,d,s,c,i,n,p,h){return{id:x,date:a,coin:d,paymentType:s,noOfCoins:c,walletAddress:i,side:n,amount:p,status:h}}function be(){const[x]=A(),[a,d]=b.useState(),s="api";B.useEffect(()=>{const e=S(localStorage.getItem("token"));c(e.data.id)},[]);const c=async e=>{await v.get(`/${s}/v1/crypto/list/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(r=>{r.data.status=="201"&&d(r.data.data)}).catch(r=>{console.log("error",r)})};let i=[];i=[a==null?void 0:a.map(e=>N(e._id,e.createdAt,e.coin,e.paymentType,e.noOfCoins,e.walletAddress,e.side,e.amount,e.status))].sort((e,r)=>e.date<r.date?-1:1);const n=i[0]||[],[p,h]=b.useState(0),[m,o]=b.useState(5),W=(e,r)=>{console.log("New Page",e),h(r)},R=e=>{o(parseInt(e.target.value,5)),h(0)};return t.jsx(t.Fragment,{children:t.jsx(f,{sx:{marginLeft:{md:"7%"},marginTop:"12px",fontSize:"15px",width:{md:"90%"}},children:t.jsx(I,{sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:"white",padding:"10px 12px"},children:t.jsx(f,{sx:{overflow:"auto"},children:t.jsx(f,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:t.jsx(O,{component:q,children:t.jsxs(F,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[t.jsx(_,{children:t.jsx(j,{className:`${x?"avatarDark":"avatarLight"}`,children:E.map(e=>t.jsx(l,{style:{minWidth:e.minWidth},children:e.label},e.id))})}),t.jsx(Y,{children:(m>0?n==null?void 0:n.slice(p*m,p*m+m):n).map(e=>t.jsxs(j,{children:[t.jsx(l,{component:"th",scope:"row",children:M(e==null?void 0:e.date).format("MMMM Do YYYY, h:mm:ss A")}),t.jsx(l,{style:{width:50},component:"th",scope:"row",children:e==null?void 0:e.coin}),t.jsx(l,{style:{width:160},component:"th",scope:"row",children:e==null?void 0:e.paymentType}),t.jsx(l,{style:{width:160},component:"th",scope:"row",children:e==null?void 0:e.noOfCoins}),t.jsx(l,{style:{width:160},component:"th",scope:"row",children:e==null?void 0:e.walletAddress}),t.jsx(l,{style:{width:160},component:"th",scope:"row",children:e==null?void 0:e.side.toUpperCase()}),t.jsx(l,{style:{width:160},component:"th",scope:"row",children:parseFloat(e==null?void 0:e.amount).toFixed(2)}),t.jsx(l,{style:{width:160},component:"th",scope:"row",children:e==null?void 0:e.status})]},e==null?void 0:e.date))}),t.jsx($,{children:t.jsx(j,{children:t.jsx(D,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:7,count:n.length,rowsPerPage:m,page:p,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:W,onRowsPerPageChange:R,ActionsComponent:k})})})]})})})})})})})}export{be as default};
