import{k as w,u as Q,R as i,r as R,j as e,L as z}from"./index-BoluCWJx.js";import{a as f}from"./App-DmzB4KYc.js";/* empty css                        */import{B as $}from"./Backdrop-BiRxOpLA.js";import{C as b}from"./CircularProgress-DpQfCBCz.js";import{G as n}from"./Grid-CDAIVjPl.js";import{T as E}from"./Typography-DPkJNBsU.js";import"./styled-BE7uoR5C.js";import"./utils-PFTex4TT.js";import"./TransitionGroupContext-D5Gal4xy.js";function L(t){return e.jsxs(E,{variant:"body2",color:"text.secondary",align:"center",...t,children:["Copyright Â© ",e.jsx(z,{color:"inherit",to:"/",style:{textDecoration:"none"},children:"Quick Cash"})," ",new Date().getFullYear(),"."]})}function O(){const t=w();Q();const[m,u]=i.useState(""),[y,v]=i.useState(""),d="api",[g,c]=i.useState(!1),N=()=>{c(!1)};R.useEffect(()=>{k(t==null?void 0:t.id,t==null?void 0:t.type)},[t==null?void 0:t.id]);const[l,D]=i.useState(""),[o,C]=i.useState(""),k=async(a,r)=>{c(!0),await f.get(`/${d}/v1/quote/check-status/${a}`).then(s=>{var x,h,p,j;s.data.status==201&&(D((x=s==null?void 0:s.data)==null?void 0:x.dueDate),C((h=s==null?void 0:s.data)==null?void 0:h.type),u((p=s==null?void 0:s.data)==null?void 0:p.data),((j=s==null?void 0:s.data)==null?void 0:j.data)=="live"?S(a,r):(v(!0),c(!1)))}).catch(s=>{console.log(s)})},S=async(a,r)=>{await f.patch(`/${d}/v1/quote/status/${a}`,{status:r}).then(s=>{s.data.status==201&&c(!1)}).catch(s=>{console.log(s)})};return e.jsxs("div",{style:{marginTop:"79px"},children:[e.jsxs($,{sx:{color:"#fff",zIndex:a=>a.zIndex.drawer+1},open:g,onClick:N,children:[e.jsx(b,{color:"inherit"})," Processing..."]}),m=="live"&&((t==null?void 0:t.type)=="accept"||(t==null?void 0:t.type)=="reject")&&e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{item:!0,xs:1}),e.jsx(n,{item:!0,xs:12,sm:12,children:e.jsx(n,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"16px",fontSize:"30px"},children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"content",children:e.jsx("span",{className:"title",children:"Your response has been saved"})}),e.jsx("div",{className:"actions",children:e.jsx("a",{href:"/",className:"history",style:{textDecoration:"none"},children:"Quick Cash"})})]})})})})]}),o=="converted"||o=="accept"||o=="reject"?e.jsx(n,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"16px",fontSize:"30px"},children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"content",children:e.jsx("p",{className:"message",children:"Link has been expired"})}),e.jsx("div",{className:"actions",children:e.jsx("a",{href:"/",className:"history",style:{textDecoration:"none"},children:"Quick Cash"})})]})})}):null,y?e.jsx(e.Fragment,{children:e.jsx(n,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"16px",fontSize:"30px"},children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"header",children:[e.jsxs("div",{className:"content",children:[e.jsx("span",{className:"title",children:"Link has been expired"}),e.jsx("p",{className:"message",children:l?`Due date was on ${l}`:null})]}),e.jsx("div",{className:"actions",children:e.jsx("a",{href:"/",className:"history",style:{textDecoration:"none"},children:"Quick Cash"})})]})})})}):null,e.jsx(L,{sx:{mt:8,mb:4}})]})}export{O as default};
