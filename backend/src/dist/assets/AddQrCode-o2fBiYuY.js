import{u as y,R as n,j as e}from"./index-B9qwR40S.js";import{n as w,p as N,j as R,a as k,B as p}from"./App-CFR6fik0.js";import{d as B}from"./CloudUpload-BCy1sBt0.js";import{d as T}from"./KeyboardBackspace-p3g3FXJu.js";import{d as D}from"./DoneOutlineOutlined-Do4oYN3g.js";import{T as I}from"./Toolbar-CygE0b_a.js";import{B as S}from"./Box-DjrMrGfB.js";import{T as q}from"./Typography-BgIXEw26.js";import{G as s}from"./Grid-BIlHrh_s.js";import{T as F}from"./TextField-DIvH6pZa.js";import{C as L}from"./Card-BGgVOW-e.js";import{C as O}from"./CardHeader-DfP_sc4l.js";import{A as P}from"./Avatar-BLdAY2VN.js";import{R as A,a as c}from"./RadioGroup-Boq9NS0m.js";import{F as u}from"./FormControlLabel-XwWfn4bV.js";import{s as H}from"./styled-BsGwS7pf.js";import{B as Q}from"./Button-aV3rdW9B.js";import"./createSvgIcon-BUt4voxn.js";import"./createSvgIcon-CcoZBy8v.js";import"./TransitionGroupContext-Cv1NJVlO.js";import"./isMuiElement-D5GR-K16.js";import"./ButtonBase-zmZ_D00R.js";import"./FormControl-BMtTfMYN.js";import"./Select-XPPy0NoH.js";import"./Menu-H6tylDrM.js";import"./Backdrop-Oj7HNN4g.js";import"./utils-DDNWiXs5.js";import"./index-BYwnN-4t.js";import"./useSlot-C5fw4elg.js";import"./SwitchBase-Y7am25X4.js";import"./Stack-CSx1LiRw.js";import"./styled-BlZJa671.js";import"./createStyled-BGj6BOnT.js";const _=H(Q)(({theme:i})=>({color:i.palette.getContrastText(N[500]),backgroundColor:"#2196f3","&:hover":{backgroundColor:"#2196f3"}}));function be(){const i=y(),[x,g]=n.useState(""),[t,h]=n.useState({preview:"",raw:""}),f="api",l=(r,o)=>{o=="error"?p.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):p.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},j=async r=>{var d;r.preventDefault();const o=R(localStorage.getItem("admintoken"));await k.post(`/${f}/v1/admin/qrcode/add`,{user:(d=o==null?void 0:o.data)==null?void 0:d.id,title:x,qrCodeImage:t==null?void 0:t.raw,isDefault:m},{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(a=>{a.data.status=="201"&&(l(a.data.message,"success"),i("/admin/invoices/payment-qr-codes"))}).catch(a=>{console.log("error",a),l(a.response.data.message,"error")})},[m,v]=n.useState("yes"),b=r=>{v(r.target.value)},C=r=>{r.target.files.length&&h({preview:URL.createObjectURL(r.target.files[0]),raw:r.target.files[0]})};return e.jsx(e.Fragment,{children:e.jsx(I,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{xs:"0%",md:"7%"},background:"white",width:{xs:"100%",lg:"80%"}},children:e.jsxs(S,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(q,{children:e.jsx(T,{sx:{cursor:"pointer",marginBottom:"10px"},onClick:()=>i("/admin/invoices/payment-qr-codes")})}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Title"}),e.jsx(F,{required:!0,id:"name",name:"name",fullWidth:!0,onChange:r=>g(r.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsx(s,{item:!0,xs:12,sm:12,children:e.jsxs(L,{sx:{marginBottom:"10px",maxWidth:345},children:[e.jsx(O,{avatar:e.jsx(P,{sx:{bgcolor:w[500]},"aria-label":"recipe",children:"QR"}),title:"Upload Payment QR-Code"}),e.jsxs("div",{className:"Neon Neon-theme-dragdropbox",children:[e.jsx("input",{style:{zIndex:"999",opacity:"0",width:"100%",height:"100%",background:"silver",position:"absolute",right:"0px; left: 0px",marginRight:"auto",marginLeft:"auto"},name:"files[]",id:"filer_input2",type:"file",onChange:C}),t.preview?e.jsx("img",{src:t.preview,alt:"dummy",width:"100%",height:"100%"}):e.jsx("div",{className:"Neon-input-dragDrop",children:e.jsxs("div",{className:"Neon-input-inner",children:[e.jsx("div",{className:"Neon-input-icon",children:e.jsx("i",{className:"fa fa-file-image-o"})}),e.jsx("div",{className:"Neon-input-text"}),e.jsx("a",{className:"Neon-input-choose-btn blue",children:e.jsx(B,{style:{cursor:"pointer"}})})]})})]})]})}),e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Default:"}),e.jsxs(A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:m,onChange:b,children:[e.jsx(u,{value:"yes",control:e.jsx(c,{}),label:"Yes"}),e.jsx(u,{value:"no",control:e.jsx(c,{}),label:"No"})]})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(_,{color:"primary",onClick:r=>j(r),children:[e.jsx(D,{sx:{mr:1}})," Submit"]})})]})]})})})}export{be as default};
