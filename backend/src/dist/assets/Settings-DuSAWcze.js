import{f as Z,r as i,j as e}from"./index-D-Z3PEJc.js";import{j as C,a as b,B as z,n as J,p as K}from"./App-C5vhFMem.js";import{R as Q}from"./index.esm-B1UUEZzV.js";/* empty css                        */import{d as V}from"./CloudUpload-BDiIcqpP.js";import{B as N}from"./Box-DCyzdUAE.js";import{G as s}from"./Grid-Bu6buGuE.js";import{T as l}from"./TextField-RtVheVmu.js";import{F as X}from"./FormControl-Bhzdesby.js";import{C as Y}from"./Card-DUA65hnm.js";import{C as ee}from"./CardHeader-OkVJrjR_.js";import{A as ae}from"./Avatar-BIzfuxN-.js";import{s as te}from"./styled-ibrWRFOc.js";import{B as se}from"./Button-paA1xTrW.js";import"./createSvgIcon-B8UspgM4.js";import"./createSvgIcon-CLxdQzf4.js";import"./TransitionGroupContext-PLEewXdM.js";import"./isMuiElement-CB7WGySX.js";import"./ButtonBase-DppN0Hkz.js";import"./Select-EloRlcax.js";import"./Menu-BTdQhGPK.js";import"./Backdrop-r2QkIdSB.js";import"./utils-CzilLcR2.js";import"./Typography-XE6xpzxH.js";import"./index-DUM55S7N.js";import"./useSlot-BJoegaDz.js";const A=te(se)(({theme:r})=>({color:r.palette.getContrastText(K[500]),backgroundColor:"#2196f3","&:hover":{backgroundColor:"#2196f3"}}));function Te(){const[r]=Z(),[m,S]=i.useState(),[x,k]=i.useState(),[p,w]=i.useState(),[g,L]=i.useState(),[h,$]=i.useState(),[u,D]=i.useState(),[T,q]=i.useState(),[O,F]=i.useState(""),[v,I]=i.useState(""),[f,B]=i.useState(),[j,_]=i.useState(),[R,H]=i.useState(""),[n,U]=i.useState({preview:"",raw:""}),y="api";i.useEffect(()=>{var t,d;const a=C(localStorage.getItem("admintoken"));F((t=a==null?void 0:a.data)==null?void 0:t.id),P((d=a==null?void 0:a.data)==null?void 0:d.id)},[]);const P=async a=>{await b.get(`/${y}/v1/admin/invoicesetting/list/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{t.data.status=="201"&&(_(t.data.data[0].company_name),w(t.data.data[0].mobile),I(t.data.data[0].invoice_country),k(t.data.data[0].state),q(t.data.data[0].logo),S(t.data.data[0].city),$(t.data.data[0].zipcode),D(t.data.data[0].address),L(t.data.data[0].prefix),H(t.data.data[0]._id),B(t.data.data[0].regardstext))}).catch(t=>{console.log("error",t),c(t.response.data.message,"error")})},E=a=>{a.target.files.length&&(q(""),U({preview:URL.createObjectURL(a.target.files[0]),raw:a.target.files[0]}))},G=a=>{I(a)},c=(a,t)=>{t=="error"?z.error(a,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):z.success(a,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},M=async a=>{var d;const t=C(localStorage.getItem("admintoken"));a.preventDefault(),await b.post(`/${y}/v1/admin/invoicesetting/add`,{user:(d=t==null?void 0:t.data)==null?void 0:d.id,invoice_country:v,company_name:j,mobile:p,state:x,city:m,zipcode:h,address:u,logo:n==null?void 0:n.raw,prefix:g,regardstext:f},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`,"Content-Type":"multipart/form-data"}}).then(o=>{o.data.status=="201"&&c(o.data.message,"success")}).catch(o=>{console.log("error",o),c(o.response.data.message,"error")})},W=async a=>{var d;const t=C(localStorage.getItem("admintoken"));await b.patch(`/${y}/v1/admin/invoicesetting/update/${a}`,{user:(d=t==null?void 0:t.data)==null?void 0:d.id,invoice_country:v,company_name:j,mobile:p,state:x,city:m,zipcode:h,address:u,logo:n==null?void 0:n.raw,prefix:g,regardstext:f},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`,"Content-Type":"multipart/form-data"}}).then(o=>{o.data.status=="201"&&c(o.data.message,"success")}).catch(o=>{console.log("error",o),c(o.response.data.message,"error")})};return e.jsx(e.Fragment,{children:e.jsx(N,{sx:{marginLeft:{md:"7%"},marginTop:"12px",fontSize:"15px",width:{md:"90%"}},children:e.jsx(s,{sx:{display:"flex",flexDirection:"column",gap:"10px"},children:e.jsx(s,{className:r?"profiledarkbg":"profileLightbg",sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:"white",padding:"10px 12px"},children:e.jsx(N,{sx:{overflow:"auto"},children:e.jsx(N,{sx:{display:"flex",margin:"20px"},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{xs:12,sm:12,sx:{marginTop:"12px",marginBottom:"12px"},className:`${r?"avatarDark":"avatarLight"}`,children:["General Settings",e.jsx("hr",{})]}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Company Name"}),e.jsx(l,{required:!0,id:"outlined-required",sx:{width:"95%"},value:j,onChange:a=>_(a.target.value)})]}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Phone / Mobile"}),e.jsx(l,{required:!0,id:"outlined-required",value:p,sx:{width:"95%",marginTop:"10px"},onChange:a=>w(a.target.value)})]}),e.jsx(s,{xs:12,sm:6,children:e.jsxs(X,{style:{width:"95%",marginTop:"10px"},children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Country"}),e.jsx(Q,{selected:v,onSelect:a=>G(a),className:"menu-flags",searchable:!0,showOptionLabel:!0,showSelectedLabel:!0})]})}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"State"}),e.jsx(l,{required:!0,id:"outlined-required",value:x,sx:{width:"95%",marginTop:"10px"},onChange:a=>k(a.target.value)})]}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"City"}),e.jsx(l,{required:!0,id:"outlined-required",value:m,sx:{width:"95%",marginTop:"10px"},onChange:a=>S(a.target.value)})]}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Zip Code"}),e.jsx(l,{required:!0,id:"outlined-required",value:h,sx:{width:"95%",marginTop:"10px"},onChange:a=>$(a.target.value)})]}),e.jsxs(s,{xs:12,sm:6,sx:{marginTop:"10px"},children:[e.jsx("label",{htmlFor:"companyAddress",className:`${r?"avatarDark":"avatarLight"}`,children:"Company Address:"}),e.jsx("textarea",{required:!0,id:"appname",name:"appname",cols:30,rows:18,value:u,onChange:a=>D(a.target.value),style:{border:"1px solid silver",borderRadius:"9px",marginTop:"10px",width:"100%"}})]}),e.jsxs(s,{xs:12,sm:6,sx:{marginTop:"10px"},children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Company Logo:"}),e.jsxs(Y,{sx:{marginBottom:"10px",maxWidth:345,marginLeft:"10px",background:"white"},children:[e.jsx(ee,{avatar:e.jsx(ae,{sx:{bgcolor:J[500]},"aria-label":"recipe",children:"CL"}),title:"Company Logo"}),e.jsxs("div",{className:"Neon Neon-theme-dragdropbox",children:[e.jsx("input",{style:{zIndex:"999",opacity:"0",width:"100%",height:"100%",background:"silver",position:"absolute",right:"0px; left: 0px",marginRight:"auto",marginLeft:"auto"},name:"files[]",id:"filer_input2",type:"file",onChange:E}),T?e.jsxs(e.Fragment,{children:[e.jsx("img",{crossOrigin:"anonymous",className:"image",src:`https://quickcash.oyefin.com/setting/${O}/${T}`,alt:"proofoftrading",width:"100%",height:"100%"}),e.jsx("div",{className:"overlay",children:e.jsx("div",{className:"text",children:"Click here to change logo"})})]}):n.preview?e.jsx("img",{src:n.preview,alt:"dummy",width:"100%",height:"100%"}):e.jsx("div",{className:"Neon-input-dragDrop",style:{marginLeft:"10px"},children:e.jsxs("div",{className:"Neon-input-inner",children:[e.jsx("div",{className:"Neon-input-icon",children:e.jsx("i",{className:"fa fa-file-image-o"})}),e.jsx("div",{className:"Neon-input-text"}),e.jsx("a",{className:"Neon-input-choose-btn blue",children:e.jsx(V,{style:{cursor:"pointer"}})})]})})]})]})]}),e.jsxs(s,{xs:12,sm:12,sx:{marginTop:"12px",marginBottom:"12px"},className:`${r?"avatarDark":"avatarLight"}`,children:["Invoice Settings",e.jsx("hr",{})]}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Invoice No Prefix"}),e.jsx(l,{required:!0,id:"outlined-required",sx:{width:"95%"},value:g,onChange:a=>L(a.target.value)})]}),e.jsxs(s,{xs:12,sm:6,children:[e.jsx("label",{className:`${r?"avatarDark":"avatarLight"}`,children:"Regards Text"}),e.jsx(l,{required:!0,id:"outlined-required",sx:{width:"95%"},value:f,onChange:a=>B(a.target.value)})]}),e.jsx(s,{xs:12,sm:12,sx:{marginTop:"10px"},children:R?e.jsx(A,{onClick:()=>W(R),children:"Update"}):e.jsx(A,{onClick:a=>M(a),children:"Save"})})]})})})})})})})}export{Te as default};
