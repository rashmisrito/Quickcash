import{j as e,u as Y,f as M,R as n,r as Z}from"./index-BupViSio.js";import{i as j,j as z,a as C,g as A,B as F}from"./App-DPd8oDNy.js";import{S as ee,A as te,c as ae}from"./index-B86bvoZw.js";import{R as re}from"./react-country-flag.esm-DwAZ8N3p.js";import{d as se}from"./Search-DtllgTb3.js";import{C as L}from"./ColorButton-BSaJbGxa.js";import{r as g}from"./createSvgIcon-B4_0CFOw.js";import{d as oe}from"./ArrowBackOutlined-VD8Dah2t.js";import{d as ie}from"./KeyboardBackspace-DfX-N2S0.js";import{d as B}from"./ContentCopyOutlined-BFp7qV6D.js";import{T as ne}from"./Toolbar-UV7IiOHB.js";import{B as c}from"./Box-C145hu5M.js";import{G as t}from"./Grid-B1t4UKB3.js";import{P as le,M as N,L as ce}from"./Menu-DvW-7bCh.js";import{I as de}from"./Select-CUzNhoH_.js";import{I as xe}from"./IconButton-D5JlACbC.js";import{D as pe,a as ue}from"./DialogContent-CA-gSf7a.js";import{D as he}from"./DialogContentText-LmoFygTp.js";import{F as w}from"./Fab-CZ3i84K_.js";import{B as T}from"./Button-CXQLG-lr.js";import{L as me}from"./ListItem-DVA9QZLU.js";import{L as fe}from"./ListItemButton-BrUxseV4.js";import{L as je}from"./ListItemAvatar-BfyQORXP.js";import{A as ge}from"./Avatar-BkVhrvtn.js";import{L as ve}from"./ListItemText-CXyrpXkR.js";import{T as be}from"./TextField-JtUyMF_l.js";import"./index-a_FsHuo7.js";import"./useSlot-DKrrUoc4.js";import"./TransitionGroupContext-HDmFy-NO.js";import"./styled-BsT2Uje-.js";import"./createSvgIcon-c6Q7LSIT.js";import"./Close-C-w3W5Zf.js";import"./ButtonBase-Cnw-KpJ1.js";import"./isMuiElement-DCOEWuFR.js";import"./Backdrop-DtEZozg_.js";import"./utils-4tjU1hxM.js";import"./Typography-C-05GYiH.js";import"./listItemTextClasses-o44NHM8x.js";import"./FormControl-CggpVb1O.js";var D={},ye=j;Object.defineProperty(D,"__esModule",{value:!0});var W=D.default=void 0,Ce=ye(g()),we=e;W=D.default=(0,Ce.default)((0,we.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"CreateOutlined");var $={},De=j;Object.defineProperty($,"__esModule",{value:!0});var E=$.default=void 0,$e=De(g()),ke=e;E=$.default=(0,$e.default)((0,ke.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"}),"AddBoxOutlined");var k={},Se=j;Object.defineProperty(k,"__esModule",{value:!0});var P=k.default=void 0,_e=Se(g()),H=e;P=k.default=(0,_e.default)([(0,H.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),(0,H.jsx)("path",{d:"M14 17H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"},"1")],"ArticleOutlined");var S={},Ie=j;Object.defineProperty(S,"__esModule",{value:!0});var V=S.default=void 0,Oe=Ie(g()),Re=e;V=S.default=(0,Oe.default)((0,Re.jsx)("path",{d:"m15 16-4 4h10v-4zm-2.94-8.81L3 16.25V20h3.75l9.06-9.06zM5.92 18H5v-.92l7.06-7.06.92.92zm12.79-9.96c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75z"}),"DriveFileRenameOutlineOutlined");const q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:399,bgcolor:"background.paper",borderRadius:".5rem",boxShadow:24,pt:2,px:4,pb:3},ze=()=>{const[d]=M(),[s,x]=n.useState(!1),p=()=>{x(!0)},l=()=>{x(!1)},[v,a]=n.useState(""),h=(i,y)=>{y=="error"?F.error(i,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):F.success(i,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},u="api",b=async()=>{await C.put(`/${u}/v1/account/change-name`,{name:v,user_id:localStorage.getItem("activeAccountId")},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(i=>{i.data.status=="201"&&h(i.data.message,"success")}).catch(i=>{console.log("error",i),h(i.response.data.message,"error")})};return e.jsxs(n.Fragment,{children:[e.jsx(T,{onClick:p,children:e.jsx(ce,{sx:{pt:0},children:e.jsx(me,{disableGutters:!0,children:e.jsxs(fe,{autoFocus:!0,children:[e.jsx(je,{children:e.jsx(ge,{children:e.jsx(W,{})})}),e.jsx(ve,{primary:"Change Account Name"})]})})})}),e.jsx(N,{open:s,onClose:l,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:e.jsxs(c,{sx:{...q,width:500},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(t,{children:e.jsx("h2",{id:"child-modal-title",style:{color:"black"},children:"Change Account Name"})}),e.jsx(t,{children:e.jsx(w,{size:"small",color:"secondary","aria-label":"add",onClick:l,children:"X"})})]}),e.jsx(be,{id:"outlined-basic",fullWidth:!0,label:"Account Name",onChange:i=>a(i.target.value),variant:"outlined"}),e.jsx(T,{variant:"contained",onClick:()=>b(),sx:{marginTop:"10px"},fullWidth:!0,startIcon:e.jsx(V,{}),children:"Update"})]})})]})};function gt(){const d=Y(),[s]=M(),[x,p]=n.useState(!1),[l,v]=n.useState(),[a,h]=n.useState(),[u,b]=n.useState(),i="api";Z.useEffect(()=>{const r=z(localStorage.getItem("token"));_(r.data.id)},[]);const y=r=>{const o=z(localStorage.getItem("token"));_(o.data.id,r)},_=async(r,o="")=>{await C.get(`/${i}/v1/account/list/${r}?title=${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(f=>{f.data.status=="201"&&(v(f.data.data),X(r))}).catch(f=>{console.log("error",f)})},X=async r=>{await C.get(`/${i}/v1/account/default/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(o=>{console.log("Result result",o.data.data),o.data.status=="201"&&(b(o.data.data[0].accountDetails),localStorage.setItem("activeAccountId",o.data.data[0].accountDetails._id))}).catch(o=>{console.log("error",o)})},G=r=>{p(!0),h(r)},U=()=>{p(!1)},I=r=>{ae(r),m(!0),setTimeout(()=>{m(!1)},900)},[O,J]=n.useState(!1),K=()=>{m(!1)},[Q,m]=n.useState(!1),R=(r,o)=>{console.log(r),o!=="clickaway"&&m(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:Q,autoHideDuration:6e3,onClose:R,anchorOrigin:{horizontal:"center",vertical:"top"},children:e.jsx(te,{onClose:R,severity:"success",variant:"filled",sx:{width:"100%"},children:"Copied!"})}),e.jsxs(ne,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(c,{sx:{marginTop:"0%",borderRadius:".5rem",width:{xs:"100%",md:"70%"}},children:e.jsx(ie,{className:`${s?"avatarDark":"avatarLight"}`,sx:{cursor:"pointer"},onClick:()=>d("/home")})}),e.jsxs(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:{xs:"100%",md:"70%"}},children:[e.jsx(t,{className:`${s?"avatarDark":"avatarLight"}`,sx:{fontSize:{md:"30px",fontWeight:"700"}},children:"All Accounts"}),e.jsx(t,{children:e.jsx(E,{className:`${s?"avatarDark":"avatarLight"}`,onClick:()=>d("/add-account"),sx:{cursor:"pointer",fontSize:{md:"30px",fontWeight:"700"}}})})]}),e.jsx(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:{xs:"100%",md:"70%"}},children:e.jsxs(le,{component:"form",sx:{p:"2px 5px",marginTop:"15px",background:`${s?"#183153":"white"}`,border:`${s?"1px solid white":""}`,display:"flex",width:"100%",alignItems:"center"},children:[e.jsx(de,{sx:{ml:1,flex:1},placeholder:"Search by account name",inputProps:{"aria-label":"search by account name"},onChange:r=>y(r.target.value)}),e.jsx(xe,{type:"button",sx:{p:"10px",color:`${s?"white":"black"}`},"aria-label":"search",children:e.jsx(se,{})})]})}),e.jsx(c,{sx:{flexGrow:"1",marginTop:"2%",width:{xs:"100%",md:"70%"}},children:e.jsxs(c,{display:"grid",sx:{gridTemplateColumns:{sm:"repeat(12, 1fr)",md:"repeat(6,1fr)",lg:"repeat(12, 1fr)"}},gap:2,children:[l==null?void 0:l.map((r,o)=>e.jsx(e.Fragment,{children:e.jsx(c,{gridColumn:"span 6",onClick:()=>G(r),sx:{marginBottom:"15px"},children:e.jsx(t,{className:"account_flag_hover",item:!0,xs:6,sx:{display:"flex",flexDirection:"column",flexWrap:"wrap",border:`${s?"1px solid white":""}`,background:`${s?"":"white"}`,borderRadius:".5rem"},children:e.jsxs(t,{sx:{display:"flex",flexDirection:"column",p:"10px 10px",gap:"16px"},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(t,{children:e.jsx(re,{countryCode:r.country,svg:!0,style:{width:"2em",height:"2em",borderRadius:"50%"},cdnUrl:"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.4.3/flags/1x1/",cdnSuffix:"svg",title:r.country})}),(u==null?void 0:u.iban)==(r==null?void 0:r.iban)&&e.jsx(t,{sx:{p:"7px 7px",marginX:"10px",borderRadius:".5rem",background:"blue",color:"white",fontSize:{xs:"auto",md:"12px"},fontWeight:"700"},children:"Default"})]}),e.jsxs(t,{sx:{fontWeight:"700"},children:[e.jsx(t,{children:r.name}),e.jsxs(t,{children:[A(r.currency),parseFloat(r.amount).toFixed(2)]})]})]})})},o)})),(l==null?void 0:l.length)==0&&e.jsx(e.Fragment,{children:e.jsx(c,{gridColumn:"span 12",sx:{display:"flex",background:`${s?"":"white"}`,padding:"10px",borderRadius:"10px",flexDirection:"column"},children:"No Account found"})})]})}),e.jsx("div",{children:e.jsx(n.Fragment,{children:e.jsx(pe,{open:x,fullScreen:!0,fullWidth:!0,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{justifyContent:"center"},children:e.jsx(ue,{sx:{marginTop:"60px"},children:e.jsxs(he,{id:"alert-dialog-description",children:[e.jsxs(t,{sx:{display:"flex",gap:"10px",p:"10px 12px",borderRadius:".5rem",color:`${s?"white":"black"}`,flexDirection:"column",justifyContent:"center",marginX:{lg:"340px"}},children:[e.jsx(t,{children:e.jsx(oe,{sx:{cursor:"pointer"},onClick:()=>p(!x)})}),e.jsx(t,{children:a==null?void 0:a.name}),e.jsx(t,{sx:{display:"flex",flexDirection:"row",gap:"10px"},children:e.jsxs(t,{sx:{color:`${s?"white":"black"}`,fontWeight:"700"},children:[A(a==null?void 0:a.currency),parseFloat(a==null?void 0:a.amount).toFixed(2)]})}),e.jsxs(t,{sx:{display:"flex",flexDirection:"cplumn",gap:"10px"},children:[e.jsx(t,{children:e.jsx(L,{onClick:()=>d("/statements"),variant:"contained",startIcon:e.jsx(P,{}),children:"Statement"})}),e.jsx(t,{})]})]}),e.jsxs(t,{sx:{display:"flex",gap:"10px",marginTop:"20px",flexDirection:"column",justifyContent:"center",marginX:{lg:"340px"}},children:[e.jsxs(t,{sx:{fontWeight:"700"},className:`${s?"avatarDark":"avatarLight"}`,children:["ACCOUNT DETAILS",e.jsx("hr",{})]}),e.jsxs(t,{sx:{display:"flex",p:"10px 12px",color:`${s?"white":"black"}`,flexDirection:"column",gap:"30px",borderRadius:"10px"},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e.jsxs(t,{children:[e.jsx(t,{children:"Account Number"}),e.jsx(t,{children:a==null?void 0:a.iban})]}),e.jsx(t,{children:e.jsx(w,{color:"info",sx:{color:"white"},"aria-label":"add",onClick:()=>I(a==null?void 0:a.iban),children:e.jsx(B,{})})})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e.jsxs(t,{children:[e.jsx(t,{children:"IFSC Code"}),e.jsx(t,{children:a==null?void 0:a.bic_code})]}),e.jsx(t,{children:e.jsx(w,{color:"info",sx:{color:"white"},"aria-label":"add",onClick:()=>I(a==null?void 0:a.bic_code),children:e.jsx(B,{})})})]}),e.jsx(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:e.jsxs(t,{children:[e.jsx(t,{children:"Currency"}),e.jsx(t,{children:a==null?void 0:a.currency})]})}),e.jsx(t,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:e.jsxs(t,{children:[e.jsx(t,{children:"Account Holding"}),e.jsx(t,{children:"Currency Exchange"})]})})]})]})]})})})})}),e.jsx("div",{children:e.jsx(N,{open:O,onClose:K,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:e.jsxs(c,{sx:{...q,width:400},children:[e.jsx(L,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},onClick:()=>J(!O),children:"X"}),e.jsx(ze,{})]})})})]})]})}export{gt as default};
