import{k as L,u as M,f as H,R as a,r as P,j as e}from"./index-D-Z3PEJc.js";import{a as T,B as k}from"./App-C5vhFMem.js";import{i as z}from"./index-DLUslAsi.js";import{R as D}from"./index.esm-B1UUEZzV.js";import{C as G}from"./ColorButton-NPYyAwOA.js";import{d as U}from"./KeyboardBackspace-CmaCv-u4.js";import{d as J}from"./DoneOutlineOutlined-CWexy3FU.js";import{B as w}from"./Box-DCyzdUAE.js";import{T as K}from"./Toolbar-BVWD1vu2.js";import{T as Q}from"./Typography-XE6xpzxH.js";import{G as s}from"./Grid-Bu6buGuE.js";import{T as i}from"./TextField-RtVheVmu.js";import{S as V}from"./Select-EloRlcax.js";import{M as W}from"./MenuItem-DZherMnu.js";import{F as E}from"./FormControl-Bhzdesby.js";import"./styled-ibrWRFOc.js";import"./Button-paA1xTrW.js";import"./ButtonBase-DppN0Hkz.js";import"./TransitionGroupContext-PLEewXdM.js";import"./createSvgIcon-B8UspgM4.js";import"./createSvgIcon-CLxdQzf4.js";import"./isMuiElement-CB7WGySX.js";import"./Menu-BTdQhGPK.js";import"./Backdrop-r2QkIdSB.js";import"./utils-CzilLcR2.js";import"./dividerClasses-B4-AQ68E.js";import"./listItemTextClasses-UOyPp4c5.js";function Re(){const d=L(),N=M(),[O]=H(),[$,q]=a.useState(),[l,n]=a.useState(""),[u,c]=a.useState(),[m,x]=a.useState(),[p,h]=a.useState(),[g,b]=a.useState(),[j,f]=a.useState(),[v,C]=a.useState(),[S,y]=a.useState(),[R,B]=a.useState(""),I="api";P.useEffect(()=>{F(d==null?void 0:d.id)},[d.id]);const F=async t=>{await T.get(`/${I}/v1/receipient/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(r=>{r.data.status=="201"&&(c(r.data.data.name),x(r.data.data.mobile),h(r.data.data.email),b(r.data.data.iban),f(r.data.data.bic_code),C(r.data.data.status),y(r.data.data.address),n(r.data.data.country),q(r.data.data._id),B(r.data.data.rtype))}).catch(r=>{console.log("error",r)})},A=(t,r)=>{r=="error"?k.error(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):k.success(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},_=async t=>{const r=z.getAllInfoByISO(l);await T.patch(`/${I}/v1/receipient/update`,{name:u,user_id:t,iban:g,bic_code:j,country:l,currency:r==null?void 0:r.currency,status:v,amount:0,mobile:m,email:p,address:S,type:R},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(o=>{o.data.status=="201"&&A(o.data.message,"success")}).catch(o=>{console.log("error",o),A(o.response.data.message,"error")})};return e.jsxs(e.Fragment,{children:[e.jsx(w,{sx:{marginTop:"0%",borderRadius:".5rem",marginLeft:{md:"7%"},width:{xs:"100%",md:"87%"}},children:e.jsx(U,{onClick:()=>N("/send"),className:`${O?"avatarDark":"avatarLight"}`,sx:{cursor:"pointer"}})}),e.jsx(K,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{md:"7%"},background:"white",width:{lg:"80%"}},children:e.jsxs(w,{sx:{marginTop:"0%",borderRadius:".5rem",width:{xs:"100%",md:"87%"}},children:[e.jsx(Q,{variant:"h6",gutterBottom:!0,children:"Edit Receipient"}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Name"}),e.jsx(i,{required:!0,id:"name",placeholder:"Name",value:u,onChange:t=>c(t.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Type"}),e.jsxs(V,{fullWidth:!0,value:R,onChange:t=>B(t.target.value),children:[e.jsx(W,{value:"Individual",children:"Individual"}),e.jsx(W,{value:"Business",children:"Business"})]})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Mobile"}),e.jsx(i,{required:!0,id:"mobile",value:m,onChange:t=>x(t.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Email"}),e.jsx(i,{required:!0,id:"email",value:p,onChange:t=>h(t.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"IBAN / Account Number"}),e.jsx(i,{required:!0,id:"outlined-required",value:g,onChange:t=>b(t.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"BIC Code / IFSC Code"}),e.jsx(i,{required:!0,id:"bic",value:j,onChange:t=>f(t.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsx(E,{fullWidth:!0,children:e.jsx(D,{selected:l,onSelect:t=>n(t),className:"menu-flags",searchable:!0,showOptionLabel:!0,showSelectedLabel:!0})})}),e.jsx(s,{item:!0,xs:12,sm:12,children:e.jsxs(E,{fullWidth:!0,children:[e.jsx("label",{id:"demo-multiple-name-label",children:"Status"}),e.jsxs("select",{value:v,onChange:t=>C(t.target.value),style:{cursor:"pointer",height:"50px",border:"2px solid silver",borderRadius:"10px"},children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"In-Active"})]})]})}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx("label",{children:"Address"}),e.jsx(i,{id:"address2",name:"address2",fullWidth:!0,minRows:"5",value:S,onChange:t=>y(t.target.value),autoComplete:"shipping address-line2",sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(G,{color:"primary",onClick:()=>_($),children:[e.jsx(J,{sx:{mr:1}}),"Update"]})})]})]})})]})}export{Re as default};
