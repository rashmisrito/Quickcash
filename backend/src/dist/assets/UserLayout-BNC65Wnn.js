import{c as be,r as m,j as e,L as U,u as ye,R as f,l as Ee,O as Le}from"./index-CoE2VX6x.js";import{i as fe,j as Q,a as P,B,c as qe,C as Ae}from"./App-7Jvq8VZr.js";import{h as ue}from"./moment-Cl4UOzQZ.js";import{u as He}from"./useKyc-CxJdcksA.js";import{d as Pe}from"./Menu-zenoT6VF.js";import{T as Z}from"./Toolbar-NhwhGpkP.js";import{I as J}from"./IconButton-CZlcg0JC.js";import{T as N}from"./Typography-DO58wcCM.js";import{A as Be}from"./AuthContext-C8zU-CVP.js";import{r as Ce}from"./createSvgIcon--VUwzkW7.js";import{d as ge,D as pe,A as ze,a as Re,b as We,c as Ye}from"./Notifications-Db3ue4iK.js";import{d as je}from"./ExpandMore-Dk5TW9Sd.js";import{d as Ge}from"./Assignment-DAUxDvdC.js";import{S as ve}from"./Stack-4LF5SYHY.js";import{T as C}from"./Tooltip-CKUcvM9Z.js";import{D as Ve}from"./Divider-CTePAebU.js";import{L as Y,a as Ke}from"./Menu-D-pkvpX0.js";import{L as p}from"./ListItem-Tr94vnFs.js";import{L as c}from"./ListItemButton-Bq6_Pdab.js";import{L as l}from"./ListItemIcon-Bw8RjwiU.js";import{L as n}from"./ListItemText-D7An1dGt.js";import{C as ke}from"./Collapse-VGrJCxeM.js";import{B as O}from"./Box-DrvSF1jp.js";import{d as Ue}from"./MoreVert-DH_4KxTz.js";import{T as Qe}from"./ThemeProvider-CkG5ybWu.js";import{G as g}from"./Grid-RwPzdMJP.js";import{B as Je}from"./Badge-BQKj8CwK.js";import{M as G}from"./MenuItem-BW-lSX80.js";import"./styled-CaunRRC8.js";import"./ButtonBase-DA2QyLs9.js";import"./TransitionGroupContext-DihpCnG2.js";import"./createSvgIcon-CskSDz12.js";import"./isMuiElement-D9XtXNGG.js";import"./Slide-cuw80ekH.js";import"./utils-IyNMls5d.js";import"./styled-Bj8gJ0RJ.js";import"./createStyled-qN3W3q-W.js";import"./Popper-SvloUm2X.js";import"./Popper-Di5r8MZd.js";import"./dividerClasses-CRl8VoYq.js";import"./Backdrop-CVEWDLdi.js";import"./listItemTextClasses-tTLZOOAe.js";import"./index-BFTBlV4a.js";import"./usePreviousProps-D5X0mqEq.js";function Xe(t){const{pathname:u}=be(),[d,r]=m.useState(""),[v,$]=m.useState(""),o=localStorage.getItem("themeColor")=="dark";m.useEffect(()=>{r(u.split("/")[1].toLocaleUpperCase()),$(u.split("/").length==4?u.split("/")[2].toLocaleUpperCase():"")},[u]);const I=()=>{t.isClosing||t.setMobileOpen(!t.mobileOpen)};return e.jsxs(Z,{sx:{display:"flex"},children:[e.jsx(J,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:I,sx:{mr:2,display:{md:"none"}},children:e.jsx(Pe,{})}),d=="EDIT-RECEIPIENT"||d=="BENEFICIARY"||d=="TRANSACTIONS"||d=="STATEMENTS"||d=="ADD-MEMBER"||d=="RESPONSE"||d=="ECOMMERCE"||d=="SPOT"||d=="SEND"||d=="ACCOUNTS"||d=="ADD-ACCOUNT"||d=="EDIT-ACCOUNT"||d=="USER-PROFILE"?"":d=="HOME"?e.jsx(e.Fragment,{children:e.jsx(N,{sx:{fontWeight:"700",fontSize:{md:"28px"},marginTop:{md:"50px"}},children:e.jsx(U,{to:"/home",style:{textDecoration:"none"},className:`${o?"avatarDark":"avatarLight"}`,children:"Dashboard"})})}):d=="SETTINGS"?e.jsx(e.Fragment,{children:e.jsx(N,{sx:{fontWeight:"700",fontSize:{md:"28px"},marginTop:{md:"50px"}}})}):d=="NOTIFICATIONALL"?e.jsx(e.Fragment,{children:e.jsx(N,{sx:{fontWeight:"700",fontSize:{md:"28px"},marginTop:{md:"50px"}}})}):d=="CRYPTO-DASHBOARD"?e.jsx(e.Fragment,{}):v=="COMPLETE"?e.jsx(e.Fragment,{}):e.jsx(N,{className:`${o?"avatarDark":"avatarLight"}`,sx:{fontWeight:"700",fontSize:{md:"28px"},marginTop:{md:"50px"},color:{xs:`${o?"white":"black"}`},textTransform:"capitalize"},children:u.replace("/","")})]})}var ee={},Ze=fe;Object.defineProperty(ee,"__esModule",{value:!0});var X=ee.default=void 0,es=Ze(Ce()),ss=e;X=ee.default=(0,es.default)((0,ss.jsx)("path",{d:"M16.24 13.65c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 14.13 6 15.21 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74m-15.02.93C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58m21.56 0c-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57c0-.81-.48-1.53-1.22-1.85M12 12c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3M1.4968 11l2.5031-2.503L6.5031 11l-2.5032 2.5032zM20 9l-2.5 4h5z"}),"Groups3");const V=290;function ts(t){const[u,d]=m.useState(!1),[r,v]=m.useState(""),$=a=>{a==r&&u==!0?d(!1):d(!0),v(a)},{pathname:o}=be();m.useContext(Be);const I=ye(),{window:_}=t,E=()=>{t.setIsClosing(!0),t.setMobileOpen(!1)},L=()=>{t.setIsClosing(!1)},i=a=>{t.setMobileOpen(!1),t.setIsClosing(!0),I(`/${a}`)},[x,z]=m.useState(""),[D,k]=m.useState("");m.useEffect(()=>{if(localStorage.getItem("token")){const a=Q(localStorage.getItem("token"));z(a==null?void 0:a.data.email),k(a==null?void 0:a.data.id),q()}},[]);const[w,R]=f.useState(""),q=async()=>{await P.get("/api/v1/user/profilephoto",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{var y,T;((y=a==null?void 0:a.data)==null?void 0:y.status)==201&&R((T=a==null?void 0:a.data)==null?void 0:T.data)}).catch(a=>{A(a.response.data.message,"error"),console.log("Login api error",a)})},A=(a,y)=>{y=="error"?B.error(a,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):B.success(a,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},S=e.jsxs("div",{className:`${t!=null&&t.theme?"bgWhite":"bgBlack"}`,style:{height:"260vh",borderRight:"2px solid transparent",borderBottom:"1px solid transparent"},children:[e.jsx(Z,{children:e.jsxs(ve,{direction:"row",spacing:2,children:[w!=""&&e.jsx("img",{src:`https://quickcash.oyefin.com/storage/${D}/${w}`,width:50,onError:({currentTarget:a})=>{a.onerror=null,a.src="https://quickcash.oyefin.com/icons/avatar.png"}}),w==""&&e.jsx("img",{src:"https://quickcash.oyefin.com/icons/avatar.png",width:50}),e.jsxs(ve,{className:`${t.theme?"avatarDark":"avatarLight"}`,direction:"column",style:{flex:"row"},children:[e.jsx("div",{children:"Quick Cash"}),e.jsx("div",{style:{cursor:"pointer"},children:e.jsx(C,{title:x,arrow:!0,children:(x==null?void 0:x.length)>20?(x==null?void 0:x.substring(0,20))+"...":x})})]})]})}),e.jsx(Ve,{sx:{border:"1px solid lavender"}}),e.jsxs(Y,{children:[e.jsx("div",{onClick:()=>i("home"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("home")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/dashboard.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Dashboard"})]})},"0")}),e.jsx("div",{onClick:()=>i("cards"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("cards")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/card.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Cards"})]})},"1")}),e.jsx("div",{onClick:()=>i("payments"),style:{display:"none",textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("payments")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(Ge,{className:"listItemIcon"})}),e.jsx(n,{primary:"Online Payments"})]})},"2")}),e.jsx("div",{onClick:()=>i("members"),style:{display:"none",textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("members")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(X,{className:"listItemIcon"})}),e.jsx(n,{primary:"Team Members"})]})},"3")}),e.jsx("div",{onClick:()=>i("transactions"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("transactions")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/transaction.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Transaction"})]})},"4")}),e.jsx("div",{onClick:()=>i("statements"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("statements")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/statement.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Statement"})]})},"5")}),e.jsx("div",{style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("crypto")?"active__hover__listhover":""}`,style:{cursor:"pointer"},children:e.jsxs(c,{onClick:()=>$("crypto"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/crypto.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Crypto"}),u&&r=="crypto"?e.jsx(ge,{}):e.jsx(je,{})]})},"6")}),e.jsx(ke,{in:!!(u&&r=="crypto"),timeout:"auto",unmountOnExit:!0,children:e.jsxs(Y,{component:"div",disablePadding:!0,children:[e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("crypto-dashboard"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/spot-trade.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Dashboard"})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("spot"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/spot-trade.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Spot Trade"})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("crypto/wallet"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/wallet.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Wallet Address",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("crypto"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/buysell.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Buy / Sell",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]})]})}),e.jsx("div",{onClick:()=>i("user-profile"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("user-profile")?"active__hover__listhover":""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/userprofile.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"User Profile"})]})},"7")}),e.jsx("div",{onClick:()=>i("Company-Details"),style:{display:"none",textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("Company-Details")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(X,{className:"listItemIcon"})}),e.jsx(n,{primary:"Company Details"})]})},"9")}),e.jsx("div",{onClick:()=>i("help-center"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("help-center")?`${t.theme?"active__hover__listhoverDark":"active__hover__listhover"}`:""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/support.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Tickets"})]})},"10")}),e.jsx("div",{onClick:()=>i("invite"),style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("invite")?"active__hover__listhover":""}`,style:{cursor:"pointer"},children:e.jsxs(c,{children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/reward.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Refer & Earn"})]})},"11")}),e.jsx("div",{style:{textDecoration:"none",color:"black"},children:e.jsx(p,{className:`${t.theme?"listHoverDark":"listHover"} ${o.includes("invoices")?"active__hover__listhover":""}`,style:{cursor:"pointer"},children:e.jsxs(c,{onClick:()=>$("invoices"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/invoice.png",className:"listItemIcon",width:30})}),e.jsx(n,{primary:"Invoices"}),u&&r=="invoices"?e.jsx(ge,{}):e.jsx(je,{})]})},"12")}),e.jsx(ke,{in:!!(u&&r=="invoices"),timeout:"auto",unmountOnExit:!0,children:e.jsxs(Y,{component:"div",disablePadding:!0,children:[e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoices/Dashboard"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/invoice.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Invoice Dashboard",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoices/clients"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/group.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Clients",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4,background:`${(o==null?void 0:o.split("/")[2])=="category"?"#FC762F":""}`},onClick:()=>i("invoices/category"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/categories.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Categories",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4,background:`${(o==null?void 0:o.split("/")[2])=="product"?"#FC762F":""}`},onClick:()=>i("invoices/product"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/products.png",className:"listItemIcon",width:20})}),e.jsx(n,{className:"subitemText",primary:"Products",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoices/quotes/list"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/quotes.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Quotes",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoices/template-settings"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/templates.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Invoice Templates",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoice-section"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/invoices.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Invoices",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoices/manual-payment"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/invoicepayment.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Manual Invoice Payment",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("invoices/transactions"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/invoicetransaction.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Invoice Transactions",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]}),e.jsxs(c,{className:"subitem",sx:{pl:4},onClick:()=>i("settings"),children:[e.jsx(l,{children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/settings.png",className:"listItemIcon",width:20})}),e.jsx(n,{primary:"Settings",className:"subitemText",sx:{color:`${t!=null&&t.theme?"white":"black"}`}})]})]})})]})]}),b=_!==void 0?()=>_().document.body:void 0;return e.jsx(e.Fragment,{children:e.jsxs(O,{component:"nav",sx:{width:{md:V},flexShrink:{md:0}},"aria-label":"mailbox folders",children:[e.jsx(pe,{container:b,variant:"temporary",open:t.mobileOpen,onTransitionEnd:L,onClose:E,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:V}},children:S}),e.jsx(pe,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:V}},open:!0,children:S})]})})}var se={},as=fe;Object.defineProperty(se,"__esModule",{value:!0});var $e=se.default=void 0,rs=as(Ce()),H=e;$e=se.default=(0,rs.default)([(0,H.jsx)("path",{d:"M21 12.22C21 6.73 16.74 3 12 3c-4.69 0-9 3.65-9 9.28-.6.34-1 .98-1 1.72v2c0 1.1.9 2 2 2h1v-6.1c0-3.87 3.13-7 7-7s7 3.13 7 7V19h-8v2h8c1.1 0 2-.9 2-2v-1.22c.59-.31 1-.92 1-1.64v-2.3c0-.7-.41-1.31-1-1.62"},"0"),(0,H.jsx)("circle",{cx:"9",cy:"13",r:"1"},"1"),(0,H.jsx)("circle",{cx:"15",cy:"13",r:"1"},"2"),(0,H.jsx)("path",{d:"M18 11.03C17.52 8.18 15.04 6 12.05 6c-3.03 0-6.29 2.51-6.03 6.45 2.47-1.01 4.33-3.21 4.86-5.89 1.31 2.63 4 4.44 7.12 4.47"},"3")],"SupportAgent");const K=290;function Qs(){var ae,re,oe;const t=ye(),[u,d]=f.useState(null),[r,v]=m.useState(!1),[$,o]=m.useState("light"),[I,_]=f.useState(!1),[E,L]=f.useState(!1),{notifications:i}=m.useContext(Ee),[x,z]=f.useState([]),D=Q(localStorage.getItem("token")),{kcyDetails:k}=He((ae=D==null?void 0:D.data)==null?void 0:ae.id),[w,R]=f.useState(!1);m.useEffect(()=>{setTimeout(()=>{R(!0)},10)},[]),m.useEffect(()=>{localStorage.getItem("themeColor")&&localStorage.getItem("themeColor")=="dark"?(v(!0),o("dark")):o("light")},[]);const q=s=>{s.target.checked?(localStorage.setItem("themeColor","dark"),o("dark")):(localStorage.setItem("themeColor","light"),o("light")),v(s.target.checked)},A=s=>{s=="dark"?(localStorage.setItem("themeColor","light"),o("light"),v(!1)):(localStorage.setItem("themeColor","dark"),o("dark"),v(!0))},[S,b]=f.useState(!1),a=Q(localStorage.getItem("token"));m.useEffect(()=>{i==null||i.map(s=>{var h;console.log("user",s==null?void 0:s.user,a),((s==null?void 0:s.type)=="user"||(s==null?void 0:s.type)=="crypto"||(s==null?void 0:s.type)=="kyc")&&(s==null?void 0:s.user)==((h=a==null?void 0:a.data)==null?void 0:h.id)?(b(!0),console.log("4")):(s==null?void 0:s.type)=="all"&&(b(!0),console.log("5"))})},[i]),m.useEffect(()=>{T()},[]);const y="api",T=async()=>{await P.get(`/${y}/v1/admin/notification/unread`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(s=>{var h,F,M,ie,ce,le,ne,de,he;((h=s==null?void 0:s.data)==null?void 0:h.status)=="201"&&(z((F=s==null?void 0:s.data)==null?void 0:F.data),((ie=(M=s==null?void 0:s.data)==null?void 0:M.data)==null?void 0:ie.length)>0&&((ce=s==null?void 0:s.data)!=null&&ce.usersGroup&&((ne=s==null?void 0:s.data)!=null&&ne.usersGroup.includes((le=a==null?void 0:a.data)==null?void 0:le.id))&&(console.log("1"),b(!0)),(he=(de=s==null?void 0:s.data)==null?void 0:de.data)==null||he.map(j=>{var me,xe;(j==null?void 0:j.user)==((me=a==null?void 0:a.data)==null?void 0:me.id)&&(console.log("2"),b(!0)),(j==null?void 0:j.user)==((xe=a==null?void 0:a.data)==null?void 0:xe.id)&&(j==null?void 0:j.read)==!1&&(console.log("3"),b(!0))})))}).catch(s=>{console.log("error",s)})},Ie=qe({components:{MuiCssBaseline:{styleOverrides:{scrollBar:{scrollbarColor:"#6b6b6b #fff","&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:"#2b2b2b",width:"6px"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:1,backgroundColor:"#6b6b6b",minHeight:24,border:"1px solid #2b2b2b",scrollbarWidth:"thin"},"&::-webkit-scrollbar-thumb:focus, & *::-webkit-scrollbar-thumb:focus":{backgroundColor:"#959595",scrollbarWidth:"thin"},"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active":{backgroundColor:"#959595",scrollbarWidth:"thin"},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:"#959595",scrollbarWidth:"thin"},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:"#2b2b2b",scrollbarWidth:"thin"}}}},MuiPaper:{styleOverrides:{root:{background:r?"#183153":"light",borderRight:r?"1px solid transparent":"1px solid #F5F5F5 !important"}}},MuiTextField:{styleOverrides:{root:{outline:"01px solid white"}}},MuiSelect:{styleOverrides:{root:{outline:"0.1px solid white"}}},MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:r?"dark":"light",backgroundImage:"unset"}}},MuiDrawer:{styleOverrides:{root:{background:r?"dark":"light"}}},MuiTableCell:{styleOverrides:{root:{color:r?"white":"black"}}},MuiListItem:{styleOverrides:{root:{paddingTop:"0px",paddingBottom:"0px"}}},MuiDialog:{styleOverrides:{paper:{background:r?"#183153":"#F5F5F5",text:"#fff"}}}},palette:{primary:{main:"#183153",light:"#FFFFFF",dark:"#FFFFFF"},secondary:{main:"#F5F5F5",light:"#F5F5F5",dark:"black"},background:{default:r?"#183153":"#F5F5F5"},text:{primary:r?"#FFFFFF":"#183153",secondary:"#183153"},contrastThreshold:4}}),[we,Ne]=m.useState(!1),[os,_e]=m.useState(null),[W,De]=m.useState(!1),Se=s=>{_e(s.currentTarget),Ne(!we),b(!1)},Te=async()=>{var s;(x==null?void 0:x.length)>0&&await P.patch(`/${y}/v1/admin/notification/update-unread`,{user:(s=a==null?void 0:a.data)==null?void 0:s.id},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(h=>{var F,M;((F=h==null?void 0:h.data)==null?void 0:F.status)=="201"&&(T(),console.log((M=h==null?void 0:h.data)==null?void 0:M.data))}).catch(h=>{console.log("error",h)})},Fe=async()=>{await P.patch("/myapp/v1/session/update",{user:localStorage.getItem("usersessionid"),isActiveNow:0}).then(s=>{s.status==200}).catch(s=>{console.log("Login api error",s)})},te=()=>{Fe(),localStorage.clear(),Me("Logout Successfully!!!","success"),t("/")},Me=(s,h)=>{h=="error"?B.error(s,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):B.success(s,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},Oe=s=>{d(s.currentTarget),De(!W)};return e.jsx(e.Fragment,{children:e.jsxs(Qe,{theme:Ie,children:[e.jsx(Ae,{}),e.jsxs(O,{sx:{display:"flex"},children:[e.jsxs(O,{sx:{display:"flex"},children:[e.jsx(ze,{position:"fixed",color:r?"primary":"secondary",enableColorOnDark:!0,sx:{width:{md:`calc(100% - ${K}px)`},ml:{md:`${K}px`},boxShadow:{md:"none"},backgroundImage:"black",color:{xs:`${r?"white":"black"}`},background:{xs:"#8657E5",sm:`${r?"#183153":"#F5F5F5"}`}},children:e.jsx(Xe,{theme:r,change:q,mobileOpen:I,isClosing:E,setMobileOpen:_,setIsClosing:L})}),e.jsx(ts,{theme:r,change:q,mobileOpen:I,isClosing:E,setMobileOpen:_,setIsClosing:L})]}),e.jsxs(O,{component:"main",sx:{flexGrow:1,p:3,background:{sm:`${r?"#183153":"#F5F5F5"}`},width:{md:`calc(100% - ${K}px)`}},children:[e.jsx(Z,{}),e.jsxs(g,{style:{position:"fixed",top:"10px",right:"20px",zIndex:"900000"},children:[e.jsxs(g,{sx:{display:{xs:"none",sm:"flex"},flexDirection:"row",flexWrap:"wrap",gap:"50px",margin:{md:"20px"}},children:[w&&((re=k==null?void 0:k[0])==null?void 0:re.status)=="completed"&&e.jsx(e.Fragment,{children:e.jsx(C,{title:"Kyc Verified",sx:{cursor:"pointer"},placement:"top-start",children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/kycverify.png",className:"listItemIcon",width:30})})}),w&&((oe=k==null?void 0:k[0])==null?void 0:oe.status)=="Pending"&&e.jsx(e.Fragment,{children:e.jsx(C,{title:"Kyc Pending",sx:{cursor:"pointer"},placement:"top-start",children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/kycpending.png",className:"listItemIcon",width:30})})}),e.jsx(g,{children:e.jsx(O,{sx:{margin:"-2px"},children:e.jsxs("div",{className:"notification",children:[e.jsx(J,{className:"notification-btn",size:"small",onClick:Se,children:e.jsx(Je,{variant:"dot",invisible:!S,color:"primary",children:e.jsx(Re,{sx:{color:`${r?"white":"black"}`}})})}),e.jsxs("div",{className:"dropdown-content",children:[e.jsxs("div",{className:"button-container",children:[e.jsx("button",{className:"view-all-btn",onClick:()=>window.location.href="notificationall",children:"View All"}),e.jsx("button",{className:"mark-read-btn",onClick:()=>Te(),children:"Mark All Read"})]}),e.jsx("div",{className:"notification-list",children:x==null?void 0:x.map(s=>{var h;return e.jsxs(e.Fragment,{children:[((s==null?void 0:s.notifyType)=="user"||(s==null?void 0:s.notifyType)=="crypto"||(s==null?void 0:s.notifyType)=="kyc"||(s==null?void 0:s.notifyType)=="transaction"||(s==null?void 0:s.notifyType)=="ticket")&&(s==null?void 0:s.user)==((h=a==null?void 0:a.data)==null?void 0:h.id)?e.jsx(e.Fragment,{children:e.jsx("p",{children:e.jsxs(g,{sx:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx(g,{sx:{color:"black",padding:"3px 2px",fontSize:"14px",marginLeft:"12px"},children:ue(s==null?void 0:s.createdAt).format("MMMM Do YYYY, h:mm:ss a")}),e.jsx(g,{children:e.jsx(N,{sx:{color:"black",padding:"3px 2px",fontSize:"14px",marginLeft:"12px"},children:e.jsx(U,{to:"#",style:{textDecoration:"none"},children:s==null?void 0:s.title})})})]})})}):null,(s==null?void 0:s.notifyType)=="all"?e.jsx(e.Fragment,{children:e.jsxs(g,{sx:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx(g,{sx:{color:"black",padding:"3px 2px",fontSize:"14px",marginLeft:"12px"},children:ue(s==null?void 0:s.createdAt).format("MMMM Do YYYY, h:mm:ss a")}),e.jsx(g,{children:e.jsx(N,{sx:{color:"black",padding:"3px 2px",fontSize:"14px",marginLeft:"12px"},children:e.jsx(U,{to:"#",style:{textDecoration:"none"},children:s==null?void 0:s.title})})})]})}):null]})})}),(x==null?void 0:x.length)==0||!S&&e.jsx("p",{style:{textAlign:"center",padding:"30px"},children:"No notification found"})]})]})})}),e.jsx(g,{sx:{cursor:"pointer"},children:$=="light"?e.jsx(C,{title:"Light Mode",sx:{cursor:"pointer"},placement:"top-start",children:e.jsx(We,{onClick:()=>A("light")})}):e.jsx(C,{title:"Dark Mode",sx:{cursor:"pointer"},placement:"top-start",children:e.jsx(Ye,{sx:{color:"white"},onClick:()=>A("dark")})})}),e.jsx(g,{sx:{cursor:"pointer",color:`${r?"white":"black"}`},onClick:()=>t("/help-center"),children:e.jsx(e.Fragment,{children:e.jsx(C,{title:"Ticket Support",sx:{cursor:"pointer"},placement:"top-start",children:e.jsx($e,{})})})}),e.jsx(g,{sx:{cursor:"pointer",color:`${r?"white":"black"}`},onClick:()=>te(),children:e.jsx(C,{title:"Logout",sx:{cursor:"pointer"},placement:"top-start",children:e.jsx("img",{src:"https://quickcash.oyefin.com/icons/logout.png",className:"listItemIcon",width:24})})})]}),e.jsxs(g,{sx:{display:{xs:"flex",sm:"none"},flexDirection:"row",flexWrap:"wrap",gap:"50px",margin:{md:"20px"}},children:[e.jsx(J,{"aria-label":"more","aria-expanded":W?"true":void 0,"aria-haspopup":"true",onClick:s=>Oe(s),sx:{color:"white"},children:e.jsx(Ue,{})}),e.jsxs(Ke,{anchorEl:u,open:W,children:[e.jsx(G,{children:e.jsx("span",{className:`${r?"avatarDarkSecondaryExtra":"avatarLight"}`,onClick:()=>t("/kyc"),children:"KYC"})}),e.jsx(G,{children:e.jsx("span",{className:`${r?"avatarDarkSecondaryExtra":"avatarLight"}`,onClick:()=>t("/help-center"),children:"Ticket"})}),e.jsx(G,{children:e.jsx("span",{className:`${r?"avatarDarkSecondaryExtra":"avatarLight"}`,onClick:()=>te(),children:"Logout"})})]})]})]}),e.jsx(Le,{context:[r]})]})]})]})})}export{Qs as default};
