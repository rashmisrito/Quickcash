import{R as c,f as y,r as C,j as e}from"./index-C7uDDRzi.js";import{j as b,a as k,B as w}from"./App-DlbqwX0_.js";import{Z as T,T as I,R as D,L as S,D as R,N as B,a as H,P as L,I as M,M as O,H as P}from"./Istanbul-BNblEeTD.js";import{C as _}from"./ColorButton-ek59cplY.js";import{B as x}from"./Box-DuB8RHF0.js";import{G as i}from"./Grid-BSdJsjIu.js";import{T as d}from"./Typography-Bqz4o4Sm.js";import{S as N}from"./Select-DVBf2x5a.js";import{M as l}from"./MenuItem-BEeRBPo2.js";import"./styled-DpNLFuLo.js";import"./Button-bVqxygml.js";import"./ButtonBase-Cb7r6f8i.js";import"./TransitionGroupContext-BuEQjJx-.js";import"./Menu-DLoDL8Vj.js";import"./Backdrop-92jRYuW8.js";import"./utils-D1Bwf65I.js";import"./createSvgIcon-CvjaZCwn.js";import"./dividerClasses-Bc8akPt1.js";import"./listItemTextClasses-BL6EH0EV.js";function se(){const p="api",[s,h]=c.useState("black"),[o]=y(),[m,u]=c.useState(!1),[a,g]=c.useState("Default");C.useEffect(()=>{var r;if(localStorage.getItem("token")){const t=b(localStorage.getItem("token"));v((r=t==null?void 0:t.data)==null?void 0:r.id)}},[]);const v=async r=>{await k.get(`/${p}/v1/templateSetting/list/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(h(t.data.data[0].color),g(t.data.data[0].invoice_country))}).catch(t=>{console.log("error",t)})},j=(r,t)=>{t=="error"?w.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):w.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},$=async r=>{var f;r.preventDefault();const t=b(localStorage.getItem("token"));await k.post(`/${p}/v1/templateSetting/add`,{user:(f=t==null?void 0:t.data)==null?void 0:f.id,invoice_country:a,color:s,templateContent:""},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(n=>{n.data.status=="201"&&j(n.data.message,"success")}).catch(n=>{console.log("error",n),j(n.response.data.message,"error")})};return e.jsx(e.Fragment,{children:e.jsx(x,{sx:{marginTop:"12px",fontSize:"15px"},children:e.jsxs(i,{sx:{display:{md:"flex"},flexDirection:{sx:"column",md:"row"},gap:"10px"},children:[e.jsxs(i,{sx:{display:"flex",order:"1",flexDirection:"column",width:{md:"30%"},marginBottom:{xs:"10px",sm:"10px",md:"0px"},gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:{xs:`${o?"#183153":"white"}`,sm:`${o?"":"white"}`},border:{xs:`${o?"1px solid white":"white"}`},padding:"10px 12px"},children:[e.jsxs(i,{sx:{width:"100%"},children:[e.jsx(d,{sx:{color:`${o?"white":"black"}`,marginBottom:"10px"},children:"Invoice Template"}),e.jsxs(N,{value:a,name:"status",onChange:r=>g(r.target.value),sx:{border:"1px solid silver",marginTop:"2%"},fullWidth:!0,children:[e.jsx(l,{value:"Default",sx:{color:`${o?"white":"black"}`},children:"Default"}),e.jsx(l,{value:"New_York",sx:{color:`${o?"white":"black"}`},children:"New York"}),e.jsx(l,{value:"Toronto",sx:{color:`${o?"white":"black"}`},children:"Toronto"}),e.jsx(l,{value:"Rio",sx:{color:`${o?"white":"black"}`},children:"Rio"}),e.jsx(l,{value:"London",sx:{color:`${o?"white":"black"}`},children:"London"}),e.jsx(l,{value:"Istanbul",sx:{color:`${o?"white":"black"}`},children:"Istanbul"}),e.jsx(l,{value:"Mumbai",sx:{color:`${o?"white":"black"}`},children:"Mumbai"}),e.jsx(l,{value:"Hong_Kong",sx:{color:`${o?"white":"black"}`},children:"Hong Kong"}),e.jsx(l,{value:"Tokyo",sx:{color:`${o?"white":"black"}`},children:"Tokyo"}),e.jsx(l,{value:"Paris",sx:{color:`${o?"white":"black"}`},children:"Paris"})]})]}),e.jsxs(i,{children:[e.jsx(d,{sx:{color:`${o?"white":"black"}`},children:"Color:"}),e.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(i,{children:e.jsx("div",{onClick:()=>u(!0),style:{background:`${s}`,height:"30px",width:"30px",cursor:"pointer",marginTop:"1%",marginBottom:"1%"}})}),e.jsx(i,{children:m&&e.jsx("div",{onClick:()=>u(!1),style:{background:"black",color:"white",padding:"5px",borderRadius:"10px",cursor:"pointer"},children:"X"})})]}),m&&e.jsx(T,{color:s,onChange:h})]}),e.jsx(i,{children:e.jsx(_,{onClick:r=>$(r),children:"Save"})})]}),e.jsxs(i,{sx:{display:"flex",order:"2",flexDirection:"column",width:{md:"70%"},minHeight:{xs:"50vh",md:"auto"},gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:{xs:`${o?"#183153":"white"}`,sm:`${o?"":"white"}`},border:{xs:`${o?"1px solid white":"white"}`},padding:"10px 12px"},children:[e.jsx(d,{sx:{color:`${o?"white":"black"}`},children:"Invoice Template"}),e.jsx(i,{children:e.jsx(i,{children:e.jsx(x,{sx:{overflow:"auto"},children:e.jsxs(x,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:[a=="Toronto"&&e.jsx(I,{}),a=="Rio"&&e.jsx(D,{color:s}),a=="London"&&e.jsx(S,{color:s}),a=="Default"&&e.jsx(R,{color:s}),a=="New_York"&&e.jsx(B,{color:s}),a=="Tokyo"&&e.jsx(H,{color:s}),a=="Paris"&&e.jsx(L,{color:s}),a=="Istanbul"&&e.jsx(M,{color:s}),a=="Mumbai"&&e.jsx(O,{color:s}),a=="Hong_Kong"&&e.jsx(P,{color:s})]})})})})]})]})})})}export{se as default};
