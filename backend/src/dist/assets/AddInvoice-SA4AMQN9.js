import{u as ur,f as xr,R as c,r as B,j as e}from"./index-D-Z3PEJc.js";import{j as Z,a as R,g as S,p as ke,B as be}from"./App-C5vhFMem.js";import{C as hr}from"./index-DNjE5cWk.js";import{R as ve}from"./quill.snow-Dw2_nBpr.js";import{d as pr}from"./Add-uboEILGN.js";import{u as gr}from"./useCurrency-80p7Emoo.js";import{u as mr}from"./useValidation-aJcPmcPI.js";import{d as fe}from"./Delete-DhGhueBZ.js";import{d as jr}from"./Remove-Ci7u67TH.js";import{T as br}from"./Toolbar-BVWD1vu2.js";import{B as ee}from"./Box-DCyzdUAE.js";import{T as vr}from"./Typography-XE6xpzxH.js";import{G as i}from"./Grid-Bu6buGuE.js";import{T as v,F as fr}from"./TextField-RtVheVmu.js";import{R as ye,a as V}from"./RadioGroup-CXcyCZK9.js";import{F as O}from"./FormControlLabel-BeVdeq9O.js";import{S as f}from"./Select-EloRlcax.js";import{M as d}from"./MenuItem-DZherMnu.js";import{F as yr}from"./FormControl-Bhzdesby.js";import{C as kr}from"./Checkbox-BpwP7qQ5.js";import{L as Cr}from"./ListItemText-UkiYf0la.js";import{s as Ce}from"./styled-ibrWRFOc.js";import{B as $e}from"./Button-paA1xTrW.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./createSvgIcon-B8UspgM4.js";import"./createSvgIcon-CLxdQzf4.js";import"./TransitionGroupContext-PLEewXdM.js";import"./isMuiElement-CB7WGySX.js";import"./ButtonBase-DppN0Hkz.js";import"./SwitchBase-BiCWJBc2.js";import"./Stack-COLoxqbZ.js";import"./styled-D1orPW_A.js";import"./createStyled-BOVCN3aQ.js";import"./Menu-BTdQhGPK.js";import"./Backdrop-r2QkIdSB.js";import"./utils-CzilLcR2.js";import"./dividerClasses-B4-AQ68E.js";import"./listItemTextClasses-UOyPp4c5.js";const q=Ce($e)(({theme:C})=>({color:C.palette.getContrastText(ke[500]),backgroundColor:"#2196f3","&:hover":{backgroundColor:"#2196f3"}})),$r=Ce($e)(({theme:C})=>({color:C.palette.getContrastText(ke[500]),backgroundColor:"red","&:hover":{backgroundColor:"red"}}));function dt(){const C=ur(),[s]=xr(),{errors:g,validate:m}=mr(),[re,we]=c.useState(""),[T,Se]=c.useState([]),[E,Te]=c.useState("yes"),[te,De]=c.useState(""),[M,Ie]=c.useState([]),[H,Fe]=c.useState([]),[P,ae]=c.useState(!1),D="api";B.useEffect(()=>{var t,a;const r=Z(localStorage.getItem("token"));Pe((t=r==null?void 0:r.data)==null?void 0:t.id),We((a=r==null?void 0:r.data)==null?void 0:a.id),qe(),Ae()},[]);const se={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},Ae=async()=>{var t;const r=Z(localStorage.getItem("token"));await R.get(`/${D}/v1/client/list/${(t=r==null?void 0:r.data)==null?void 0:t.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{var l;a.data.status=="201"&&Fe((l=a==null?void 0:a.data)==null?void 0:l.data)}).catch(a=>{console.log("error",a)})},Ne=r=>{Te(r.target.value)},L=(r,t)=>{t=="error"?be.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):be.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},[z,Re]=c.useState([]),qe=async()=>{await R.get(`/${D}/v1/invoice/generate/inv`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(r=>{var t,a;r.data.status=="201"&&(_e((t=r==null?void 0:r.data)==null?void 0:t.data),Re((a=r==null?void 0:r.data)==null?void 0:a.productData))}).catch(r=>{console.log("error",r)})},Pe=async r=>{await R.get(`/${D}/v1/tax/list/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&Se(t.data.data)}).catch(t=>{console.log("error",t)})},We=async r=>{await R.get(`/${D}/v1/qrcode/list/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&Ie(t.data.data)}).catch(t=>{console.log("error",t)})},{currencyList:U}=gr(),[le,_e]=c.useState(""),Be=new Date().toISOString().split("T")[0],[oe,Ve]=c.useState("unpaid"),[ne,Oe]=c.useState("Default"),[u,$]=B.useState([{productName:"",productId:"",qty:"",price:"",tax:0,taxValue:0,amount:0}]),Ee=()=>{$([...u,{productName:"",productId:"",qty:"",price:"",tax:0,taxValue:0,amount:0}])},[j,Q]=B.useState([{email:"",name:"",address:""}]),[Y,Me]=c.useState("other"),[ie,I]=c.useState(0),[ce,w]=c.useState(0),[He,Le]=c.useState(""),[G,_]=c.useState(0),[y,ze]=c.useState(""),[b,Ue]=c.useState(""),[k,Qe]=c.useState(new Date().toISOString().substring(0,10)),Ye={date:k,dueDate:k},[K,Ge]=c.useState(Ye),[de,W]=c.useState(0),[F,Ke]=c.useState([]),[ue,Je]=c.useState(""),[xe,Xe]=c.useState(new Date(new Date().setDate(new Date().getDate()+1)).toISOString().substring(0,10)),[Ze,er]=c.useState(""),[p,J]=c.useState(0),[rr,tr]=c.useState([]),[A,he]=c.useState(0),[pe,wr]=c.useState(Be);B.useEffect(()=>{ar()},[u,b,p,F]);const ar=()=>{var r=0,t=0;if(u==null||u.map(h=>{h.qty!=""&&h.price!=""&&(r=r+parseFloat(h.qty)*parseFloat(h.price)),h.tax>0&&(t=t+h.taxValue)}),t>0){var a=r+t;I(t),w(a),_(r)}else I(t),w(r),_(r);if(b!=""){if(b=="fixed"){var l=r*t/100;if(A>0)var a=r+A-p;else var a=r+l-p;I(l),w(a),_(r),W(p)}else if(b=="percentage"){var l=r*t/100;if(A>0){var a=r+A-(r+A)*(p/100);W((r+A)*p/100)}else{var a=r+l-(r+l)*p/100;W((r+l)*p/100)}I(l),w(a),_(r)}}var n=0;if(F.length>0&&(T==null||T.map(h=>{F.includes(`${h.Name}-${h.taxvalue}`)&&(n=n+h.taxvalue)})),n>0){var a=r+t,o=a*n/100,x=a+o;he(t+o),I(t+o),w(x),b!=""&&(console.log("newTotal",x,b,p),b=="fixed"&&p>0?(w(x-parseFloat(p)),W(p)):b=="percentage"&&(w(x-x*parseFloat(p)/100),W(x*parseFloat(p)/100)))}else he(t),I(t)};async function sr(r){const t=r.split("-");return await R.get(`/${D}/v1/product/${t[0]}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(l=>{var n,o,x,h;if(l.data.status==201)return console.log("Price",(o=(n=l==null?void 0:l.data)==null?void 0:n.data)==null?void 0:o.unitPrice),(h=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:h.unitPrice}).catch(l=>{console.log("Invoice Product API Error",l)})}const ge=async(r,t)=>{let{name:a,value:l}=r.target;if(a=="qty"){let n=[...u];n[t].qty=l,$(n),u==null||u.map((o,x)=>{x==t&&o.qty!=""&&o.price!=""&&(n[t].amount=parseFloat(o.qty)*parseFloat(o.price),n[t].taxValue=(o==null?void 0:o.amount)*o.tax/100)})}else if(a=="price"){let n=[...u];n[t].price=l,$(n),u==null||u.map((o,x)=>{x==t&&o.qty!=""&&o.price!=""&&(n[t].amount=parseFloat(o.qty)*parseFloat(o.price),n[t].taxValue=(o==null?void 0:o.amount)*o.tax/100)})}else if(a=="productName"){const n=await sr(l);let o=[...u];const x=l.split("-");o[t].productName=x[1],o[t].productId=x[0],o[t].price=n,o[t].qty="1",u==null||u.map((h,dr)=>{dr==t&&h.qty!=""&&h.price!=""&&(o[t].amount=parseFloat(h.qty)*parseFloat(h.price),o[t].taxValue=(h==null?void 0:h.amount)*h.tax/100)}),$(o)}else if(a=="amount"){let n=[...u];n[t].amount=l,$(n)}else if(a=="tax"){let n=[...u];console.log("taxvalue",l),n[t].tax=l,$(n),u==null||u.map((o,x)=>{x==t&&o.qty!=""&&o.price!=""&&(n[t].taxValue=(o==null?void 0:o.amount)*o.tax/100)})}},X=r=>{let{name:t,value:a}=r.target;if(t=="memberEmail"){let l=[...j];l[0].email=a,Q(l)}else if(t=="memberName"){let l=[...j];l[0].name=a,Q(l)}else if(t=="memberAddress"){let l=[...j];l[0].address=a,Q(l)}},lr=r=>{Ue(r),J(0)},or=r=>{const t=[...u];t.splice(r,1),$(t)},nr=r=>{const{target:{value:t}}=r;Ke(typeof t=="string"?t.split(","):t),tr(typeof t=="string"?t.split(","):t)},me=async r=>{var n;let t=!1;if(!(Y=="other"&&(console.log("In condition"),m("memberEmail",j[0].email)&&(m("memberEmail",j[0].email),t=!0),m("memberName",j[0].name)&&(m("memberName",j[0].name),t=!0),m("memberAddress",j[0].name)&&(m("memberAddress",j[0].address),t=!0),t==!0)))if(!m("date",k)&&!m("dueDate",K)){var a=Math.floor(Math.random()*1e7),l=hr.AES.encrypt(`${a}`,"ganesh").toString();const o=Z(localStorage.getItem("token"));await R.post(`/${D}/v1/invoice/add`,{user:(n=o==null?void 0:o.data)==null?void 0:n.id,reference:a,url:`https://quickcash.oyefin.com/invoice-pay?code=${l}`,userid:He,othersInfo:j,invoice_number:le,invoice_country:ne,invoice_date:k,due_date:xe,payment_qr_code:ue,currency:y,recurring:E,recurring_cycle:Ze,productsInfo:u,discount:parseFloat(p).toFixed(2),discount_type:b,tax:F,subTotal:parseFloat(G).toFixed(2),sub_discount:parseFloat(de).toFixed(2),sub_tax:ie,total:parseFloat(ce).toFixed(2),status:oe,note:re,terms:te,tax_val_text:rr,currency_text:S(y),type:r,createdBy:"user"},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(x=>{x.data.status=="201"&&(L(x.data.message,"success"),C("/invoice-section"))}).catch(x=>{console.log("error",x),L(x.response.data.message,"error")})}else m("date",k)&&m("date",k),m("dueDate",K)&&m("dueDate",K)},ir=()=>{var r=confirm("Are you sure?");if(r==!0)C("/invoice-section");else return!1},je=r=>{r>G?(L("Discount should be less than or equal to subtotal amount","error"),J(0)):J(r)},cr=r=>{Me(r.target.value)},N=r=>{const{name:t,value:a}=r.target;if(console.log(t),t=="dueDate"){const l={date:k,dueDate:a};Ge(l);const n=m(t,l);console.log(n)}else{const l=m(t,a);console.log(l)}};return e.jsx(e.Fragment,{children:e.jsx(br,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"2px",marginTop:"10px",background:{xs:`${s?"#183153":""}`,md:`${s?"#183153":"white"}`},border:{xs:`${s?"1px solid white":""}`,md:`${s?"1px solid white":"white"}`}},children:e.jsxs(ee,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(vr,{children:e.jsx(q,{sx:{cursor:"pointer",float:"right",marginTop:"10px"},onClick:()=>C("/invoice-section"),children:"Back"})}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Invoice #"}),e.jsx(v,{required:!0,id:"invoice",name:"invoice",value:le,fullWidth:!0,sx:{border:"1px solid silver",borderRadius:"7px"},inputProps:{shrink:!0}})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Select Type"}),e.jsxs(ye,{row:!0,sx:{padding:"2px",marginTop:"12px",borderRadius:"12px",background:`${s?"white":""}`,color:"black"},"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:Y,onChange:cr,children:[e.jsx(O,{value:"member",sx:{marginLeft:`${s?"12px":"0px"}`},control:e.jsx(V,{}),label:"Member"}),e.jsx(O,{value:"other",control:e.jsx(V,{}),label:"Other"})]})]}),Y=="member"?e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Select Member"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(f,{fullWidth:!0,onChange:r=>Le(r.target.value),sx:{border:`${s?"1px solid silver":"black"}`},children:H==null?void 0:H.map((r,t)=>e.jsxs(d,{value:r==null?void 0:r._id,sx:{color:`${s?"white":"black"}`},children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]},t))})]}):e.jsxs(e.Fragment,{children:[e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Receiver Email"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(v,{type:"email",onChange:r=>X(r),onBlur:N,name:"memberEmail",id:"memberEmail",error:!!g.memberEmail,helperText:g.memberEmail,sx:{border:`${s?"1px solid silver":"black"}`},fullWidth:!0})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Receiver Name"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(v,{type:"text",onChange:r=>X(r),onBlur:N,error:!!g.memberName,helperText:g.memberName,name:"memberName",id:"memberName",sx:{border:`${s?"1px solid silver":"black"}`},fullWidth:!0})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Receiver Address"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(v,{multiline:!0,onChange:r=>X(r),onBlur:N,error:!!g.memberAddress,helperText:g.memberAddress,type:"text",name:"memberAddress",id:"memberAddress",sx:{border:`${s?"1px solid silver":"black"}`},fullWidth:!0})]})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Invoice Date"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(v,{required:!0,id:"value",name:"date",type:"date",fullWidth:!0,defaultValue:k,onChange:r=>Qe(r.target.value),onBlur:N,error:!!g.date,helperText:g.date,sx:{border:`${s?"1px solid silver":"black"}`},inputProps:{shrink:!0,min:pe}})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Due Date"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(v,{required:!0,id:"value",name:"dueDate",type:"date",fullWidth:!0,defaultValue:xe,onChange:r=>Xe(r.target.value),onBlur:N,error:!!g.dueDate,helperText:g.dueDate,sx:{border:`${s?"1px solid silver":"black"}`},inputProps:{shrink:!0,min:pe}})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Status"}),e.jsxs(f,{fullWidth:!0,value:oe,onChange:r=>Ve(r.target.value),sx:{border:`${s?"1px solid silver":"black"}`},children:[e.jsx(d,{sx:{color:`${s?"white":"black"}`},children:"Select Status"}),e.jsx(d,{value:"paid",sx:{color:`${s?"white":"black"}`},children:"Paid"}),e.jsx(d,{value:"unpaid",sx:{color:`${s?"white":"black"}`},children:"Unpaid"}),e.jsx(d,{value:"partial",sx:{color:`${s?"white":"black"}`},children:"Partially Paid"}),e.jsx(d,{value:"overdue",sx:{color:`${s?"white":"black"}`},children:"Overdue"}),e.jsx(d,{value:"processing",sx:{color:`${s?"white":"black"}`},children:"Processing"})]})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Invoice Template:"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsxs(f,{fullWidth:!0,value:ne,name:"status",sx:{border:"1px solid silver",borderRadius:"7px"},onChange:r=>Oe(r.target.value),children:[e.jsx(d,{value:"Default",sx:{color:`${s?"white":"black"}`},children:"Default"}),e.jsx(d,{value:"New_York",sx:{color:`${s?"white":"black"}`},children:"New York"}),e.jsx(d,{value:"Toronto",sx:{color:`${s?"white":"black"}`},children:"Toronto"}),e.jsx(d,{value:"Rio",sx:{color:`${s?"white":"black"}`},children:"Rio"}),e.jsx(d,{value:"London",sx:{color:`${s?"white":"black"}`},children:"London"}),e.jsx(d,{value:"Istanbul",sx:{color:`${s?"white":"black"}`},children:"Istanbul"}),e.jsx(d,{value:"Mumbai",sx:{color:`${s?"white":"black"}`},children:"Mumbai"}),e.jsx(d,{value:"Hong_Kong",sx:{color:`${s?"white":"black"}`},children:"Hong Kong"}),e.jsx(d,{value:"Tokyo",sx:{color:`${s?"white":"black"}`},children:"Tokyo"}),e.jsx(d,{value:"Paris",sx:{color:`${s?"white":"black"}`},children:"Paris"})]})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Payment QR Code:"}),e.jsx(f,{value:ue,name:"payment_qr_code",onChange:r=>Je(r.target.value),sx:{border:"1px solid silver",borderRadius:"7px"},fullWidth:!0,children:M==null?void 0:M.map((r,t)=>e.jsx(d,{value:r==null?void 0:r._id,children:r==null?void 0:r.title},t))})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Select Currency:"}),e.jsx("span",{style:{color:"red",fontWeight:700},children:"*"}),e.jsx(f,{fullWidth:!0,value:y,name:"currency",onBlur:N,error:!!g.currency,sx:{border:`${s?"1px solid silver":"black"}`},onChange:r=>ze(r.target.value),children:U==null?void 0:U.map((r,t)=>e.jsxs(d,{value:r==null?void 0:r.base_code,sx:{color:`${s?"white":"black"}`},children:[S(r==null?void 0:r.base_code)," ",r==null?void 0:r.base_code]},t))}),e.jsx(yr,{fullWidth:!0,error:!!g.currency,children:!!g.currency&&e.jsx(fr,{children:g.currency})})]}),e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Recurring:"}),e.jsxs(ye,{row:!0,sx:{padding:"2px",marginTop:"12px",borderRadius:"12px",background:`${s?"white":""}`,color:"black"},"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:E,onChange:Ne,children:[e.jsx(O,{value:"yes",control:e.jsx(V,{sx:{marginLeft:`${s?"12px":"0px"}`}}),label:"Yes"}),e.jsx(O,{value:"no",control:e.jsx(V,{}),label:"No"})]})]}),E=="yes"&&e.jsx(e.Fragment,{children:e.jsxs(i,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Recurring Cycle:"}),e.jsxs(f,{name:"value",onChange:r=>er(r.target.value),sx:{border:`${s?"1px solid silver":"black"}`},fullWidth:!0,children:[e.jsx(d,{value:"1",sx:{color:`${s?"white":"black"}`},children:"Day"}),e.jsx(d,{value:"7",sx:{color:`${s?"white":"black"}`},children:"Weekly"}),e.jsx(d,{value:"31",sx:{color:`${s?"white":"black"}`},children:"Monthly"}),e.jsx(d,{value:"180",sx:{color:`${s?"white":"black"}`},children:"Half Yearly"}),e.jsx(d,{value:"365",sx:{color:`${s?"white":"black"}`},children:"Yearly"})]})]})}),e.jsx(i,{item:!0,xs:12,sm:12,sx:{display:"flex",flexDirection:"row",justifyContent:"end",marginBottom:"12px"},children:e.jsx(q,{onClick:()=>Ee(),children:"Add"})}),e.jsx(ee,{sx:{overflow:"auto"},children:e.jsx(ee,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:e.jsx(i,{item:!0,xs:12,sm:12,children:e.jsxs("table",{className:"invoicetble",width:"100%",style:{borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#c0c0c01f"},children:[e.jsx("th",{style:{padding:"10px"},children:"#"}),e.jsx("th",{style:{padding:"10px"},children:"PRODUCT"}),e.jsx("th",{style:{padding:"10px"},children:"QTY"}),e.jsx("th",{style:{padding:"10px"},children:"UNIT PRICE"}),e.jsx("th",{style:{padding:"10px"},children:"AMOUNT"}),e.jsx("th",{style:{minWidth:"100px"},children:"ACTION"})]})}),e.jsxs("tbody",{children:[u.map((r,t)=>e.jsxs("tr",{children:[e.jsx("td",{align:"center",style:{padding:"10px"},children:t+1}),e.jsx("td",{align:"center",style:{padding:"10px"},children:e.jsx(f,{id:"productName",name:"productName",onChange:a=>ge(a,t),sx:{border:`${s?"1px solid silver":"black"}`,minWidth:"120px"},fullWidth:!0,required:!0,children:z==null?void 0:z.map((a,l)=>e.jsx(d,{value:`${a==null?void 0:a._id}-${a==null?void 0:a.name}`,sx:{color:`${s?"white":"black"}`},children:a==null?void 0:a.name},l))})}),e.jsx("td",{align:"center",style:{padding:"10px"},children:e.jsx(v,{required:!0,id:"qty",name:"qty",type:"number",placeholder:"Enter Quantity",fullWidth:!0,value:r==null?void 0:r.qty,sx:{border:"1px solid white",color:"white",borderRadius:"7px",minWidth:"200px"},onChange:a=>ge(a,t),inputProps:{shrink:!0}})}),e.jsx("td",{align:"center",style:{padding:"10px"},children:e.jsx(v,{required:!0,id:"price",name:"price",type:"number",placeholder:"Enter Price",fullWidth:!0,value:r==null?void 0:r.price,sx:{border:"1px solid white",background:"",borderRadius:"7px",minWidth:"200px"},inputProps:{shrink:!0}})}),e.jsxs("td",{align:"center",style:{padding:"10px"},children:[S(y),r==null?void 0:r.amount]}),e.jsxs("td",{align:"center",style:{padding:"10px"},children:[u.length>1&&e.jsx(fe,{onClick:()=>or(t),style:{color:"red",cursor:"pointer"}}),u.length==1&&e.jsx(fe,{style:{color:"red",cursor:"pointer"}})]})]})),e.jsxs("tr",{children:[e.jsxs("td",{colSpan:4,align:"right",children:[e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("tr",{children:e.jsx("td",{align:"left",children:"Discount:"})}),e.jsxs("tr",{children:[e.jsx("td",{children:b?e.jsx(v,{required:!0,id:"discount",name:"discount",type:"number",value:p,onChange:r=>je(r.target.value||0),sx:{border:"1px solid silver",borderRadius:"7px",maxWidth:"90px"},InputProps:{inputProps:{min:0,max:100}}}):e.jsx(v,{required:!0,id:"discount",name:"discount",type:"number",value:p,onChange:r=>je(r.target.value||0),sx:{border:"1px solid silver",borderRadius:"7px",maxWidth:"90px",background:""},InputProps:{inputProps:{min:0,max:100}}})}),e.jsx("td",{children:e.jsxs(f,{sx:{border:"1px solid silver",width:"200px",color:`${s?"white":"black"}`},onChange:r=>lr(r.target.value),children:[e.jsx(d,{value:"fixed",sx:{color:`${s?"white":"black"}`},children:"Fixed"}),e.jsx(d,{value:"percentage",sx:{color:`${s?"white":"black"}`},children:"Percentage"})]})})]})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("tr",{children:e.jsx("td",{align:"left",children:"Tax:"})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsxs(f,{id:"demo-multiple-checkbox",sx:{border:"1px solid silver",marginTop:"5px",borderRadius:"7px",width:"290px"},multiple:!0,value:F,onChange:nr,name:"overAlltax",renderValue:r=>r.join(", "),children:[e.jsx(d,{value:"",sx:{color:`${s?"white":"black"}`},children:"Select Tax"}),T==null?void 0:T.map((r,t)=>e.jsxs(d,{value:`${r==null?void 0:r.Name}-${r==null?void 0:r.taxvalue}`,sx:{color:`${s?"white":"black"}`},children:[e.jsx(kr,{checked:F.indexOf(`${r==null?void 0:r.Name}-${r==null?void 0:r.taxvalue}`)>-1,sx:{color:`${s?"white":"black"}`}}),e.jsx(Cr,{primary:r==null?void 0:r.Name,sx:{color:`${s?"white":"black"}`}})]},t))]})})})]})})]}),e.jsx("td",{colSpan:4,align:"right",children:e.jsx("table",{width:"100%",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{align:"right",children:"Sub Total:"}),e.jsxs("td",{align:"right",children:[S(y),parseFloat(G).toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("td",{align:"right",children:"Discount:"}),e.jsxs("td",{align:"right",children:[S(y),parseFloat(de).toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("td",{align:"right",children:"Tax:"}),e.jsxs("td",{align:"right",children:[S(y),parseFloat(ie).toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("td",{align:"right",children:"Total:"}),e.jsxs("td",{align:"right",children:[S(y),parseFloat(ce).toFixed(2)]})]})]})})})]})]})]})})})}),e.jsxs(i,{item:!0,xs:12,children:[!P&&e.jsx(e.Fragment,{children:e.jsxs(q,{color:"primary",onClick:()=>ae(!P),children:[e.jsx(pr,{sx:{mr:1}}),"Add Note & Terms"]})}),P&&e.jsx(e.Fragment,{children:e.jsxs($r,{color:"primary",onClick:()=>ae(!P),children:[e.jsx(jr,{sx:{mr:1}}),"Remove Note & Terms"]})})]}),P&&e.jsx(e.Fragment,{children:e.jsx(i,{item:!0,xs:12,sm:12,children:e.jsxs(i,{container:!0,sx:{display:"flex",marginLeft:"20px",flexDirection:"row",gap:"10px"},children:[e.jsxs(i,{item:!0,xs:10,md:12,children:[e.jsx(i,{children:"Note:"}),e.jsx(i,{children:e.jsx(ve,{value:re,onChange:we,className:`${s?"ql-strokelight":"ql-strokedark"}`,modules:se,style:{color:`${s?"white":"black"}`}})})]}),e.jsxs(i,{item:!0,xs:10,md:12,children:[e.jsx(i,{children:"Terms:"}),e.jsx(i,{children:e.jsx(ve,{value:te,onChange:De,modules:se,style:{color:"black"}})})]})]})})}),e.jsx(i,{item:!0,xs:12,sm:12,children:e.jsxs(i,{sx:{display:"flex",flexDirection:"row",gap:"10px",marginBottom:"20px",justifyContent:"flex-end"},children:[e.jsx(i,{children:e.jsx(q,{onClick:()=>me("draft"),children:"Save As Draft"})}),e.jsx(i,{children:e.jsx(q,{onClick:()=>me("send"),children:"Save & Send"})}),e.jsx(i,{children:e.jsx(q,{onClick:()=>ir(),children:"Cancel"})})]})})]})]})})})}export{dt as default};
