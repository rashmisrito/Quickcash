import{k as w,u as E,f as I,R as e,r as N,j as a}from"./index-BupViSio.js";import{a as l,B as p}from"./App-DPd8oDNy.js";import{i as R}from"./index-DLUslAsi.js";import{C as O}from"./ColorButton-BSaJbGxa.js";import{d as _}from"./KeyboardBackspace-DfX-N2S0.js";import{d as D}from"./DoneOutlineOutlined-D1iMet1-.js";import{B as x}from"./Box-C145hu5M.js";import{T as H}from"./Toolbar-UV7IiOHB.js";import{T as L}from"./Typography-C-05GYiH.js";import{G as i}from"./Grid-B1t4UKB3.js";import{T as P}from"./TextField-JtUyMF_l.js";import"./styled-BsT2Uje-.js";import"./Button-CXQLG-lr.js";import"./ButtonBase-Cnw-KpJ1.js";import"./TransitionGroupContext-HDmFy-NO.js";import"./createSvgIcon-B4_0CFOw.js";import"./createSvgIcon-c6Q7LSIT.js";import"./isMuiElement-DCOEWuFR.js";import"./FormControl-CggpVb1O.js";import"./Select-CUzNhoH_.js";import"./Menu-DvW-7bCh.js";import"./Backdrop-DtEZozg_.js";import"./utils-4tjU1hxM.js";function ft(){const s=w(),n=E(),[r]=I(),[g,h]=e.useState(""),d="api",[f,b]=e.useState(),[c,m]=e.useState(),[z,C]=e.useState(),[F,j]=e.useState(),[G,S]=e.useState(),[U,v]=e.useState(),[q,y]=e.useState(),[M,k]=e.useState(),[W,B]=e.useState(),[J,$]=e.useState();N.useEffect(()=>{A(s==null?void 0:s.id)},[s.id]);const A=async o=>{await l.get(`/${d}/v1/account/accountbyid/${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(m(t.data.data.name),S(t.data.data.mobile),j(t.data.data.email),C(t.data.data.iban),v(t.data.data.bic_code),y(t.data.data.status),k(t.data.data.comment),h(t.data.data.country),b(t.data.data._id),B(t.data.data.address),$(t.data.data.bankName))}).catch(t=>{console.log("error",t)})},u=(o,t)=>{t=="error"?p.error(o,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):p.success(o,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},T=async o=>{R.getAllInfoByISO(g),await l.patch(`/${d}/v1/account/update/${o}`,{name:c,user_id:o},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(u(t.data.message,"success"),n("/accounts"))}).catch(t=>{console.log("error",t),u(t.response.data.message,"error")})};return a.jsxs(a.Fragment,{children:[a.jsx(x,{sx:{marginTop:"0%",borderRadius:".5rem",marginLeft:{md:"7%"},width:{xs:"100%",md:"87%"}},children:a.jsx(_,{className:`${r?"avatarDark":"avatarLight"}`,onClick:()=>n("/accounts"),sx:{cursor:"pointer"}})}),a.jsx(H,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{md:"7%"},border:`${r?"1px solid white":""}`,background:`${r?"#183153":"white"}`,width:{lg:"80%"}},children:a.jsxs(x,{sx:{marginTop:"0%",borderRadius:".5rem",width:{xs:"100%",md:"87%"}},children:[a.jsx(L,{variant:"h6",gutterBottom:!0,children:"Edit Account"}),a.jsxs(i,{container:!0,spacing:3,children:[a.jsxs(i,{item:!0,xs:12,sm:12,children:[a.jsx("label",{children:"Account Name"}),a.jsx(P,{required:!0,id:"name",value:c,onChange:o=>m(o.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:".5rem"}})]}),a.jsx(i,{item:!0,xs:12,children:a.jsxs(O,{color:"primary",onClick:()=>T(f),children:[a.jsx(D,{sx:{mr:1}}),"Update"]})})]})]})})]})}export{ft as default};
