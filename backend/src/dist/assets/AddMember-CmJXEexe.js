import{u as B,f as N,r as a,j as e}from"./index-DWLfyV7i.js";import{j as O,a as _,B as u}from"./App-DrtOZD42.js";import{S as L}from"./react-select.esm-CDUo3zMm.js";import{C as W}from"./ColorButton-zYRWfhx1.js";import{d as q}from"./KeyboardBackspace-B0CDdpKp.js";import{d as F}from"./DoneOutlineOutlined-iGO7Cb7F.js";import{B as c}from"./Box-DVjlkC-E.js";import{T as $}from"./Toolbar-BcyIqHFS.js";import{T as H}from"./Typography-BbgNLZ5J.js";import{G as s}from"./Grid-C5WZ5yPx.js";import{T as i}from"./TextField-zPXjT3u6.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./TransitionGroupContext-CPZXwPBU.js";import"./ButtonBase-DuAtvFfD.js";import"./styled-UvVi3zCA.js";import"./Button-BwJo4BJ8.js";import"./createSvgIcon-j2CwpMz4.js";import"./createSvgIcon-Bxm2ewFX.js";import"./isMuiElement-DaoDYf4M.js";import"./FormControl-BXsli751.js";import"./Select-B6J5njAN.js";import"./Menu-qMneCLiP.js";import"./Backdrop-BFkPp487.js";import"./utils-6TVLZy64.js";function xe(){const l=B(),[p]=N(),[x,h]=a.useState(),[n]=a.useState(""),[m,b]=a.useState(""),[g,f]=a.useState(""),[j,v]=a.useState(""),[C,S]=a.useState(""),[R,y]=a.useState(""),[T,A]=a.useState(""),E=O(localStorage.getItem("token")),M="api",w=[{value:"cards",label:"CARDS"},{value:"payments",label:"PAYMENTS"},{value:"members",label:"MEMBERS"},{value:"statements",label:"STATEMENTS"},{value:"profile",label:"PROFILE"}],D=()=>{let r=[];if(n.length>0)return n.map(t=>{r.push({value:t,label:t.toUpperCase()})}),r},P=r=>{h(Array.isArray(r)?r.map(t=>t.value):[])},k=async r=>{var t;r.preventDefault(),await _.post(`/${M}/v1/member/register`,{username:m.replace(" ",""),user:(t=E.data)==null?void 0:t.id,mobile:j,email:g,date_from:C,date_to:R,comment:T,permissionlist:x},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(o=>{o.data.status=="201"&&(d(o.data.message,"success"),l("/members"))}).catch(o=>{console.log("error",o),d(o.response.data.message,"error")})},d=(r,t)=>{t=="error"?u.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):u.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})};return e.jsxs(e.Fragment,{children:[e.jsx(c,{sx:{marginTop:"0%",borderRadius:".5rem",marginLeft:{md:"7%"},width:{xs:"100%",md:"87%"}},children:e.jsx(q,{className:`${p?"avatarDark":"avatarLight"}`,onClick:()=>l("/members"),sx:{cursor:"pointer"}})}),e.jsx($,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{md:"7%"},background:"white",width:{lg:"80%"}},children:e.jsxs(c,{sx:{marginTop:"0%",borderRadius:".5rem",width:{xs:"100%",md:"87%"}},children:[e.jsx(H,{variant:"h6",gutterBottom:!0,children:"Add Member"}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"UserName"}),e.jsx(i,{required:!0,id:"accountname",name:"accountname",value:m,onChange:r=>b(r.target.value),fullWidth:!0,sx:{border:"1px solid silver",borderRadius:"9px"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,sx:{position:"relative",zIndex:"1000"},children:[e.jsx("label",{children:"Permissions"}),e.jsx(L,{options:w,name:"name",id:"name",isMulti:!0,classNamePrefix:"select",defaultValue:D(),onChange:r=>P(r),className:"permission__Select",placeholder:"Choose permission"})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Phone Number"}),e.jsx(i,{required:!0,id:"mobile",name:"mobile",fullWidth:!0,onChange:r=>v(r.target.value),sx:{border:"1px solid silver",borderRadius:"9px"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"Email"}),e.jsx(i,{required:!0,id:"email",name:"email",fullWidth:!0,onChange:r=>f(r.target.value),sx:{border:"1px solid silver",borderRadius:"9px"}})]}),e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:"Account Access Date Range"}),e.jsx("hr",{})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"From"}),e.jsx(i,{required:!0,id:"iban",name:"iban",type:"date",fullWidth:!0,onChange:r=>S(r.target.value),sx:{border:"1px solid silver",borderRadius:"9px"}})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx("label",{children:"To"}),e.jsx(i,{required:!0,id:"iban",name:"iban",type:"date",fullWidth:!0,onChange:r=>y(r.target.value),sx:{border:"1px solid silver",borderRadius:"9px"}})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx("label",{children:"Comments (Optional)"}),e.jsx(i,{id:"address2",name:"address2",fullWidth:!0,onChange:r=>A(r.target.value),multiline:!0,minRows:"5",autoComplete:"shipping address-line2",sx:{border:"1px solid silver",borderRadius:"9px"}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(W,{color:"primary",onClick:r=>k(r),children:[e.jsx(F,{sx:{mr:1}}),"Submit"]})})]})]})})]})}export{xe as default};
