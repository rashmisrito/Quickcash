import{R as g,j as e,r as u,f as ae}from"./index-C7uDDRzi.js";import{i as re,a as $,n as ie,j as oe,B as X}from"./App-DlbqwX0_.js";import{d as ne}from"./CloudUpload-BktvWSmE.js";import{C as U,a as se}from"./ColorButton-ek59cplY.js";import{r as le}from"./createSvgIcon-D3EdHNeB.js";import{B as de}from"./Box-DuB8RHF0.js";import{G as i}from"./Grid-BSdJsjIu.js";import{F as R}from"./FormControl-Bz1rNlOw.js";import{T as Y}from"./TextField-IfJfvW4r.js";import{O as E}from"./Select-DVBf2x5a.js";import{C as ce}from"./Card-BiLxSCYH.js";import{C as ue}from"./CardHeader-CLodL6jU.js";import{A as pe}from"./Avatar-BcZaD7Qf.js";import{T as Z}from"./Typography-Bqz4o4Sm.js";import{D as he,a as me}from"./DialogContent-DkyOs5Wr.js";import{D as fe}from"./DialogTitle-Bt5OrTqc.js";import{D as ge}from"./DialogContentText-1QqK5Dht.js";import{D as xe}from"./DialogActions-T_ZB_B2r.js";import"./styled-DpNLFuLo.js";import"./Button-bVqxygml.js";import"./ButtonBase-Cb7r6f8i.js";import"./TransitionGroupContext-BuEQjJx-.js";import"./createSvgIcon-CvjaZCwn.js";import"./isMuiElement-MrDrvzNs.js";import"./Menu-DLoDL8Vj.js";import"./Backdrop-92jRYuW8.js";import"./utils-D1Bwf65I.js";import"./index-COV97QJW.js";import"./useSlot-DrEK-L9N.js";var ee=function(o){return typeof o=="object"&&o!==null},ve=function(o){var D=o.value,l=D===void 0?"":D,B=o.numInputs,c=B===void 0?4:B,q=o.onChange,W=o.onPaste,j=o.renderInput,S=o.shouldAutoFocus,k=S===void 0?!1:S,_=o.inputType,N=_===void 0?"text":_,b=o.renderSeparator,h=o.placeholder,x=o.containerStyle,w=o.inputStyle,I=o.skipDefaultStyles,z=I===void 0?!1:I,v=g.useState(0),d=v[0],P=v[1],m=g.useRef([]),y=function(){return l?l.toString().split(""):[]},O=N==="number"||N==="tel";g.useEffect(function(){m.current=m.current.slice(0,c)},[c]),g.useEffect(function(){var a;k&&((a=m.current[0])===null||a===void 0||a.focus())},[k]);var H=function(){if(typeof h=="string"){if(h.length===c)return h;h.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},T=function(a){var r=O?!isNaN(Number(a)):typeof a=="string";return r&&a.trim().length===1},M=function(a){var r=a.target.value;T(r)&&(C(r),f(d+1))},A=function(a){var r=a.nativeEvent,n=a.target.value;if(!T(n)){if(n.length===c){var t=n.split("").some(function(s){return!T(s)});t||(L(n.split("")),f(c-1))}r.data===null&&r.inputType==="deleteContentBackward"&&(a.preventDefault(),C(""),f(d-1)),a.target.value=""}},F=function(a){return function(r){P(r),a.target.select()}},G=function(){P(d-1)},J=function(a){var r=y();[a.code,a.key].includes("Backspace")?(a.preventDefault(),C(""),f(d-1)):a.code==="Delete"?(a.preventDefault(),C("")):a.code==="ArrowLeft"?(a.preventDefault(),f(d-1)):a.code==="ArrowRight"||a.key===r[d]?(a.preventDefault(),f(d+1)):(a.code==="Spacebar"||a.code==="Space"||a.code==="ArrowUp"||a.code==="ArrowDown")&&a.preventDefault()},f=function(a){var r,n,t=Math.max(Math.min(c-1,a),0);m.current[t]&&((r=m.current[t])===null||r===void 0||r.focus(),(n=m.current[t])===null||n===void 0||n.select(),P(t))},C=function(a){var r=y();r[d]=a[0],L(r)},L=function(a){var r=a.join("");q(r)},V=function(a){var r;a.preventDefault();var n=y(),t=d,s=a.clipboardData.getData("text/plain").slice(0,c-d).split("");if(!(O&&s.some(function(K){return isNaN(Number(K))}))){for(var p=0;p<c;++p)p>=d&&s.length>0&&(n[p]=(r=s.shift())!==null&&r!==void 0?r:"",t++);f(t),L(n)}};return g.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},ee(x)&&x),className:typeof x=="string"?x:void 0,onPaste:W},Array.from({length:c},function(a,r){return r}).map(function(a){var r,n,t;return g.createElement(g.Fragment,{key:a},j({value:(r=y()[a])!==null&&r!==void 0?r:"",placeholder:(t=(n=H())===null||n===void 0?void 0:n[a])!==null&&t!==void 0?t:void 0,ref:function(s){return m.current[a]=s},onChange:M,onFocus:function(s){return F(s)(a)},onBlur:G,onKeyDown:J,onPaste:V,autoComplete:"off","aria-label":"Please enter OTP character ".concat(a+1),style:Object.assign(z?{}:{width:"1em",textAlign:"center"},ee(w)?w:{}),className:typeof w=="string"?w:void 0,type:N,inputMode:O?"numeric":"text",onInput:A},a),a<c-1&&(typeof b=="function"?b(a):b))}))},Q={},je=re;Object.defineProperty(Q,"__esModule",{value:!0});var te=Q.default=void 0,be=je(le()),we=e;te=Q.default=(0,be.default)((0,we.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm3.17-6.41a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 12.59l1.41-1.41c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 14l1.41 1.41c.39.39.39 1.02 0 1.41s-1.02.39-1.41 0L12 15.41l-1.41 1.41c-.39.39-1.02.39-1.41 0a.9959.9959 0 0 1 0-1.41L10.59 14zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteForeverRounded");function Xe(){const[o,D]=u.useState(""),[l]=ae(),[B,c]=g.useState(!1),[q,W]=u.useState(!1),[j,S]=u.useState({preview:"",raw:""}),[k,_]=u.useState(!1),[N,b]=g.useState(!1),h="api",[x,w]=u.useState(""),[I,z]=u.useState(""),[v,d]=u.useState(""),[P,m]=u.useState(""),[y,O]=u.useState(""),[H,T]=u.useState(!1),[M,A]=u.useState(""),F=()=>{c(!1)},G=()=>{c(!0)},J=t=>{t.target.files.length&&(A(""),b(!0),S({preview:URL.createObjectURL(t.target.files[0]),raw:t.target.files[0]}))},f=()=>{_(!0)},C=async()=>{await $.post(`/${h}/v1/admin/sendotp`,{name:x,email:v},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{t.data.status==201&&(r("OTP has been sent on registered email id","success"),W(!0))}).catch(t=>{console.log("error",t),r(t.response.data.message,"error")})},L=async()=>{await $.post(`/${h}/v1/admin/verifyotp`,{otp:o,email:v},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{t.data.status==201&&(r("Two Factor authentication is enabled now","success"),D(""),W(!1),c(!1),V())}).catch(t=>{console.log("error",t),r(t.response.data.message,"error")})};u.useEffect(()=>{V()},[]);const V=async()=>{await $.get(`/${h}/v1/admin/auth`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{t.data.status==201&&(w(t.data.data.fname),z(t.data.data.lname),d(t.data.data.email),m(t.data.data.mobile),A(t.data.data.profileAvatar),T(t.data.data.twofa),t.data.data.profileAvatar&&b(!0))}).catch(t=>{console.log("error",t)})},a=async()=>{var s;const t=oe(localStorage.getItem("admintoken"));await $.patch(`/${h}/v1/admin/update-profile`,{fname:x,lname:I,email:v,password:y,user_id:(s=t==null?void 0:t.data)==null?void 0:s.id,profileAvatar:j==null?void 0:j.raw},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`,"Content-Type":"multipart/form-data"}}).then(p=>{p.data.status==201&&r(p.data.message,"success")}).catch(p=>{console.log("error",p),r(p.response.data.message,"error")})},r=(t,s)=>{s=="error"?X.error(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):X.success(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},n=async()=>{await $.patch(`/${h}/v1/admin/removeprofileImage`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(t=>{t.data.status==201&&(A(""),b(!1),S({preview:"",raw:""}),r(t.data.message,"success"))}).catch(t=>{console.log("error",t),r(t.response.data.message,"error")})};return e.jsxs(e.Fragment,{children:[e.jsxs(de,{sx:{marginLeft:{md:"7%"},marginTop:"12px",fontSize:"15px",width:{md:"91%"}},children:[e.jsx(i,{className:l?"profiledarkbg":"profileLightbg",sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",padding:"10px 12px"},children:e.jsxs(i,{container:!0,children:[e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(R,{sx:{m:1,color:"black"},variant:"outlined",fullWidth:!0,children:[e.jsx("label",{className:`${l?"avatarDark":"avatarLight"}`,children:"First Name"}),e.jsx(Y,{id:"outlined-adornment-weight","aria-describedby":"outlined-weight-helper-text",placeholder:"First Name",sx:{width:"97%",border:"1px solid silver"},fullWidth:!0,value:x,className:"inputClss",onChange:t=>w(t.target.value)})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(R,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[e.jsx("label",{className:`${l?"avatarDark":"avatarLight"}`,children:"Last Name"}),e.jsx(E,{id:"outlined-adornment-weight","aria-describedby":"outlined-weight-helper-text",placeholder:"Last Name",sx:{width:"97%",border:"1px solid silver"},fullWidth:!0,value:I,onChange:t=>z(t.target.value)})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(R,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[e.jsx("label",{className:`${l?"avatarDark":"avatarLight"}`,children:"Email"}),e.jsx(E,{id:"outlined-adornment-weight","aria-describedby":"outlined-weight-helper-text",placeholder:"Email",sx:{width:"97%",border:"1px solid silver"},fullWidth:!0,value:v,onChange:t=>d(t.target.value)})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(R,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[e.jsx("label",{className:`${l?"avatarDark":"avatarLight"}`,children:"Mobile"}),e.jsx(E,{id:"outlined-adornment-weight","aria-describedby":"outlined-weight-helper-text",placeholder:"Mobile",sx:{width:"97%",border:"1px solid silver"},fullWidth:!0,value:P,onChange:t=>m(t.target.value)})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(R,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[e.jsx("label",{className:`${l?"avatarDark":"avatarLight"}`,children:"Password"}),k?e.jsx(E,{id:"outlined-adornment-weight","aria-describedby":"outlined-weight-helper-text",placeholder:"Password",sx:{width:"97%",border:"1px solid silver"},type:"password",fullWidth:!0,value:y,onChange:t=>O(t.target.value)}):e.jsx(E,{id:"outlined-adornment-weight","aria-describedby":"outlined-weight-helper-text",placeholder:"Password",sx:{width:"97%",border:"1px solid silver"},type:"password",value:"shgdjsghdhsgdj",readOnly:!0,fullWidth:!0}),!k&&e.jsx("a",{href:"#",onClick:f,style:{position:"absolute",color:`${l?"white":"black"}`,textDecoration:"none",marginTop:"40px",marginLeft:"80%"},children:"Change"})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(ce,{sx:{marginBottom:"10px"},children:[e.jsx(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:e.jsx(i,{children:e.jsx(ue,{avatar:e.jsx(pe,{sx:{bgcolor:ie[500]},"aria-label":"recipe",children:"GN"}),title:"Profile",className:`${l?"avatarDark":"avatarLight"}`})})}),e.jsxs("div",{className:"Neon Neon-theme-dragdropbox",children:[e.jsx("input",{style:{zIndex:"999",opacity:"0",width:"100%",height:"100%",background:"silver",position:"absolute",right:"0px; left: 0px",marginRight:"auto",marginLeft:"auto"},name:"files[]",id:"filer_input2",type:"file",onChange:J}),M?e.jsx(e.Fragment,{children:e.jsx(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:e.jsx(i,{children:e.jsx("img",{crossOrigin:"anonymous",src:`https://quickcash.oyefin.com/${M}`,alt:"profileImageOfUser",width:"200px",height:"200px",style:{borderRadius:"50%"}})})})}):j.preview?e.jsx("img",{src:j.preview,alt:"dummy",width:"100%",height:"100%"}):e.jsxs("div",{className:"Neon-input-dragDrop",children:["Click here to Upload Image",e.jsxs("div",{className:"Neon-input-inner",children:[e.jsx("div",{className:"Neon-input-icon",children:e.jsx("i",{className:"fa fa-file-image-o"})}),e.jsx("div",{className:"Neon-input-text"}),e.jsx("a",{className:"Neon-input-choose-btn blue",children:e.jsx(ne,{style:{cursor:"pointer"}})})]})]})]}),N&&e.jsx(e.Fragment,{children:e.jsxs(i,{sx:{display:"flex",flexDirection:"row",cursor:"pointer",color:`${l?"white":"black"}`,justifyContent:"flex-end"},children:[e.jsx(i,{children:e.jsx(te,{onClick:()=>n()})}),e.jsx(i,{onClick:()=>n(),children:"Remove Image"})]})})]})}),e.jsx(i,{item:!0,xs:12,md:12,children:e.jsx(U,{sx:{marginLeft:"12px"},onClick:()=>a(),children:"Update"})})]})}),e.jsxs(i,{className:l?"profiledarkbg":"profileLightbg",sx:{display:"none",border:"1px solid white",marginTop:"10px",flexDirection:"column",gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",padding:"10px 12px"},children:[e.jsx(Z,{className:`${l?"avatarDark":"avatarLight"}`,children:"Security Details"}),e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(i,{children:e.jsxs(Z,{className:`${l?"avatarDark":"avatarLight"}`,children:["Two-Factor Authentication (",H?"Enable":"Disable",")"]})}),!H&&e.jsx(i,{children:e.jsx(U,{onClick:G,children:"Enable"})})]})]})]}),e.jsxs(he,{open:B,onClose:F,PaperProps:{component:"form",onSubmit:t=>{t.preventDefault();const s=new FormData(t.currentTarget),K=Object.fromEntries(s.entries()).email;console.log(K),F()}},children:[e.jsx(fe,{children:"Setup Two Factor Authentication"}),e.jsxs(me,{children:[e.jsx(ge,{children:"Entering OTP will confirm your email for further verifications."}),q?e.jsxs(e.Fragment,{children:[e.jsx(ve,{value:o,onChange:D,numInputs:6,inputStyle:{width:"60px",height:"50px",borderRadius:"12px",marginTop:"10px",marginBottom:"10px"},renderSeparator:e.jsx("span",{children:"-"}),renderInput:t=>e.jsx("input",{...t})}),e.jsx(U,{onClick:()=>L(),children:"Verify OTP"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{autoFocus:!0,required:!0,margin:"dense",id:"name",name:"email",label:"Email Address",type:"email",fullWidth:!0,value:v}),e.jsx(U,{onClick:C,children:"Send OTP"})]})]}),e.jsx(xe,{children:e.jsx(se,{onClick:F,children:"Cancel"})})]})]})}export{Xe as default};
