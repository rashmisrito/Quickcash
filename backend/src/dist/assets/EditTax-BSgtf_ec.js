import{k as T,u as w,R as i,r as R,j as e}from"./index-BoluCWJx.js";import{a as f,p as D,j as S,B as j}from"./App-DmzB4KYc.js";import{d as $}from"./KeyboardBackspace-Cr5SM8dZ.js";import{d as I}from"./DoneOutlineOutlined-D-GTBQt1.js";import{T as N}from"./Toolbar-DuU3Na8Z.js";import{B as P}from"./Box-B48tCTAh.js";import{T as E}from"./Typography-DPkJNBsU.js";import{G as s}from"./Grid-CDAIVjPl.js";import{T as v}from"./TextField-BjXLReKG.js";import{R as F,a as b}from"./RadioGroup-Kb4-Xuy-.js";import{F as C}from"./FormControlLabel-CcoHAiZW.js";import{s as O}from"./styled-BE7uoR5C.js";import{B as V}from"./Button-CGTIOcYX.js";import"./createSvgIcon-DDiySQ4J.js";import"./createSvgIcon-i4Ddu0pI.js";import"./TransitionGroupContext-D5Gal4xy.js";import"./isMuiElement-Bzzx93h0.js";import"./ButtonBase-Cc0NCTY7.js";import"./FormControl-BiEJnuIY.js";import"./Select-aus-Z7PH.js";import"./Menu-BmC6YJiv.js";import"./Backdrop-BiRxOpLA.js";import"./utils-PFTex4TT.js";import"./SwitchBase-Cr2Iechv.js";import"./Stack-CPSNaoGK.js";import"./styled-C0obRrxL.js";import"./createStyled-B6TKEMzY.js";const G=O(V)(({theme:a})=>({color:a.palette.getContrastText(D[500]),backgroundColor:"#2196f3","&:hover":{backgroundColor:"#2196f3"}}));function ce(){const a=T(),n=w(),[l,d]=i.useState(""),[u,m]=i.useState(""),[c,p]=i.useState("yes"),x="api",k=t=>{p(t.target.value)};R.useEffect(()=>{y(a==null?void 0:a.id)},[a==null?void 0:a.id]);const y=async t=>{await f.get(`/${x}/v1/admin/tax/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(r=>{r.data.status=="201"&&(d(r.data.data[0].Name),p(r.data.data[0].IsDefault),m(r.data.data[0].taxvalue))}).catch(r=>{console.log("error",r)})},g=(t,r)=>{r=="error"?j.error(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):j.success(t,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},B=async t=>{var h;t.preventDefault();const r=S(localStorage.getItem("admintoken"));await f.patch(`/${x}/v1/admin/tax/update/${a==null?void 0:a.id}`,{user:(h=r==null?void 0:r.data)==null?void 0:h.id,name:l,value:u,isDefault:c},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(o=>{o.data.status=="201"&&(g(o.data.message,"success"),n("/admin/invoices/taxes"))}).catch(o=>{console.log("error",o),g(o.response.data.message,"error")})};return e.jsx(e.Fragment,{children:e.jsx(N,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{xs:"0%",md:"7%"},background:"white",width:{xs:"100%",lg:"80%"}},children:e.jsxs(P,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(E,{children:e.jsx($,{sx:{cursor:"pointer",marginBottom:"10px"},onClick:()=>n("/admin/invoices/taxes")})}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Name"}),e.jsx(v,{required:!0,id:"name",name:"name",fullWidth:!0,value:l,onChange:t=>d(t.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Tax Value"}),e.jsx(v,{required:!0,id:"value",name:"value",type:"number",fullWidth:!0,value:u,onChange:t=>m(t.target.value),sx:{border:"1px solid silver"},inputProps:{shrink:!0}})]}),e.jsxs(s,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Default:"}),e.jsxs(F,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c,onChange:k,children:[e.jsx(C,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(C,{value:"no",control:e.jsx(b,{}),label:"No"})]})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(G,{color:"primary",onClick:t=>B(t),children:[e.jsx(I,{sx:{mr:1}}),"Submit"]})})]})]})})})}export{ce as default};
