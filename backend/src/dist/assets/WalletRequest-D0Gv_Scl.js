import{f as pe,R as n,r as he,j as a}from"./index-CPyIBKv5.js";import{a as H,B as I}from"./App-CPA_Lu-d.js";import{h as O}from"./moment-Cl4UOzQZ.js";import{P as f}from"./index-CnKBBWDD.js";import{a as xe,C as q}from"./ColorButton-p_8AmmsY.js";import{d as ge}from"./MoreVert-CHNMdYMO.js";import{T as ue,a as me,d as _,b as F}from"./FirstPage-CyB0DMsa.js";import{d as V}from"./KeyboardArrowLeft-5C2p3fWB.js";import{d as Y}from"./KeyboardArrowRight-Ds7yJ1IK.js";/* empty css                                  */import{T as fe,a as je,b as j,c as h}from"./Tr-bHCce7K1.js";import{B as T}from"./Box-Cts58nYT.js";import{G as b,u as be}from"./Grid-ijiQ2gXa.js";import{T as ye}from"./TableBody-E-ctUCz8.js";import{I as m}from"./IconButton-Dq1QOsvQ.js";import{a as ve}from"./Menu-DzGOcUhD.js";import{M as D}from"./MenuItem-BOkCQE_H.js";import{D as U,a as G}from"./DialogContent-DGobNMNn.js";import{D as J}from"./DialogTitle-LBj4pwAt.js";import{B as Ce}from"./Backdrop-5VrCmbBJ.js";import{C as Se}from"./CircularProgress-CnrtTxNb.js";import{S as ke}from"./Select-Cu2oDfAu.js";import{T as $e}from"./TextField-CGe-lY_w.js";import{D as K}from"./DialogActions-CGO26BuF.js";import{s as Pe}from"./styled-D3btvjLo.js";import"./Button-mU0fsZ6C.js";import"./ButtonBase-lj8ryPQQ.js";import"./TransitionGroupContext-DpwKRQDB.js";import"./createSvgIcon-DK6HOpVs.js";import"./createSvgIcon-CJCtbkVa.js";import"./isMuiElement-CtMSz7xH.js";import"./Tablelvl2Context-CrQONfEB.js";import"./TableCell-B98GTLWK.js";import"./Toolbar--Cv9kmMg.js";import"./utils-27lUOG69.js";import"./dividerClasses-a3rAEu9c.js";import"./listItemTextClasses-DgiHFli8.js";import"./Typography-32GqnDkD.js";import"./FormControl-Cfr3bcUw.js";function Q(t){const i=be(),{count:x,page:l,rowsPerPage:r,onPageChange:d}=t,y=c=>{d(c,0)},v=c=>{d(c,l-1)},C=c=>{d(c,l+1)},o=c=>{d(c,Math.max(0,Math.ceil(x/r)-1))};return a.jsxs(T,{sx:{flexShrink:0,ml:2.5},children:[a.jsx(m,{onClick:y,disabled:l===0,"aria-label":"first page",children:i.direction==="rtl"?a.jsx(_,{}):a.jsx(F,{})}),a.jsx(m,{onClick:v,disabled:l===0,"aria-label":"previous page",children:i.direction==="rtl"?a.jsx(Y,{}):a.jsx(V,{})}),a.jsx(m,{onClick:C,disabled:l>=Math.ceil(x/r)-1,"aria-label":"next page",children:i.direction==="rtl"?a.jsx(V,{}):a.jsx(Y,{})}),a.jsx(m,{onClick:o,disabled:l>=Math.ceil(x/r)-1,"aria-label":"last page",children:i.direction==="rtl"?a.jsx(F,{}):a.jsx(_,{})})]})}Q.propTypes={count:f.number.isRequired,onPageChange:f.func.isRequired,page:f.number.isRequired,rowsPerPage:f.number.isRequired};const De=[{id:"createdAt",label:"Date",minWidth:170},{id:"username",label:"User Name",minWidth:170},{id:"email",label:"Email",minWidth:100},{id:"coin",label:"Coin",minWidth:70},{id:"status",label:"Status",minWidth:100},{id:"action",label:"Action",minWidth:120}];function Te(t,i,x,l,r,d){return{id:t,date:i,name:x,email:l,coin:r,status:d}}const Me=Pe("div")(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"right",height:"100%","& .ant-empty-img-1":{fill:t.palette.mode==="light"?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:t.palette.mode==="light"?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:t.palette.mode==="light"?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:t.palette.mode==="light"?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:t.palette.mode==="light"?"0.8":"0.08",fill:t.palette.mode==="light"?"#f5f5f5":"#fff"}}));function We(){return a.jsxs(Me,{children:[a.jsx("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:a.jsxs("g",{fill:"none",fillRule:"evenodd",children:[a.jsxs("g",{transform:"translate(24 31.67)",children:[a.jsx("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),a.jsx("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),a.jsx("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),a.jsx("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),a.jsx("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),a.jsxs("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[a.jsx("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),a.jsx("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),a.jsx(T,{sx:{mt:1},children:"No Data found"})]})}function ma(){const[t]=pe(),[i,x]=n.useState(),[l,r]=n.useState(!1),[d,y]=n.useState(!1),[v,C]=n.useState(""),[o,c]=n.useState([]),[X,Z]=n.useState(""),[M,w]=n.useState(""),W="api",ee=e=>{r(!0),Z(e)},S=()=>{r(!1)},R=()=>{y(!1),P(null)};he.useEffect(()=>{L()},[]);const z=(e,s)=>{s=="error"?I.error(e,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):I.success(e,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},L=async()=>{await H.get(`/${W}/v1/walletaddressrequest/listadmin`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(e=>{e.data.status=="201"&&x(e.data.data)}).catch(e=>{console.log("error",e)})},[ae,k]=n.useState(!1),te=async e=>{k(!0),await H.patch(`/${W}/v1/walletaddressrequest/update/${e}`,{comment:v,status:M},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(s=>{s.data.status==201&&(k(!1),z(s.data.message,"Success"),L(),r(!1))}).catch(s=>{console.log("error",s),k(!1),z(s.response.data.message,"error")})};let N=[];N=[i==null?void 0:i.map(e=>{var s,u;return Te(e==null?void 0:e._id,e==null?void 0:e.createdAt,(s=e==null?void 0:e.userDetails[0])==null?void 0:s.name,(u=e==null?void 0:e.userDetails[0])==null?void 0:u.email,e==null?void 0:e.coin,e==null?void 0:e.status)})].sort((e,s)=>e.date<s.date?-1:1);const p=N[0]||[],[$,E]=n.useState(0),[g,se]=n.useState(5),le=(e,s)=>{console.log("New Page",e),E(s)},ne=e=>{se(parseInt(e.target.value,10)),E(0)},[B,P]=n.useState(null),[ie,re]=n.useState(""),de=!!B,oe=e=>{var s=e.currentTarget.value.split("-");re(s[0]),P(e.currentTarget)},ce=()=>{P(null)};return a.jsxs(a.Fragment,{children:[a.jsx(T,{sx:{marginLeft:{md:"7%"},marginTop:{xs:"-10px",md:"12px"},fontSize:"15px",width:{md:"91%"}},children:a.jsx(b,{sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",fontWeight:"700",background:`${t?"#183153":"white"}`,color:`${t?"white":"black"}`,padding:"3px 3px"},children:a.jsxs(fe,{style:{background:`${t?"":"#F2F3FE"}`,color:`${t?"white":"black"}`},children:[a.jsx(je,{children:a.jsx(j,{className:`${t?"avatarDark":"avatarLight"}`,children:De.map(e=>a.jsx(h,{width:"220",style:{padding:"12px",background:"#8657E5",color:"white"},children:e.label},e.id))})}),a.jsxs(ye,{children:[(g>0?p==null?void 0:p.slice($*g,$*g+g):p).map(e=>{var s,u,A;return a.jsxs(j,{children:[a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:O(e==null?void 0:e.date).format("YYYY-MM-DD")}),a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:e==null?void 0:e.name}),a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:e==null?void 0:e.email}),a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:a.jsxs(b,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"},children:[a.jsx(b,{children:a.jsx("img",{loading:"lazy",style:{height:"30px",width:"30px",borderRadius:"50px"},src:`https://assets.coincap.io/assets/icons/${(s=e==null?void 0:e.coin)==null?void 0:s.replace("_TEST","").toLowerCase()}@2x.png`,alt:`${(u=e==null?void 0:e.coin)==null?void 0:u.replace("_TEST","")}`})}),a.jsx(b,{children:(A=e==null?void 0:e.coin)==null?void 0:A.replace("_TEST","")})]})}),a.jsxs(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:[(e==null?void 0:e.status)==="completed"&&a.jsx("span",{style:{border:"1px solid green",padding:"12px",borderRadius:"20px",background:`${t?"green":""}`},children:"Success"}),e.status==="cancelled"&&a.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${t?"red":""}`},children:"Cancelled"}),e.status==="declined"&&a.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${t?"red":""}`},children:"Decline"}),e.status==="pending"&&a.jsx("span",{style:{border:"1px solid orange",padding:"12px",borderRadius:"20px",background:`${t?"orange":""}`},children:"Pending"})]}),a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:(e==null?void 0:e.status)=="completed"?"Completed":a.jsxs(a.Fragment,{children:[a.jsx(m,{"aria-label":"more",value:`${e==null?void 0:e.id}-${e==null?void 0:e.status}-${e==null?void 0:e.recurring}-${e==null?void 0:e.invoice_number}`,id:`long-button${e==null?void 0:e.id}`,"aria-controls":l?`long-menu${e==null?void 0:e.id}`:void 0,"aria-expanded":l?"true":void 0,"aria-haspopup":"true",onClick:oe,children:a.jsx(ge,{})}),a.jsx(ve,{id:`long-menu${e==null?void 0:e.id}`,MenuListProps:{"aria-labelledby":`long-button${e==null?void 0:e.id}`},anchorEl:B,open:de,onClose:ce,children:a.jsx(D,{onClick:()=>ee(ie),children:a.jsx("span",{className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,children:"Update"})})},e==null?void 0:e.id)]})})]},e==null?void 0:e.date)}),(p==null?void 0:p.length)==0&&a.jsx(j,{children:a.jsx(h,{colSpan:7,children:a.jsx(We,{})})})]}),a.jsx(ue,{sx:{background:`${t?"white":""}`,color:"black"},children:a.jsx(j,{children:a.jsx(me,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:7,count:p.length,rowsPerPage:g,page:$,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:le,onRowsPerPageChange:ne,ActionsComponent:Q})})})]})})}),a.jsxs(U,{open:l,fullWidth:!0,onClose:S,children:[a.jsx(J,{className:`${t?"avatarDark":"avatarLight"}`,children:"Update Wallet Address Request"}),a.jsxs(G,{children:[a.jsx(Ce,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:ae,onClick:S,children:a.jsx(Se,{color:"inherit"})}),a.jsxs(ke,{fullWidth:!0,value:M,onChange:e=>w(e.target.value),placeholder:"Select Status",children:[a.jsx(D,{value:"completed",children:"Complete"}),a.jsx(D,{value:"declined",children:"Decline"})]}),a.jsx("hr",{}),a.jsx("label",{className:`${t?"avatarDark":"avatarLight"}`,children:"Reason"}),a.jsx($e,{autoFocus:!0,margin:"dense",id:"name",name:"email",type:"email",fullWidth:!0,variant:"standard",onChange:e=>C(e.target.value),multiline:!0})]}),a.jsxs(K,{children:[a.jsx(xe,{onClick:S,children:"Cancel"}),a.jsx(q,{type:"button",onClick:()=>te(X),children:"Save"})]})]}),a.jsxs(U,{open:d,fullWidth:!0,onClose:R,children:[a.jsx(J,{sx:{textAlign:"center"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,children:"History"}),a.jsx(G,{children:a.jsxs("table",{border:1,width:"100%",style:{borderCollapse:"collapse"},children:[a.jsxs("thead",{children:[a.jsx("th",{style:{padding:"10px"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,children:"Date"}),a.jsx("th",{style:{padding:"10px"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,children:"Status"}),a.jsx("th",{style:{padding:"10px"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,children:"Comment"})]}),a.jsxs("tbody",{children:[o==null?void 0:o.map((e,s)=>a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"10px"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,align:"center",children:O(e==null?void 0:e.date).format("MMMM Do YYYY, h:mm:ss A")}),a.jsx("td",{style:{padding:"10px"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,align:"center",children:e.status}),a.jsx("td",{style:{padding:"10px"},className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,align:"center",children:e.reason})]},s)),(o==null?void 0:o.length)==0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,align:"center",style:{padding:"10px"},children:"No history found"})})]})]})}),a.jsx(K,{children:a.jsx(q,{onClick:R,children:"Close"})})]})]})}export{ma as default};
