import{f as H,R as p,r as _,j as a}from"./index-CGCJRBXs.js";import{a as F}from"./App-XreTAmzn.js";import{h as I}from"./moment-Cl4UOzQZ.js";import{P as j}from"./index-D4i6MgDl.js";import{d as O}from"./MoreVert-wroL-zYS.js";import{T as q,a as Y,d as S,b as M}from"./FirstPage-BKQpZ07i.js";import{T as G,a as U,b,c as h}from"./Tr-DGe9hdZ0.js";import{d as R}from"./KeyboardArrowLeft-i5DtCEUm.js";import{d as T}from"./KeyboardArrowRight-DTwXVoMT.js";/* empty css                                  */import{B as k}from"./Box-BfZ9aPM0.js";import{S as K}from"./Select-hHeL8oeK.js";import{M as y}from"./MenuItem-DT3WvV_t.js";import{G as J,u as Q}from"./Grid-CN4_8jt6.js";import{T as X}from"./TableBody-kXsojO-5.js";import{I as m}from"./IconButton-DdTwUNw0.js";import{a as Z}from"./Menu-nsvb1963.js";import{s as w}from"./styled-VyqOG4MM.js";import"./createSvgIcon-DkNK3VsP.js";import"./createSvgIcon-CWJBf_dQ.js";import"./TransitionGroupContext-DCu7Y_zK.js";import"./isMuiElement-C_WCXon2.js";import"./ButtonBase--q0F1ziJ.js";import"./Tablelvl2Context-B2jmvGEu.js";import"./TableCell-BSK8M-MP.js";import"./Toolbar-m-EyFJSu.js";import"./dividerClasses-CL_qDVcm.js";import"./listItemTextClasses-BWrrQlVX.js";import"./Backdrop-CfdoqMb9.js";import"./utils-vkrW-C7n.js";function z(t){const l=Q(),{count:c,page:s,rowsPerPage:r,onPageChange:x}=t,$=i=>{x(i,0)},f=i=>{x(i,s-1)},n=i=>{x(i,s+1)},g=i=>{x(i,Math.max(0,Math.ceil(c/r)-1))};return a.jsxs(k,{sx:{flexShrink:0,ml:2.5},children:[a.jsx(m,{onClick:$,disabled:s===0,"aria-label":"first page",children:l.direction==="rtl"?a.jsx(S,{}):a.jsx(M,{})}),a.jsx(m,{onClick:f,disabled:s===0,"aria-label":"previous page",children:l.direction==="rtl"?a.jsx(T,{}):a.jsx(R,{})}),a.jsx(m,{onClick:n,disabled:s>=Math.ceil(c/r)-1,"aria-label":"next page",children:l.direction==="rtl"?a.jsx(R,{}):a.jsx(T,{})}),a.jsx(m,{onClick:g,disabled:s>=Math.ceil(c/r)-1,"aria-label":"last page",children:l.direction==="rtl"?a.jsx(M,{}):a.jsx(S,{})})]})}z.propTypes={count:j.number.isRequired,onPageChange:j.func.isRequired,page:j.number.isRequired,rowsPerPage:j.number.isRequired};const ee=[{id:"date",label:"Date",minWidth:170},{id:"basecurrency",label:"Username",minWidth:170},{id:"currentprice",label:"Email",minWidth:100},{id:"buyerfee",label:"Status",minWidth:100},{id:"action",label:"Action",minWidth:120}];function ae(t,l,c,s,r){return{id:t,date:l,username:c,email:s,status:r}}const te=w("div")(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"right",height:"100%","& .ant-empty-img-1":{fill:t.palette.mode==="light"?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:t.palette.mode==="light"?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:t.palette.mode==="light"?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:t.palette.mode==="light"?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:t.palette.mode==="light"?"0.8":"0.08",fill:t.palette.mode==="light"?"#f5f5f5":"#fff"}}));function se(){return a.jsxs(te,{children:[a.jsx("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:a.jsxs("g",{fill:"none",fillRule:"evenodd",children:[a.jsxs("g",{transform:"translate(24 31.67)",children:[a.jsx("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),a.jsx("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),a.jsx("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),a.jsx("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),a.jsx("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),a.jsxs("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[a.jsx("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),a.jsx("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),a.jsx(k,{sx:{mt:1},children:"No Data found"})]})}function Ve(){const[t]=H(),[l,c]=p.useState(),[s,r]=p.useState("all"),x="api";_.useEffect(()=>{$(s)},[s]);const $=async e=>{const d=e=="all"?"":e;await F.get(`/${x}/v1/kyc/list?status=${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(o=>{o.data.status=="201"&&c(o.data.data)}).catch(o=>{console.log("error",o)})};let f=[];f=[l==null?void 0:l.map(e=>{var d,o;return ae(e==null?void 0:e._id,e==null?void 0:e.createdAt,(d=e==null?void 0:e.userDetails[0])==null?void 0:d.name,(o=e==null?void 0:e.userDetails[0])==null?void 0:o.email,e==null?void 0:e.status)})].sort((e,d)=>e.date<d.date?-1:1);const n=f[0]||[],[g,i]=p.useState(0),[u,B]=p.useState(5),D=(e,d)=>{console.log("New Page",e),i(d)},W=e=>{B(parseInt(e.target.value,10)),i(0)},[P,le]=p.useState(!1),[v,C]=p.useState(null),[L,V]=p.useState(""),A=!!v,E=e=>{var d=e.currentTarget.value.split("-");V(d[0]),C(e.currentTarget)},N=()=>{C(null)};return a.jsx(a.Fragment,{children:a.jsxs(k,{sx:{marginLeft:{md:"7%"},marginTop:{xs:"-12px",md:"12px"},fontSize:"15px",width:{md:"91%"}},children:[a.jsxs(K,{fullWidth:!0,sx:{width:"200px",marginBottom:"10px",border:`${t?"1px solid white":""}`},value:s,onChange:e=>r(e.target.value),children:[a.jsx(y,{value:"all",sx:{color:`${t?"white":"black"}`},children:"All Status"}),a.jsx(y,{value:"pending",sx:{color:`${t?"white":"black"}`},children:"Pending"}),a.jsx(y,{value:"completed",sx:{color:`${t?"white":"black"}`},children:"Completed"})]}),a.jsx(J,{sx:{display:"flex",flexDirection:"column",gap:"20px",borderRadius:".5rem",fontWeight:"700",background:`${t?"#183153":"white"}`,color:`${t?"white":"black"}`,padding:"3px 3px"},children:a.jsxs(G,{style:{background:`${t?"":"#F2F3FE"}`,color:`${t?"white":"black"}`},children:[a.jsx(U,{children:a.jsx(b,{className:`${t?"avatarDark":"avatarLight"}`,children:ee.map(e=>a.jsx(h,{width:"220",style:{padding:"12px",background:"#8657E5",color:"white"},children:e.label},e.id))})}),a.jsxs(X,{children:[(u>0?n==null?void 0:n.slice(g*u,g*u+u):n).map(e=>a.jsxs(b,{children:[a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:I(e==null?void 0:e.date).format("YYYY-MM-DD")}),a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:e==null?void 0:e.username}),a.jsx(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:e==null?void 0:e.email}),a.jsxs(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:[(e==null?void 0:e.status)==="completed"&&a.jsx("span",{style:{border:"1px solid green",padding:"12px",borderRadius:"20px",background:`${t?"green":""}`},children:"Success"}),(e==null?void 0:e.status)==="cancelled"&&a.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${t?"red":""}`},children:"Cancelled"}),(e==null?void 0:e.status)==="declined"&&a.jsx("span",{style:{border:"1px solid red",padding:"12px",borderRadius:"20px",background:`${t?"red":""}`},children:"Decline"}),((e==null?void 0:e.status)==="pending"||(e==null?void 0:e.status)=="Pending")&&a.jsx("span",{style:{border:"1px solid orange",padding:"12px",borderRadius:"20px",background:`${t?"orange":""}`},children:"Pending"})]}),a.jsxs(h,{style:{padding:"12px",fontSize:"14px",fontWeight:"400"},scope:"row",children:[a.jsx(m,{"aria-label":"more",value:`${e==null?void 0:e.id}-${e==null?void 0:e.status}-${e==null?void 0:e.recurring}-${e==null?void 0:e.invoice_number}`,id:`long-button${e==null?void 0:e.id}`,"aria-controls":P?`long-menu${e==null?void 0:e.id}`:void 0,"aria-expanded":P?"true":void 0,"aria-haspopup":"true",onClick:E,sx:{color:`${t?"white":"black"}`},children:a.jsx(O,{})}),a.jsx(Z,{id:`long-menu${e==null?void 0:e.id}`,MenuListProps:{"aria-labelledby":`long-button${e==null?void 0:e.id}`},anchorEl:v,open:A,onClose:N,children:a.jsx(y,{children:a.jsx("a",{href:`kyc-details/${L}`,children:a.jsx("span",{className:`${t?"avatarDarkSecondaryExtra":"avatarLight"}`,children:"View"})})})},e==null?void 0:e.id)]})]},e==null?void 0:e.date)),(n==null?void 0:n.length)==0&&a.jsx(b,{children:a.jsx(h,{colSpan:5,children:a.jsx(se,{})})})]}),a.jsx(q,{sx:{background:`${t?"white":""}`,color:"black"},children:a.jsx(b,{children:a.jsx(Y,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:5,count:n.length,rowsPerPage:u,page:g,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:D,onRowsPerPageChange:W,ActionsComponent:z})})})]})})]})})}export{Ve as default};
