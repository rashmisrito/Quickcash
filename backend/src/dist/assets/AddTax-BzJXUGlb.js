import{f as y,u as B,R as p,j as e}from"./index-CPyIBKv5.js";import{j as R,a as S,B as g}from"./App-CPA_Lu-d.js";import{C as D}from"./ColorButton-p_8AmmsY.js";import{d as O}from"./KeyboardBackspace-BvSdOZ-y.js";import{d as V}from"./DoneOutlineOutlined-D9BE6eI6.js";import{u as F}from"./useValidation-B4G4aiSA.js";import{T as N}from"./Toolbar--Cv9kmMg.js";import{B as P}from"./Box-Cts58nYT.js";import{T as G}from"./Typography-32GqnDkD.js";import{G as l}from"./Grid-ijiQ2gXa.js";import{T as f}from"./TextField-CGe-lY_w.js";import{R as H,a as b}from"./RadioGroup-bqYRvF_U.js";import{F as j}from"./FormControlLabel-CUO6YTeR.js";import"./styled-D3btvjLo.js";import"./Button-mU0fsZ6C.js";import"./ButtonBase-lj8ryPQQ.js";import"./TransitionGroupContext-DpwKRQDB.js";import"./createSvgIcon-DK6HOpVs.js";import"./createSvgIcon-CJCtbkVa.js";import"./isMuiElement-CtMSz7xH.js";import"./FormControl-Cfr3bcUw.js";import"./Select-Cu2oDfAu.js";import"./Menu-DzGOcUhD.js";import"./Backdrop-5VrCmbBJ.js";import"./utils-27lUOG69.js";import"./SwitchBase-BFWfvGgQ.js";import"./Stack-BWb2LFok.js";import"./styled-CqkSbG4E.js";import"./createStyled-BMiToX-t.js";function ce(){const{errors:n,validate:o}=F(),[t]=y(),d=B(),[m,v]=p.useState(""),[u,w]=p.useState(""),C="api",[c,T]=p.useState("yes"),k=r=>{T(r.target.value)},x=(r,s)=>{s=="error"?g.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):g.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},$=async r=>{var s;if(r.preventDefault(),o("name",m&&!o("value",u)))o("name",m)&&o("name",m),o("value",u)&&o("value",u);else{const i=R(localStorage.getItem("token"));await S.post(`/${C}/v1/tax/add`,{user:(s=i==null?void 0:i.data)==null?void 0:s.id,name:m,value:u,isDefault:c},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{a.data.status=="201"&&(x(a.data.message,"success"),d("/settings"))}).catch(a=>{console.log("error",a),x(a.response.data.message,"error")})}},h=r=>{const{name:s,value:i}=r.target,a=o(s,i);console.log(a)};return e.jsx(e.Fragment,{children:e.jsx(N,{sx:{display:"flex",flexDirection:"column",marginTop:"10px",borderRadius:".5rem",p:"10px",background:{xs:`${t?"#183153":"white"}`,sm:`${t?"":"white"}`},border:{xs:`${t?"1px solid white":"white"}`,sm:`${t?"1px solid white":"white"}`},width:{xs:"100%",lg:"80%"}},children:e.jsxs(P,{sx:{marginTop:"0%",borderRadius:".5rem"},children:[e.jsx(G,{children:e.jsx(O,{sx:{cursor:"pointer",color:`${t?"white":"black"}`,marginBottom:"10px"},onClick:()=>d("/settings")})}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Name"}),e.jsx(f,{required:!0,id:"name",name:"name",fullWidth:!0,sx:{border:`${t?"1px solid white":"1px solid black"}`},onChange:r=>v(r.target.value),onBlur:h,error:!!n.name,helperText:n.name,inputProps:{shrink:!0}})]}),e.jsxs(l,{item:!0,xs:12,sm:12,children:[e.jsx("label",{children:"Tax Rate"}),e.jsx(f,{required:!0,id:"value",name:"value",type:"number",fullWidth:!0,sx:{border:`${t?"1px solid white":"1px solid black"}`},onChange:r=>w(r.target.value),onBlur:h,error:!!n.value,helperText:n.value,inputProps:{shrink:!0}})]}),e.jsxs(l,{item:!0,xs:12,sm:12,sx:{marginLeft:"24px",marginTop:"12px",background:`${t?"white":""}`,color:"black"},children:[e.jsx("label",{children:"Default:"}),e.jsxs(H,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c,onChange:k,children:[e.jsx(j,{value:"yes",control:e.jsx(b,{}),label:"Yes"}),e.jsx(j,{value:"no",control:e.jsx(b,{}),label:"No"})]})]}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(D,{color:"primary",onClick:r=>$(r),children:[e.jsx(V,{sx:{mr:1}}),"Submit"]})})]})]})})})}export{ce as default};
