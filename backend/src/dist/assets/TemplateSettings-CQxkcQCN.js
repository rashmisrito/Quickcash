import{R as c,f as D,r as C,j as a}from"./index-DWLfyV7i.js";import{j as v,a as f,p as w,B as k}from"./App-DrtOZD42.js";import{Z as L,T,R as $,L as I,D as N,N as B,a as R,P as H,I as M,M as O,H as P}from"./Istanbul-9QhP0BzM.js";import{B as d}from"./Box-DVjlkC-E.js";import{G as s}from"./Grid-C5WZ5yPx.js";import{S as _}from"./Select-B6J5njAN.js";import{M as i}from"./MenuItem-D268QOBH.js";import{s as K}from"./styled-UvVi3zCA.js";import{B as Y}from"./Button-BwJo4BJ8.js";import"./Menu-qMneCLiP.js";import"./Backdrop-BFkPp487.js";import"./utils-6TVLZy64.js";import"./TransitionGroupContext-CPZXwPBU.js";import"./createSvgIcon-Bxm2ewFX.js";import"./ButtonBase-DuAtvFfD.js";import"./dividerClasses-B0chXB0b.js";import"./listItemTextClasses-C7VXh0Y-.js";const z=K(Y)(({theme:t})=>({color:t.palette.getContrastText(w[500]),backgroundColor:"#2196f3","&:hover":{backgroundColor:"#2196f3"}}));function na(){const[t,x]=c.useState("black"),[n]=D(),[E,y]=c.useState([]),[p,m]=c.useState(!1),[r,h]=c.useState("Default"),u="api";C.useEffect(()=>{var o;if(localStorage.getItem("admintoken")){const e=v(localStorage.getItem("admintoken"));b((o=e==null?void 0:e.data)==null?void 0:o.id)}},[]);const b=async o=>{await f.get(`/${u}/v1/admin/templateSetting/list/${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(e=>{e.data.status=="201"&&(y(e.data.data),x(e.data.data[0].color),h(e.data.data[0].invoice_country))}).catch(e=>{console.log("error",e)})},g=(o,e)=>{e=="error"?k.error(o,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):k.success(o,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},S=async o=>{var j;o.preventDefault();const e=v(localStorage.getItem("admintoken"));await f.post(`/${u}/v1/admin/templateSetting/add`,{user:(j=e==null?void 0:e.data)==null?void 0:j.id,invoice_country:r,color:t,templateContent:""},{headers:{Authorization:`Bearer ${localStorage.getItem("admintoken")}`}}).then(l=>{l.data.status=="201"&&g(l.data.message,"success")}).catch(l=>{console.log("error",l),g(l.response.data.message,"error")})};return a.jsx(a.Fragment,{children:a.jsx(d,{sx:{marginLeft:{md:"7%"},marginTop:"12px",fontSize:"15px",width:{md:"83%"}},children:a.jsxs(s,{sx:{display:{md:"flex"},flexDirection:{sx:"column",md:"row"},gap:"10px"},children:[a.jsxs(s,{sx:{display:"flex",order:"1",flexDirection:"column",width:{md:"30%",marginBottom:"10px"},gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:"white",padding:"10px 12px"},children:[a.jsxs(s,{sx:{width:"100%"},children:[a.jsx("div",{children:"Invoice Template"}),a.jsxs(_,{value:r,name:"status",onChange:o=>h(o.target.value),sx:{border:"1px solid silver"},fullWidth:!0,children:[a.jsx(i,{value:"Default",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Default"})}),a.jsx(i,{value:"New_York",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"New York"})}),a.jsx(i,{value:"Toronto",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Toronto"})}),a.jsx(i,{value:"Rio",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Rio"})}),a.jsx(i,{value:"London",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"London"})}),a.jsx(i,{value:"Istanbul",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Istanbul"})}),a.jsx(i,{value:"Mumbai",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Mumbai"})}),a.jsx(i,{value:"Hong_Kong",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Hong Kong"})}),a.jsx(i,{value:"Tokyo",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Tokyo"})}),a.jsx(i,{value:"Paris",children:a.jsx("span",{className:`${n?"avatarDarkSecondary":"avatarLight"}`,children:"Paris"})})]})]}),a.jsxs(s,{children:[a.jsx("label",{children:"Color: "}),a.jsxs(s,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[a.jsx(s,{children:a.jsx("div",{onClick:()=>m(!0),style:{background:`${t}`,height:"30px",width:"30px",cursor:"pointer",marginTop:"1%",marginBottom:"1%"}})}),a.jsx(s,{children:p&&a.jsx("div",{onClick:()=>m(!1),style:{background:"black",color:"white",padding:"5px",borderRadius:"10px",cursor:"pointer"},children:"X"})})]}),p&&a.jsx(L,{color:t,onChange:x})]}),a.jsx(s,{children:a.jsx(z,{onClick:o=>S(o),children:"Save"})})]}),a.jsxs(s,{sx:{display:"flex",order:"2",flexDirection:"column",width:{md:"70%"},minHeight:{xs:"50vh",md:"auto"},gap:"20px",borderRadius:".5rem",color:"black",fontWeight:"700",background:"white",padding:"10px 12px"},children:[a.jsx("div",{children:"Invoice Template"}),a.jsx(s,{children:a.jsx(s,{children:a.jsx(d,{sx:{overflow:"auto"},children:a.jsxs(d,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:[r=="Toronto"&&a.jsx(T,{}),r=="Rio"&&a.jsx($,{color:t}),r=="London"&&a.jsx(I,{color:t}),r=="Default"&&a.jsx(N,{color:t}),r=="New_York"&&a.jsx(B,{color:t}),r=="Tokyo"&&a.jsx(R,{color:t}),r=="Paris"&&a.jsx(H,{color:t}),r=="Istanbul"&&a.jsx(M,{color:t}),r=="Mumbai"&&a.jsx(O,{color:t}),r=="Hong_Kong"&&a.jsx(P,{color:t})]})})})})]})]})})})}export{na as default};
