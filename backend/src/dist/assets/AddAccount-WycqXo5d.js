import{u as g,f,R as j,j as e}from"./index-C7uDDRzi.js";import{j as b,a as C,B as l}from"./App-DlbqwX0_.js";import{u as v}from"./useCurrency-CKzl8o4T.js";import{C as y}from"./ColorButton-ek59cplY.js";import{d as k}from"./KeyboardBackspace-CMiK9GPp.js";import{d as w}from"./DoneOutlineOutlined-CbPyxpe1.js";import{B as m}from"./Box-DuB8RHF0.js";import{T as B}from"./Toolbar-penBkzvF.js";import{T as S}from"./Typography-Bqz4o4Sm.js";import{G as i}from"./Grid-BSdJsjIu.js";import{S as $}from"./Select-DVBf2x5a.js";import{M as A}from"./MenuItem-BEeRBPo2.js";import"./styled-DpNLFuLo.js";import"./Button-bVqxygml.js";import"./ButtonBase-Cb7r6f8i.js";import"./TransitionGroupContext-BuEQjJx-.js";import"./createSvgIcon-D3EdHNeB.js";import"./createSvgIcon-CvjaZCwn.js";import"./isMuiElement-MrDrvzNs.js";import"./Menu-DLoDL8Vj.js";import"./Backdrop-92jRYuW8.js";import"./utils-D1Bwf65I.js";import"./dividerClasses-Bc8akPt1.js";import"./listItemTextClasses-BL6EH0EV.js";function Z(){const n=g(),{currencyList:a}=v(),[s]=f(),u="api",[p,x]=j.useState(),c=(r,o)=>{o=="error"?l.error(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):l.success(r,{position:"top-center",autoClose:1900,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},h=async r=>{var d;const o=b(localStorage.getItem("token"));r.preventDefault(),await C.post(`/${u}/v1/account/add`,{user:(d=o==null?void 0:o.data)==null?void 0:d.id,currency:p,amount:0},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{t.data.status=="201"&&(c(t.data.message,"success"),localStorage.setItem("backtoaccount","true"),n("/home"))}).catch(t=>{console.log("error",t),c(t.response.data.message,"error")})};return e.jsxs(e.Fragment,{children:[e.jsx(m,{sx:{marginTop:"0%",borderRadius:".5rem",marginLeft:{md:"7%"},width:{xs:"100%",md:"87%"}},children:e.jsx(k,{className:`${s?"avatarDark":"avatarLight"}`,onClick:()=>n("/accounts"),sx:{cursor:"pointer"}})}),e.jsx(B,{sx:{display:"flex",flexDirection:"column",borderRadius:".5rem",p:"10px",marginLeft:{md:"7%"},border:`${s?"1px solid white":""}`,background:`${s?"":"white"}`,width:{lg:"80%"}},children:e.jsxs(m,{sx:{marginTop:"0%",borderRadius:".5rem",width:{xs:"100%",md:"87%"}},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,children:"Add Account"}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsxs(i,{item:!0,xs:12,children:[e.jsx("label",{children:"Currency"}),e.jsx($,{sx:{border:`${s?"1px solid white":""}`},onChange:r=>x(r.target.value),fullWidth:!0,children:a==null?void 0:a.map((r,o)=>e.jsx(A,{value:r==null?void 0:r.base_code,children:r==null?void 0:r.base_code},o))})]}),e.jsx(i,{item:!0,xs:12,children:e.jsxs(y,{color:"primary",onClick:r=>h(r),children:[e.jsx(w,{sx:{mr:1}}),"Submit"]})})]})]})})]})}export{Z as default};
